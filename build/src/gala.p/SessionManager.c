/* SessionManager.c generated by valac 0.56.17, the Vala compiler
 * generated from SessionManager.vala, do not modify */

/**/
/*  Copyright (C) 2018 Adam Bie≈Ñkowski*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/
/* Reference code by the Solus Project:*/
/* https://github.com/solus-project/budgie-desktop/blob/master/src/wm/shim.vala*/

#include <glib-object.h>
#include <gio/gio.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>

#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_WINGPANEL_END_SESSION_DIALOG (gala_wingpanel_end_session_dialog_get_type ())
#define GALA_WINGPANEL_END_SESSION_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, GalaWingpanelEndSessionDialog))
#define GALA_IS_WINGPANEL_END_SESSION_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINGPANEL_END_SESSION_DIALOG))
#define GALA_WINGPANEL_END_SESSION_DIALOG_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, GalaWingpanelEndSessionDialogIface))

typedef struct _GalaWingpanelEndSessionDialog GalaWingpanelEndSessionDialog;
typedef struct _GalaWingpanelEndSessionDialogIface GalaWingpanelEndSessionDialogIface;

#define GALA_TYPE_WINGPANEL_END_SESSION_DIALOG_PROXY (gala_wingpanel_end_session_dialog_proxy_get_type ())
enum  {
	GALA_WINGPANEL_END_SESSION_DIALOG_CONFIRMED_LOGOUT_SIGNAL,
	GALA_WINGPANEL_END_SESSION_DIALOG_CONFIRMED_REBOOT_SIGNAL,
	GALA_WINGPANEL_END_SESSION_DIALOG_CONFIRMED_SHUTDOWN_SIGNAL,
	GALA_WINGPANEL_END_SESSION_DIALOG_CANCELED_SIGNAL,
	GALA_WINGPANEL_END_SESSION_DIALOG_CLOSED_SIGNAL,
	GALA_WINGPANEL_END_SESSION_DIALOG_NUM_SIGNALS
};
static guint gala_wingpanel_end_session_dialog_signals[GALA_WINGPANEL_END_SESSION_DIALOG_NUM_SIGNALS] = {0};
typedef GDBusProxy GalaWingpanelEndSessionDialogProxy;
typedef GDBusProxyClass GalaWingpanelEndSessionDialogProxyClass;

#define GALA_TYPE_SESSION_MANAGER (gala_session_manager_get_type ())
#define GALA_SESSION_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SESSION_MANAGER, GalaSessionManager))
#define GALA_SESSION_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SESSION_MANAGER, GalaSessionManagerClass))
#define GALA_IS_SESSION_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SESSION_MANAGER))
#define GALA_IS_SESSION_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SESSION_MANAGER))
#define GALA_SESSION_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SESSION_MANAGER, GalaSessionManagerClass))

typedef struct _GalaSessionManager GalaSessionManager;
typedef struct _GalaSessionManagerClass GalaSessionManagerClass;
typedef struct _GalaSessionManagerPrivate GalaSessionManagerPrivate;
enum  {
	GALA_SESSION_MANAGER_0_PROPERTY,
	GALA_SESSION_MANAGER_NUM_PROPERTIES
};
static GParamSpec* gala_session_manager_properties[GALA_SESSION_MANAGER_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
enum  {
	GALA_SESSION_MANAGER_CONFIRMED_LOGOUT_SIGNAL,
	GALA_SESSION_MANAGER_CONFIRMED_REBOOT_SIGNAL,
	GALA_SESSION_MANAGER_CONFIRMED_SHUTDOWN_SIGNAL,
	GALA_SESSION_MANAGER_CANCELED_SIGNAL,
	GALA_SESSION_MANAGER_CLOSED_SIGNAL,
	GALA_SESSION_MANAGER_NUM_SIGNALS
};
static guint gala_session_manager_signals[GALA_SESSION_MANAGER_NUM_SIGNALS] = {0};

struct _GalaWingpanelEndSessionDialogIface {
	GTypeInterface parent_iface;
	void (*open) (GalaWingpanelEndSessionDialog* self, guint type, guint timestamp, guint open_length, char** inhibiters, gint inhibiters_length1, GError** error);
};

struct _GalaSessionManager {
	GObject parent_instance;
	GalaSessionManagerPrivate * priv;
};

struct _GalaSessionManagerClass {
	GObjectClass parent_class;
};

struct _GalaSessionManagerPrivate {
	GalaWingpanelEndSessionDialog* proxy;
};

static gint GalaSessionManager_private_offset;
static gpointer gala_session_manager_parent_class = NULL;
static GalaSessionManager* gala_session_manager_instance;
static GalaSessionManager* gala_session_manager_instance = NULL;

VALA_EXTERN GType gala_wingpanel_end_session_dialog_proxy_get_type (void) G_GNUC_CONST ;
VALA_EXTERN guint gala_wingpanel_end_session_dialog_register_object (void* object,
                                                         GDBusConnection* connection,
                                                         const gchar* path,
                                                         GError** error);
VALA_EXTERN GType gala_wingpanel_end_session_dialog_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWingpanelEndSessionDialog, g_object_unref)
VALA_EXTERN void gala_wingpanel_end_session_dialog_open (GalaWingpanelEndSessionDialog* self,
                                             guint type,
                                             guint timestamp,
                                             guint open_length,
                                             char** inhibiters,
                                             gint inhibiters_length1,
                                             GError** error);
static GType gala_wingpanel_end_session_dialog_get_type_once (void);
static void gala_wingpanel_end_session_dialog_proxy_g_signal (GDBusProxy* proxy,
                                                       const gchar* sender_name,
                                                       const gchar* signal_name,
                                                       GVariant* parameters);
static void _dbus_handle_gala_wingpanel_end_session_dialog_confirmed_logout (GalaWingpanelEndSessionDialog* self,
                                                                      GVariant* parameters);
static void _dbus_handle_gala_wingpanel_end_session_dialog_confirmed_reboot (GalaWingpanelEndSessionDialog* self,
                                                                      GVariant* parameters);
static void _dbus_handle_gala_wingpanel_end_session_dialog_confirmed_shutdown (GalaWingpanelEndSessionDialog* self,
                                                                        GVariant* parameters);
static void _dbus_handle_gala_wingpanel_end_session_dialog_canceled (GalaWingpanelEndSessionDialog* self,
                                                              GVariant* parameters);
static void _dbus_handle_gala_wingpanel_end_session_dialog_closed (GalaWingpanelEndSessionDialog* self,
                                                            GVariant* parameters);
static void gala_wingpanel_end_session_dialog_proxy_open (GalaWingpanelEndSessionDialog* self,
                                                   guint type,
                                                   guint timestamp,
                                                   guint open_length,
                                                   char** inhibiters,
                                                   gint inhibiters_length1,
                                                   GError** error);
static void gala_wingpanel_end_session_dialog_proxy_gala_wingpanel_end_session_dialog_interface_init (GalaWingpanelEndSessionDialogIface* iface);
static void _dbus_gala_wingpanel_end_session_dialog_open (GalaWingpanelEndSessionDialog* self,
                                                   GVariant* _parameters_,
                                                   GDBusMethodInvocation* invocation);
static void gala_wingpanel_end_session_dialog_dbus_interface_method_call (GDBusConnection* connection,
                                                                   const gchar* sender,
                                                                   const gchar* object_path,
                                                                   const gchar* interface_name,
                                                                   const gchar* method_name,
                                                                   GVariant* parameters,
                                                                   GDBusMethodInvocation* invocation,
                                                                   gpointer user_data);
static GVariant* gala_wingpanel_end_session_dialog_dbus_interface_get_property (GDBusConnection* connection,
                                                                         const gchar* sender,
                                                                         const gchar* object_path,
                                                                         const gchar* interface_name,
                                                                         const gchar* property_name,
                                                                         GError** error,
                                                                         gpointer user_data);
static gboolean gala_wingpanel_end_session_dialog_dbus_interface_set_property (GDBusConnection* connection,
                                                                        const gchar* sender,
                                                                        const gchar* object_path,
                                                                        const gchar* interface_name,
                                                                        const gchar* property_name,
                                                                        GVariant* value,
                                                                        GError** error,
                                                                        gpointer user_data);
static void _dbus_gala_wingpanel_end_session_dialog_confirmed_logout (GObject* _sender,
                                                               gpointer* _data);
static void _dbus_gala_wingpanel_end_session_dialog_confirmed_reboot (GObject* _sender,
                                                               gpointer* _data);
static void _dbus_gala_wingpanel_end_session_dialog_confirmed_shutdown (GObject* _sender,
                                                                 gpointer* _data);
static void _dbus_gala_wingpanel_end_session_dialog_canceled (GObject* _sender,
                                                       gpointer* _data);
static void _dbus_gala_wingpanel_end_session_dialog_closed (GObject* _sender,
                                                     gpointer* _data);
static void _gala_wingpanel_end_session_dialog_unregister_object (gpointer user_data);
VALA_EXTERN GType gala_session_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaSessionManager, g_object_unref)
VALA_EXTERN guint gala_session_manager_register_object (void* object,
                                            GDBusConnection* connection,
                                            const gchar* path,
                                            GError** error);
VALA_EXTERN GalaSessionManager* gala_session_manager_init (void);
static GalaSessionManager* gala_session_manager_new (void);
static GalaSessionManager* gala_session_manager_construct (GType object_type);
static void gala_session_manager_proxy_appeared (GalaSessionManager* self);
static void _gala_session_manager_proxy_appeared_gbus_name_appeared_callback (GDBusConnection* connection,
                                                                       const gchar* name,
                                                                       const gchar* name_owner,
                                                                       gpointer self);
static void gala_session_manager_proxy_vanished (GalaSessionManager* self);
static void _gala_session_manager_proxy_vanished_gbus_name_vanished_callback (GDBusConnection* connection,
                                                                       const gchar* name,
                                                                       gpointer self);
static void gala_session_manager_get_proxy_cb (GalaSessionManager* self,
                                        GObject* o,
                                        GAsyncResult* res);
static void __lambda135_ (GalaSessionManager* self);
static void ___lambda135__gala_wingpanel_end_session_dialog_confirmed_logout (GalaWingpanelEndSessionDialog* _sender,
                                                                       gpointer self);
static void __lambda136_ (GalaSessionManager* self);
static void ___lambda136__gala_wingpanel_end_session_dialog_confirmed_reboot (GalaWingpanelEndSessionDialog* _sender,
                                                                       gpointer self);
static void __lambda137_ (GalaSessionManager* self);
static void ___lambda137__gala_wingpanel_end_session_dialog_confirmed_shutdown (GalaWingpanelEndSessionDialog* _sender,
                                                                         gpointer self);
static void __lambda138_ (GalaSessionManager* self);
static void ___lambda138__gala_wingpanel_end_session_dialog_canceled (GalaWingpanelEndSessionDialog* _sender,
                                                               gpointer self);
static void __lambda139_ (GalaSessionManager* self);
static void ___lambda139__gala_wingpanel_end_session_dialog_closed (GalaWingpanelEndSessionDialog* _sender,
                                                             gpointer self);
static void _gala_session_manager_get_proxy_cb_gasync_ready_callback (GObject* source_object,
                                                               GAsyncResult* res,
                                                               gpointer self);
VALA_EXTERN void gala_session_manager_open (GalaSessionManager* self,
                                guint type,
                                guint timestamp,
                                guint open_length,
                                char** inhibiters,
                                gint inhibiters_length1,
                                GError** error);
static void gala_session_manager_finalize (GObject * obj);
static GType gala_session_manager_get_type_once (void);
static void _dbus_gala_session_manager_open (GalaSessionManager* self,
                                      GVariant* _parameters_,
                                      GDBusMethodInvocation* invocation);
static void gala_session_manager_dbus_interface_method_call (GDBusConnection* connection,
                                                      const gchar* sender,
                                                      const gchar* object_path,
                                                      const gchar* interface_name,
                                                      const gchar* method_name,
                                                      GVariant* parameters,
                                                      GDBusMethodInvocation* invocation,
                                                      gpointer user_data);
static GVariant* gala_session_manager_dbus_interface_get_property (GDBusConnection* connection,
                                                            const gchar* sender,
                                                            const gchar* object_path,
                                                            const gchar* interface_name,
                                                            const gchar* property_name,
                                                            GError** error,
                                                            gpointer user_data);
static gboolean gala_session_manager_dbus_interface_set_property (GDBusConnection* connection,
                                                           const gchar* sender,
                                                           const gchar* object_path,
                                                           const gchar* interface_name,
                                                           const gchar* property_name,
                                                           GVariant* value,
                                                           GError** error,
                                                           gpointer user_data);
static void _dbus_gala_session_manager_confirmed_logout (GObject* _sender,
                                                  gpointer* _data);
static void _dbus_gala_session_manager_confirmed_reboot (GObject* _sender,
                                                  gpointer* _data);
static void _dbus_gala_session_manager_confirmed_shutdown (GObject* _sender,
                                                    gpointer* _data);
static void _dbus_gala_session_manager_canceled (GObject* _sender,
                                          gpointer* _data);
static void _dbus_gala_session_manager_closed (GObject* _sender,
                                        gpointer* _data);
static void _gala_session_manager_unregister_object (gpointer user_data);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);

static const GDBusArgInfo _gala_wingpanel_end_session_dialog_dbus_arg_info_open_type = {-1, "type", "u", NULL};
static const GDBusArgInfo _gala_wingpanel_end_session_dialog_dbus_arg_info_open_timestamp = {-1, "timestamp", "u", NULL};
static const GDBusArgInfo _gala_wingpanel_end_session_dialog_dbus_arg_info_open_open_length = {-1, "open_length", "u", NULL};
static const GDBusArgInfo _gala_wingpanel_end_session_dialog_dbus_arg_info_open_inhibiters = {-1, "inhibiters", "ao", NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_open_in[] = {&_gala_wingpanel_end_session_dialog_dbus_arg_info_open_type, &_gala_wingpanel_end_session_dialog_dbus_arg_info_open_timestamp, &_gala_wingpanel_end_session_dialog_dbus_arg_info_open_open_length, &_gala_wingpanel_end_session_dialog_dbus_arg_info_open_inhibiters, NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_open_out[] = {NULL};
static const GDBusMethodInfo _gala_wingpanel_end_session_dialog_dbus_method_info_open = {-1, "Open", (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_open_in), (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_open_out), NULL};
static const GDBusMethodInfo * const _gala_wingpanel_end_session_dialog_dbus_method_info[] = {&_gala_wingpanel_end_session_dialog_dbus_method_info_open, NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_confirmed_logout[] = {NULL};
static const GDBusSignalInfo _gala_wingpanel_end_session_dialog_dbus_signal_info_confirmed_logout = {-1, "ConfirmedLogout", (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_confirmed_logout), NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_confirmed_reboot[] = {NULL};
static const GDBusSignalInfo _gala_wingpanel_end_session_dialog_dbus_signal_info_confirmed_reboot = {-1, "ConfirmedReboot", (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_confirmed_reboot), NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_confirmed_shutdown[] = {NULL};
static const GDBusSignalInfo _gala_wingpanel_end_session_dialog_dbus_signal_info_confirmed_shutdown = {-1, "ConfirmedShutdown", (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_confirmed_shutdown), NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_canceled[] = {NULL};
static const GDBusSignalInfo _gala_wingpanel_end_session_dialog_dbus_signal_info_canceled = {-1, "Canceled", (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_canceled), NULL};
static const GDBusArgInfo * const _gala_wingpanel_end_session_dialog_dbus_arg_info_closed[] = {NULL};
static const GDBusSignalInfo _gala_wingpanel_end_session_dialog_dbus_signal_info_closed = {-1, "Closed", (GDBusArgInfo **) (&_gala_wingpanel_end_session_dialog_dbus_arg_info_closed), NULL};
static const GDBusSignalInfo * const _gala_wingpanel_end_session_dialog_dbus_signal_info[] = {&_gala_wingpanel_end_session_dialog_dbus_signal_info_confirmed_logout, &_gala_wingpanel_end_session_dialog_dbus_signal_info_confirmed_reboot, &_gala_wingpanel_end_session_dialog_dbus_signal_info_confirmed_shutdown, &_gala_wingpanel_end_session_dialog_dbus_signal_info_canceled, &_gala_wingpanel_end_session_dialog_dbus_signal_info_closed, NULL};
static const GDBusPropertyInfo * const _gala_wingpanel_end_session_dialog_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _gala_wingpanel_end_session_dialog_dbus_interface_info = {-1, "io.elementary.wingpanel.session.EndSessionDialog", (GDBusMethodInfo **) (&_gala_wingpanel_end_session_dialog_dbus_method_info), (GDBusSignalInfo **) (&_gala_wingpanel_end_session_dialog_dbus_signal_info), (GDBusPropertyInfo **) (&_gala_wingpanel_end_session_dialog_dbus_property_info), NULL};
static const GDBusInterfaceVTable _gala_wingpanel_end_session_dialog_dbus_interface_vtable = {gala_wingpanel_end_session_dialog_dbus_interface_method_call, gala_wingpanel_end_session_dialog_dbus_interface_get_property, gala_wingpanel_end_session_dialog_dbus_interface_set_property};
static const GDBusArgInfo _gala_session_manager_dbus_arg_info_open_type = {-1, "type", "u", NULL};
static const GDBusArgInfo _gala_session_manager_dbus_arg_info_open_timestamp = {-1, "timestamp", "u", NULL};
static const GDBusArgInfo _gala_session_manager_dbus_arg_info_open_open_length = {-1, "open_length", "u", NULL};
static const GDBusArgInfo _gala_session_manager_dbus_arg_info_open_inhibiters = {-1, "inhibiters", "ao", NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_open_in[] = {&_gala_session_manager_dbus_arg_info_open_type, &_gala_session_manager_dbus_arg_info_open_timestamp, &_gala_session_manager_dbus_arg_info_open_open_length, &_gala_session_manager_dbus_arg_info_open_inhibiters, NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_open_out[] = {NULL};
static const GDBusMethodInfo _gala_session_manager_dbus_method_info_open = {-1, "Open", (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_open_in), (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_open_out), NULL};
static const GDBusMethodInfo * const _gala_session_manager_dbus_method_info[] = {&_gala_session_manager_dbus_method_info_open, NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_confirmed_logout[] = {NULL};
static const GDBusSignalInfo _gala_session_manager_dbus_signal_info_confirmed_logout = {-1, "ConfirmedLogout", (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_confirmed_logout), NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_confirmed_reboot[] = {NULL};
static const GDBusSignalInfo _gala_session_manager_dbus_signal_info_confirmed_reboot = {-1, "ConfirmedReboot", (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_confirmed_reboot), NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_confirmed_shutdown[] = {NULL};
static const GDBusSignalInfo _gala_session_manager_dbus_signal_info_confirmed_shutdown = {-1, "ConfirmedShutdown", (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_confirmed_shutdown), NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_canceled[] = {NULL};
static const GDBusSignalInfo _gala_session_manager_dbus_signal_info_canceled = {-1, "Canceled", (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_canceled), NULL};
static const GDBusArgInfo * const _gala_session_manager_dbus_arg_info_closed[] = {NULL};
static const GDBusSignalInfo _gala_session_manager_dbus_signal_info_closed = {-1, "Closed", (GDBusArgInfo **) (&_gala_session_manager_dbus_arg_info_closed), NULL};
static const GDBusSignalInfo * const _gala_session_manager_dbus_signal_info[] = {&_gala_session_manager_dbus_signal_info_confirmed_logout, &_gala_session_manager_dbus_signal_info_confirmed_reboot, &_gala_session_manager_dbus_signal_info_confirmed_shutdown, &_gala_session_manager_dbus_signal_info_canceled, &_gala_session_manager_dbus_signal_info_closed, NULL};
static const GDBusPropertyInfo * const _gala_session_manager_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _gala_session_manager_dbus_interface_info = {-1, "org.gnome.SessionManager.EndSessionDialog", (GDBusMethodInfo **) (&_gala_session_manager_dbus_method_info), (GDBusSignalInfo **) (&_gala_session_manager_dbus_signal_info), (GDBusPropertyInfo **) (&_gala_session_manager_dbus_property_info), NULL};
static const GDBusInterfaceVTable _gala_session_manager_dbus_interface_vtable = {gala_session_manager_dbus_interface_method_call, gala_session_manager_dbus_interface_get_property, gala_session_manager_dbus_interface_set_property};

void
gala_wingpanel_end_session_dialog_open (GalaWingpanelEndSessionDialog* self,
                                        guint type,
                                        guint timestamp,
                                        guint open_length,
                                        char** inhibiters,
                                        gint inhibiters_length1,
                                        GError** error)
{
	GalaWingpanelEndSessionDialogIface* _iface_;
#line 30 "../src/SessionManager.vala"
	g_return_if_fail (self != NULL);
#line 30 "../src/SessionManager.vala"
	_iface_ = GALA_WINGPANEL_END_SESSION_DIALOG_GET_INTERFACE (self);
#line 30 "../src/SessionManager.vala"
	if (_iface_->open) {
#line 30 "../src/SessionManager.vala"
		_iface_->open (self, type, timestamp, open_length, inhibiters, inhibiters_length1, error);
#line 348 "SessionManager.c"
	}
}

static void
gala_wingpanel_end_session_dialog_default_init (GalaWingpanelEndSessionDialogIface * iface,
                                                gpointer iface_data)
{
#line 23 "../src/SessionManager.vala"
	gala_wingpanel_end_session_dialog_signals[GALA_WINGPANEL_END_SESSION_DIALOG_CONFIRMED_LOGOUT_SIGNAL] = g_signal_new ("confirmed-logout", GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 23 "../src/SessionManager.vala"
	gala_wingpanel_end_session_dialog_signals[GALA_WINGPANEL_END_SESSION_DIALOG_CONFIRMED_REBOOT_SIGNAL] = g_signal_new ("confirmed-reboot", GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 23 "../src/SessionManager.vala"
	gala_wingpanel_end_session_dialog_signals[GALA_WINGPANEL_END_SESSION_DIALOG_CONFIRMED_SHUTDOWN_SIGNAL] = g_signal_new ("confirmed-shutdown", GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 23 "../src/SessionManager.vala"
	gala_wingpanel_end_session_dialog_signals[GALA_WINGPANEL_END_SESSION_DIALOG_CANCELED_SIGNAL] = g_signal_new ("canceled", GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 23 "../src/SessionManager.vala"
	gala_wingpanel_end_session_dialog_signals[GALA_WINGPANEL_END_SESSION_DIALOG_CLOSED_SIGNAL] = g_signal_new ("closed", GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 366 "SessionManager.c"
}

 G_GNUC_NO_INLINE static GType
gala_wingpanel_end_session_dialog_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaWingpanelEndSessionDialogIface), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_wingpanel_end_session_dialog_default_init, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
	GType gala_wingpanel_end_session_dialog_type_id;
	gala_wingpanel_end_session_dialog_type_id = g_type_register_static (G_TYPE_INTERFACE, "GalaWingpanelEndSessionDialog", &g_define_type_info, 0);
	g_type_interface_add_prerequisite (gala_wingpanel_end_session_dialog_type_id, G_TYPE_OBJECT);
	g_type_set_qdata (gala_wingpanel_end_session_dialog_type_id, g_quark_from_static_string ("vala-dbus-proxy-type"), (void*) gala_wingpanel_end_session_dialog_proxy_get_type);
	g_type_set_qdata (gala_wingpanel_end_session_dialog_type_id, g_quark_from_static_string ("vala-dbus-interface-name"), "io.elementary.wingpanel.session.EndSessionDialog");
	g_type_set_qdata (gala_wingpanel_end_session_dialog_type_id, g_quark_from_static_string ("vala-dbus-interface-info"), (void*) (&_gala_wingpanel_end_session_dialog_dbus_interface_info));
	g_type_set_qdata (gala_wingpanel_end_session_dialog_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) gala_wingpanel_end_session_dialog_register_object);
	return gala_wingpanel_end_session_dialog_type_id;
}

GType
gala_wingpanel_end_session_dialog_get_type (void)
{
	static gsize gala_wingpanel_end_session_dialog_type_id__once = 0;
	if (g_once_init_enter (&gala_wingpanel_end_session_dialog_type_id__once)) {
		GType gala_wingpanel_end_session_dialog_type_id;
		gala_wingpanel_end_session_dialog_type_id = gala_wingpanel_end_session_dialog_get_type_once ();
		g_once_init_leave (&gala_wingpanel_end_session_dialog_type_id__once, gala_wingpanel_end_session_dialog_type_id);
	}
	return gala_wingpanel_end_session_dialog_type_id__once;
}

G_DEFINE_TYPE_EXTENDED (GalaWingpanelEndSessionDialogProxy, gala_wingpanel_end_session_dialog_proxy, G_TYPE_DBUS_PROXY, 0, G_IMPLEMENT_INTERFACE (GALA_TYPE_WINGPANEL_END_SESSION_DIALOG, gala_wingpanel_end_session_dialog_proxy_gala_wingpanel_end_session_dialog_interface_init) )
static void
gala_wingpanel_end_session_dialog_proxy_class_init (GalaWingpanelEndSessionDialogProxyClass* klass)
{
#line 21 "../src/PluginManager.vala"
	G_DBUS_PROXY_CLASS (klass)->g_signal = gala_wingpanel_end_session_dialog_proxy_g_signal;
#line 401 "SessionManager.c"
}

static void
_dbus_handle_gala_wingpanel_end_session_dialog_confirmed_logout (GalaWingpanelEndSessionDialog* self,
                                                                 GVariant* parameters)
{
	GVariantIter _arguments_iter;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, parameters);
#line 21 "../src/PluginManager.vala"
	g_signal_emit_by_name (self, "confirmed-logout");
#line 413 "SessionManager.c"
}

static void
_dbus_handle_gala_wingpanel_end_session_dialog_confirmed_reboot (GalaWingpanelEndSessionDialog* self,
                                                                 GVariant* parameters)
{
	GVariantIter _arguments_iter;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, parameters);
#line 21 "../src/PluginManager.vala"
	g_signal_emit_by_name (self, "confirmed-reboot");
#line 425 "SessionManager.c"
}

static void
_dbus_handle_gala_wingpanel_end_session_dialog_confirmed_shutdown (GalaWingpanelEndSessionDialog* self,
                                                                   GVariant* parameters)
{
	GVariantIter _arguments_iter;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, parameters);
#line 21 "../src/PluginManager.vala"
	g_signal_emit_by_name (self, "confirmed-shutdown");
#line 437 "SessionManager.c"
}

static void
_dbus_handle_gala_wingpanel_end_session_dialog_canceled (GalaWingpanelEndSessionDialog* self,
                                                         GVariant* parameters)
{
	GVariantIter _arguments_iter;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, parameters);
#line 21 "../src/PluginManager.vala"
	g_signal_emit_by_name (self, "canceled");
#line 449 "SessionManager.c"
}

static void
_dbus_handle_gala_wingpanel_end_session_dialog_closed (GalaWingpanelEndSessionDialog* self,
                                                       GVariant* parameters)
{
	GVariantIter _arguments_iter;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, parameters);
#line 21 "../src/PluginManager.vala"
	g_signal_emit_by_name (self, "closed");
#line 461 "SessionManager.c"
}

static void
gala_wingpanel_end_session_dialog_proxy_g_signal (GDBusProxy* proxy,
                                                  const gchar* sender_name,
                                                  const gchar* signal_name,
                                                  GVariant* parameters)
{
#line 21 "../src/PluginManager.vala"
	if (strcmp (signal_name, "ConfirmedLogout") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_handle_gala_wingpanel_end_session_dialog_confirmed_logout ((GalaWingpanelEndSessionDialog*) proxy, parameters);
#line 474 "SessionManager.c"
	} else if (strcmp (signal_name, "ConfirmedReboot") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_handle_gala_wingpanel_end_session_dialog_confirmed_reboot ((GalaWingpanelEndSessionDialog*) proxy, parameters);
#line 478 "SessionManager.c"
	} else if (strcmp (signal_name, "ConfirmedShutdown") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_handle_gala_wingpanel_end_session_dialog_confirmed_shutdown ((GalaWingpanelEndSessionDialog*) proxy, parameters);
#line 482 "SessionManager.c"
	} else if (strcmp (signal_name, "Canceled") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_handle_gala_wingpanel_end_session_dialog_canceled ((GalaWingpanelEndSessionDialog*) proxy, parameters);
#line 486 "SessionManager.c"
	} else if (strcmp (signal_name, "Closed") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_handle_gala_wingpanel_end_session_dialog_closed ((GalaWingpanelEndSessionDialog*) proxy, parameters);
#line 490 "SessionManager.c"
	}
}

static void
gala_wingpanel_end_session_dialog_proxy_init (GalaWingpanelEndSessionDialogProxy* self)
{
#line 21 "../src/PluginManager.vala"
	g_dbus_proxy_set_interface_info (G_DBUS_PROXY (self), (GDBusInterfaceInfo *) (&_gala_wingpanel_end_session_dialog_dbus_interface_info));
#line 499 "SessionManager.c"
}

static void
gala_wingpanel_end_session_dialog_proxy_open (GalaWingpanelEndSessionDialog* self,
                                              guint type,
                                              guint timestamp,
                                              guint open_length,
                                              char** inhibiters,
                                              gint inhibiters_length1,
                                              GError** error)
{
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	char** _tmp124_;
	GVariantBuilder _tmp125_;
	gint _tmp126_;
	GDBusMessage *_reply_message;
#line 21 "../src/PluginManager.vala"
	G_DBUS_ERROR;
#line 21 "../src/PluginManager.vala"
	G_IO_ERROR;
#line 21 "../src/PluginManager.vala"
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "io.elementary.wingpanel.session.EndSessionDialog", "Open");
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (type));
#line 21 "../src/PluginManager.vala"
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (timestamp));
#line 21 "../src/PluginManager.vala"
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (open_length));
#line 21 "../src/PluginManager.vala"
	_tmp124_ = inhibiters;
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_tmp125_, G_VARIANT_TYPE ("ao"));
#line 21 "../src/PluginManager.vala"
	for (_tmp126_ = 0; _tmp126_ < inhibiters_length1; _tmp126_++) {
#line 21 "../src/PluginManager.vala"
		g_variant_builder_add_value (&_tmp125_, g_variant_new_object_path (*_tmp124_));
#line 21 "../src/PluginManager.vala"
		_tmp124_++;
#line 542 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	g_variant_builder_add_value (&_arguments_builder, g_variant_builder_end (&_tmp125_));
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_message_set_body (_message, _arguments);
#line 21 "../src/PluginManager.vala"
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
#line 21 "../src/PluginManager.vala"
	g_object_unref (_message);
#line 21 "../src/PluginManager.vala"
	if (!_reply_message) {
#line 21 "../src/PluginManager.vala"
		return;
#line 558 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	if (g_dbus_message_to_gerror (_reply_message, error)) {
#line 21 "../src/PluginManager.vala"
		g_object_unref (_reply_message);
#line 21 "../src/PluginManager.vala"
		return;
#line 566 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	g_object_unref (_reply_message);
#line 570 "SessionManager.c"
}

static void
gala_wingpanel_end_session_dialog_proxy_gala_wingpanel_end_session_dialog_interface_init (GalaWingpanelEndSessionDialogIface* iface)
{
#line 21 "../src/PluginManager.vala"
	iface->open = gala_wingpanel_end_session_dialog_proxy_open;
#line 578 "SessionManager.c"
}

static void
_dbus_gala_wingpanel_end_session_dialog_open (GalaWingpanelEndSessionDialog* self,
                                              GVariant* _parameters_,
                                              GDBusMethodInvocation* invocation)
{
	GError* error = NULL;
	GVariantIter _arguments_iter;
	guint type = 0U;
	GVariant* _tmp127_;
	guint timestamp = 0U;
	GVariant* _tmp128_;
	guint open_length = 0U;
	GVariant* _tmp129_;
	char** inhibiters = NULL;
	gint inhibiters_length1 = 0;
	GVariant* _tmp130_;
	char** _tmp131_;
	gint _tmp131__length;
	gint _tmp131__size;
	gint _tmp131__length1;
	GVariantIter _tmp132_;
	GVariant* _tmp133_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, _parameters_);
#line 21 "../src/PluginManager.vala"
	_tmp127_ = g_variant_iter_next_value (&_arguments_iter);
#line 21 "../src/PluginManager.vala"
	type = g_variant_get_uint32 (_tmp127_);
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp127_);
#line 21 "../src/PluginManager.vala"
	_tmp128_ = g_variant_iter_next_value (&_arguments_iter);
#line 21 "../src/PluginManager.vala"
	timestamp = g_variant_get_uint32 (_tmp128_);
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp128_);
#line 21 "../src/PluginManager.vala"
	_tmp129_ = g_variant_iter_next_value (&_arguments_iter);
#line 21 "../src/PluginManager.vala"
	open_length = g_variant_get_uint32 (_tmp129_);
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp129_);
#line 21 "../src/PluginManager.vala"
	_tmp130_ = g_variant_iter_next_value (&_arguments_iter);
#line 628 "SessionManager.c"
	_tmp131_ = g_new (char*, 5);
	_tmp131__length = 0;
	_tmp131__size = 4;
	_tmp131__length1 = 0;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_tmp132_, _tmp130_);
#line 21 "../src/PluginManager.vala"
	for (; (_tmp133_ = g_variant_iter_next_value (&_tmp132_)) != NULL; _tmp131__length1++) {
#line 21 "../src/PluginManager.vala"
		if (_tmp131__size == _tmp131__length) {
#line 21 "../src/PluginManager.vala"
			_tmp131__size = 2 * _tmp131__size;
#line 21 "../src/PluginManager.vala"
			_tmp131_ = g_renew (char*, _tmp131_, _tmp131__size + 1);
#line 643 "SessionManager.c"
		}
#line 21 "../src/PluginManager.vala"
		_tmp131_[_tmp131__length++] = g_variant_dup_string (_tmp133_, NULL);
#line 21 "../src/PluginManager.vala"
		g_variant_unref (_tmp133_);
#line 649 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	inhibiters_length1 = _tmp131__length1;
#line 21 "../src/PluginManager.vala"
	_tmp131_[_tmp131__length] = NULL;
#line 21 "../src/PluginManager.vala"
	inhibiters = _tmp131_;
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp130_);
#line 21 "../src/PluginManager.vala"
	gala_wingpanel_end_session_dialog_open (self, type, timestamp, open_length, inhibiters, inhibiters_length1, &error);
#line 21 "../src/PluginManager.vala"
	if (error) {
#line 21 "../src/PluginManager.vala"
		g_dbus_method_invocation_take_error (invocation, error);
#line 665 "SessionManager.c"
		goto _error;
	}
#line 21 "../src/PluginManager.vala"
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_reply = g_variant_builder_end (&_reply_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_message_set_body (_reply_message, _reply);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
#line 21 "../src/PluginManager.vala"
	g_object_unref (invocation);
#line 21 "../src/PluginManager.vala"
	g_object_unref (_reply_message);
#line 682 "SessionManager.c"
	_error:
#line 21 "../src/PluginManager.vala"
	inhibiters = (_vala_array_free (inhibiters, inhibiters_length1, (GDestroyNotify) g_free), NULL);
#line 686 "SessionManager.c"
	;
}

static void
gala_wingpanel_end_session_dialog_dbus_interface_method_call (GDBusConnection* connection,
                                                              const gchar* sender,
                                                              const gchar* object_path,
                                                              const gchar* interface_name,
                                                              const gchar* method_name,
                                                              GVariant* parameters,
                                                              GDBusMethodInvocation* invocation,
                                                              gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
#line 21 "../src/PluginManager.vala"
	if (strcmp (method_name, "Open") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_gala_wingpanel_end_session_dialog_open (object, parameters, invocation);
#line 708 "SessionManager.c"
	} else {
#line 21 "../src/PluginManager.vala"
		g_object_unref (invocation);
#line 712 "SessionManager.c"
	}
}

static GVariant*
gala_wingpanel_end_session_dialog_dbus_interface_get_property (GDBusConnection* connection,
                                                               const gchar* sender,
                                                               const gchar* object_path,
                                                               const gchar* interface_name,
                                                               const gchar* property_name,
                                                               GError** error,
                                                               gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
#line 21 "../src/PluginManager.vala"
	return NULL;
#line 731 "SessionManager.c"
}

static gboolean
gala_wingpanel_end_session_dialog_dbus_interface_set_property (GDBusConnection* connection,
                                                               const gchar* sender,
                                                               const gchar* object_path,
                                                               const gchar* interface_name,
                                                               const gchar* property_name,
                                                               GVariant* value,
                                                               GError** error,
                                                               gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
#line 21 "../src/PluginManager.vala"
	return FALSE;
#line 750 "SessionManager.c"
}

static void
_dbus_gala_wingpanel_end_session_dialog_confirmed_logout (GObject* _sender,
                                                          gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "io.elementary.wingpanel.session.EndSessionDialog", "ConfirmedLogout", _arguments, NULL);
#line 769 "SessionManager.c"
}

static void
_dbus_gala_wingpanel_end_session_dialog_confirmed_reboot (GObject* _sender,
                                                          gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "io.elementary.wingpanel.session.EndSessionDialog", "ConfirmedReboot", _arguments, NULL);
#line 788 "SessionManager.c"
}

static void
_dbus_gala_wingpanel_end_session_dialog_confirmed_shutdown (GObject* _sender,
                                                            gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "io.elementary.wingpanel.session.EndSessionDialog", "ConfirmedShutdown", _arguments, NULL);
#line 807 "SessionManager.c"
}

static void
_dbus_gala_wingpanel_end_session_dialog_canceled (GObject* _sender,
                                                  gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "io.elementary.wingpanel.session.EndSessionDialog", "Canceled", _arguments, NULL);
#line 826 "SessionManager.c"
}

static void
_dbus_gala_wingpanel_end_session_dialog_closed (GObject* _sender,
                                                gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "io.elementary.wingpanel.session.EndSessionDialog", "Closed", _arguments, NULL);
#line 845 "SessionManager.c"
}

guint
gala_wingpanel_end_session_dialog_register_object (gpointer object,
                                                   GDBusConnection* connection,
                                                   const gchar* path,
                                                   GError** error)
{
	guint result;
	gpointer *data;
#line 21 "../src/PluginManager.vala"
	data = g_new (gpointer, 3);
#line 21 "../src/PluginManager.vala"
	data[0] = g_object_ref (object);
#line 21 "../src/PluginManager.vala"
	data[1] = g_object_ref (connection);
#line 21 "../src/PluginManager.vala"
	data[2] = g_strdup (path);
#line 21 "../src/PluginManager.vala"
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_gala_wingpanel_end_session_dialog_dbus_interface_info), &_gala_wingpanel_end_session_dialog_dbus_interface_vtable, data, _gala_wingpanel_end_session_dialog_unregister_object, error);
#line 21 "../src/PluginManager.vala"
	if (!result) {
#line 21 "../src/PluginManager.vala"
		return 0;
#line 870 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "confirmed-logout", (GCallback) _dbus_gala_wingpanel_end_session_dialog_confirmed_logout, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "confirmed-reboot", (GCallback) _dbus_gala_wingpanel_end_session_dialog_confirmed_reboot, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "confirmed-shutdown", (GCallback) _dbus_gala_wingpanel_end_session_dialog_confirmed_shutdown, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "canceled", (GCallback) _dbus_gala_wingpanel_end_session_dialog_canceled, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "closed", (GCallback) _dbus_gala_wingpanel_end_session_dialog_closed, data);
#line 21 "../src/PluginManager.vala"
	return result;
#line 884 "SessionManager.c"
}

static void
_gala_wingpanel_end_session_dialog_unregister_object (gpointer user_data)
{
	gpointer* data;
	data = user_data;
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_wingpanel_end_session_dialog_confirmed_logout, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_wingpanel_end_session_dialog_confirmed_reboot, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_wingpanel_end_session_dialog_confirmed_shutdown, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_wingpanel_end_session_dialog_canceled, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_wingpanel_end_session_dialog_closed, data);
#line 21 "../src/PluginManager.vala"
	g_object_unref (data[0]);
#line 21 "../src/PluginManager.vala"
	g_object_unref (data[1]);
#line 21 "../src/PluginManager.vala"
	g_free (data[2]);
#line 21 "../src/PluginManager.vala"
	g_free (data);
#line 910 "SessionManager.c"
}

static inline gpointer
gala_session_manager_get_instance_private (GalaSessionManager* self)
{
	return G_STRUCT_MEMBER_P (self, GalaSessionManager_private_offset);
}

GalaSessionManager*
gala_session_manager_init (void)
{
	GalaSessionManager* _tmp0_;
	GalaSessionManager* _tmp2_;
	GalaSessionManager* result;
#line 39 "../src/SessionManager.vala"
	_tmp0_ = gala_session_manager_instance;
#line 39 "../src/SessionManager.vala"
	if (_tmp0_ == NULL) {
#line 929 "SessionManager.c"
		GalaSessionManager* _tmp1_;
#line 40 "../src/SessionManager.vala"
		_tmp1_ = gala_session_manager_new ();
#line 40 "../src/SessionManager.vala"
		_g_object_unref0 (gala_session_manager_instance);
#line 40 "../src/SessionManager.vala"
		gala_session_manager_instance = _tmp1_;
#line 937 "SessionManager.c"
	}
#line 43 "../src/SessionManager.vala"
	_tmp2_ = gala_session_manager_instance;
#line 43 "../src/SessionManager.vala"
	result = _tmp2_;
#line 43 "../src/SessionManager.vala"
	return result;
#line 945 "SessionManager.c"
}

static void
_gala_session_manager_proxy_appeared_gbus_name_appeared_callback (GDBusConnection* connection,
                                                                  const gchar* name,
                                                                  const gchar* name_owner,
                                                                  gpointer self)
{
#line 55 "../src/SessionManager.vala"
	gala_session_manager_proxy_appeared ((GalaSessionManager*) self);
#line 956 "SessionManager.c"
}

static void
_gala_session_manager_proxy_vanished_gbus_name_vanished_callback (GDBusConnection* connection,
                                                                  const gchar* name,
                                                                  gpointer self)
{
#line 55 "../src/SessionManager.vala"
	gala_session_manager_proxy_vanished ((GalaSessionManager*) self);
#line 966 "SessionManager.c"
}

static GalaSessionManager*
gala_session_manager_construct (GType object_type)
{
	GalaSessionManager * self = NULL;
#line 54 "../src/SessionManager.vala"
	self = (GalaSessionManager*) g_object_new (object_type, NULL);
#line 55 "../src/SessionManager.vala"
	g_bus_watch_name_with_closures (G_BUS_TYPE_SESSION, "io.elementary.wingpanel.session.EndSessionDialog", G_BUS_NAME_WATCHER_FLAGS_NONE, (GClosure*) ((_gala_session_manager_proxy_appeared_gbus_name_appeared_callback == NULL) ? NULL : g_cclosure_new ((GCallback) _gala_session_manager_proxy_appeared_gbus_name_appeared_callback, g_object_ref (self), (GClosureNotify) g_object_unref)), (GClosure*) ((_gala_session_manager_proxy_vanished_gbus_name_vanished_callback == NULL) ? NULL : g_cclosure_new ((GCallback) _gala_session_manager_proxy_vanished_gbus_name_vanished_callback, g_object_ref (self), (GClosureNotify) g_object_unref)));
#line 54 "../src/SessionManager.vala"
	return self;
#line 979 "SessionManager.c"
}

static GalaSessionManager*
gala_session_manager_new (void)
{
#line 54 "../src/SessionManager.vala"
	return gala_session_manager_construct (GALA_TYPE_SESSION_MANAGER);
#line 987 "SessionManager.c"
}

static void
__lambda135_ (GalaSessionManager* self)
{
#line 67 "../src/SessionManager.vala"
	g_signal_emit (self, gala_session_manager_signals[GALA_SESSION_MANAGER_CONFIRMED_LOGOUT_SIGNAL], 0);
#line 995 "SessionManager.c"
}

static void
___lambda135__gala_wingpanel_end_session_dialog_confirmed_logout (GalaWingpanelEndSessionDialog* _sender,
                                                                  gpointer self)
{
#line 67 "../src/SessionManager.vala"
	__lambda135_ ((GalaSessionManager*) self);
#line 1004 "SessionManager.c"
}

static void
__lambda136_ (GalaSessionManager* self)
{
#line 68 "../src/SessionManager.vala"
	g_signal_emit (self, gala_session_manager_signals[GALA_SESSION_MANAGER_CONFIRMED_REBOOT_SIGNAL], 0);
#line 1012 "SessionManager.c"
}

static void
___lambda136__gala_wingpanel_end_session_dialog_confirmed_reboot (GalaWingpanelEndSessionDialog* _sender,
                                                                  gpointer self)
{
#line 68 "../src/SessionManager.vala"
	__lambda136_ ((GalaSessionManager*) self);
#line 1021 "SessionManager.c"
}

static void
__lambda137_ (GalaSessionManager* self)
{
#line 69 "../src/SessionManager.vala"
	g_signal_emit (self, gala_session_manager_signals[GALA_SESSION_MANAGER_CONFIRMED_SHUTDOWN_SIGNAL], 0);
#line 1029 "SessionManager.c"
}

static void
___lambda137__gala_wingpanel_end_session_dialog_confirmed_shutdown (GalaWingpanelEndSessionDialog* _sender,
                                                                    gpointer self)
{
#line 69 "../src/SessionManager.vala"
	__lambda137_ ((GalaSessionManager*) self);
#line 1038 "SessionManager.c"
}

static void
__lambda138_ (GalaSessionManager* self)
{
#line 70 "../src/SessionManager.vala"
	g_signal_emit (self, gala_session_manager_signals[GALA_SESSION_MANAGER_CANCELED_SIGNAL], 0);
#line 1046 "SessionManager.c"
}

static void
___lambda138__gala_wingpanel_end_session_dialog_canceled (GalaWingpanelEndSessionDialog* _sender,
                                                          gpointer self)
{
#line 70 "../src/SessionManager.vala"
	__lambda138_ ((GalaSessionManager*) self);
#line 1055 "SessionManager.c"
}

static void
__lambda139_ (GalaSessionManager* self)
{
#line 71 "../src/SessionManager.vala"
	g_signal_emit (self, gala_session_manager_signals[GALA_SESSION_MANAGER_CLOSED_SIGNAL], 0);
#line 1063 "SessionManager.c"
}

static void
___lambda139__gala_wingpanel_end_session_dialog_closed (GalaWingpanelEndSessionDialog* _sender,
                                                        gpointer self)
{
#line 71 "../src/SessionManager.vala"
	__lambda139_ ((GalaSessionManager*) self);
#line 1072 "SessionManager.c"
}

static void
gala_session_manager_get_proxy_cb (GalaSessionManager* self,
                                   GObject* o,
                                   GAsyncResult* res)
{
	GalaWingpanelEndSessionDialog* _tmp6_;
	GalaWingpanelEndSessionDialog* _tmp7_;
	GalaWingpanelEndSessionDialog* _tmp8_;
	GalaWingpanelEndSessionDialog* _tmp9_;
	GalaWingpanelEndSessionDialog* _tmp10_;
	GError* _inner_error0_ = NULL;
#line 59 "../src/SessionManager.vala"
	g_return_if_fail (self != NULL);
#line 1088 "SessionManager.c"
	{
		GalaWingpanelEndSessionDialog* _tmp0_ = NULL;
		GalaWingpanelEndSessionDialog* _tmp1_;
		GalaWingpanelEndSessionDialog* _tmp2_;
		GalaWingpanelEndSessionDialog* _tmp3_;
#line 61 "../src/SessionManager.vala"
		_tmp1_ = g_async_result_get_source_object (res);
#line 61 "../src/SessionManager.vala"
		_tmp2_ = (GalaWingpanelEndSessionDialog*) g_async_initable_new_finish ((GAsyncInitable *) _tmp1_, res, &_inner_error0_);
#line 61 "../src/SessionManager.vala"
		g_object_unref (_tmp1_);
#line 61 "../src/SessionManager.vala"
		_tmp0_ = (GalaWingpanelEndSessionDialog*) _tmp2_;
#line 61 "../src/SessionManager.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1104 "SessionManager.c"
			goto __catch0_g_error;
		}
#line 61 "../src/SessionManager.vala"
		_tmp3_ = _tmp0_;
#line 61 "../src/SessionManager.vala"
		_tmp0_ = NULL;
#line 61 "../src/SessionManager.vala"
		_g_object_unref0 (self->priv->proxy);
#line 61 "../src/SessionManager.vala"
		self->priv->proxy = _tmp3_;
#line 60 "../src/SessionManager.vala"
		_g_object_unref0 (_tmp0_);
#line 1117 "SessionManager.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp4_;
		const gchar* _tmp5_;
#line 60 "../src/SessionManager.vala"
		e = _inner_error0_;
#line 60 "../src/SessionManager.vala"
		_inner_error0_ = NULL;
#line 63 "../src/SessionManager.vala"
		_tmp4_ = e;
#line 63 "../src/SessionManager.vala"
		_tmp5_ = _tmp4_->message;
#line 63 "../src/SessionManager.vala"
		g_warning ("SessionManager.vala:63: Could not connect to io.elementary.wingpanel.s" \
"ession.EndSessionDialog proxy: %s", _tmp5_);
#line 64 "../src/SessionManager.vala"
		_g_error_free0 (e);
#line 64 "../src/SessionManager.vala"
		return;
#line 1139 "SessionManager.c"
	}
	__finally0:
#line 60 "../src/SessionManager.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 60 "../src/SessionManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 60 "../src/SessionManager.vala"
		g_clear_error (&_inner_error0_);
#line 60 "../src/SessionManager.vala"
		return;
#line 1150 "SessionManager.c"
	}
#line 67 "../src/SessionManager.vala"
	_tmp6_ = self->priv->proxy;
#line 67 "../src/SessionManager.vala"
	g_signal_connect_object (_tmp6_, "confirmed-logout", (GCallback) ___lambda135__gala_wingpanel_end_session_dialog_confirmed_logout, self, 0);
#line 68 "../src/SessionManager.vala"
	_tmp7_ = self->priv->proxy;
#line 68 "../src/SessionManager.vala"
	g_signal_connect_object (_tmp7_, "confirmed-reboot", (GCallback) ___lambda136__gala_wingpanel_end_session_dialog_confirmed_reboot, self, 0);
#line 69 "../src/SessionManager.vala"
	_tmp8_ = self->priv->proxy;
#line 69 "../src/SessionManager.vala"
	g_signal_connect_object (_tmp8_, "confirmed-shutdown", (GCallback) ___lambda137__gala_wingpanel_end_session_dialog_confirmed_shutdown, self, 0);
#line 70 "../src/SessionManager.vala"
	_tmp9_ = self->priv->proxy;
#line 70 "../src/SessionManager.vala"
	g_signal_connect_object (_tmp9_, "canceled", (GCallback) ___lambda138__gala_wingpanel_end_session_dialog_canceled, self, 0);
#line 71 "../src/SessionManager.vala"
	_tmp10_ = self->priv->proxy;
#line 71 "../src/SessionManager.vala"
	g_signal_connect_object (_tmp10_, "closed", (GCallback) ___lambda139__gala_wingpanel_end_session_dialog_closed, self, 0);
#line 1172 "SessionManager.c"
}

static void
_gala_session_manager_get_proxy_cb_gasync_ready_callback (GObject* source_object,
                                                          GAsyncResult* res,
                                                          gpointer self)
{
#line 75 "../src/SessionManager.vala"
	gala_session_manager_get_proxy_cb ((GalaSessionManager*) self, source_object, res);
#line 75 "../src/SessionManager.vala"
	g_object_unref (self);
#line 1184 "SessionManager.c"
}

static void
gala_session_manager_proxy_appeared (GalaSessionManager* self)
{
	GError* _inner_error0_ = NULL;
#line 74 "../src/SessionManager.vala"
	g_return_if_fail (self != NULL);
#line 75 "../src/SessionManager.vala"
	g_async_initable_new_async (GALA_TYPE_WINGPANEL_END_SESSION_DIALOG_PROXY, 0, NULL, _gala_session_manager_get_proxy_cb_gasync_ready_callback, g_object_ref (self), "g-flags", 0, "g-name", "io.elementary.wingpanel.session.EndSessionDialog", "g-bus-type", G_BUS_TYPE_SESSION, "g-object-path", "/io/elementary/wingpanel/session/EndSessionDialog", "g-interface-name", "io.elementary.wingpanel.session.EndSessionDialog", NULL);
#line 1195 "SessionManager.c"
}

static void
gala_session_manager_proxy_vanished (GalaSessionManager* self)
{
#line 80 "../src/SessionManager.vala"
	g_return_if_fail (self != NULL);
#line 81 "../src/SessionManager.vala"
	_g_object_unref0 (self->priv->proxy);
#line 81 "../src/SessionManager.vala"
	self->priv->proxy = NULL;
#line 1207 "SessionManager.c"
}

void
gala_session_manager_open (GalaSessionManager* self,
                           guint type,
                           guint timestamp,
                           guint open_length,
                           char** inhibiters,
                           gint inhibiters_length1,
                           GError** error)
{
	GalaWingpanelEndSessionDialog* _tmp0_;
	GalaWingpanelEndSessionDialog* _tmp2_;
	GError* _inner_error0_ = NULL;
#line 84 "../src/SessionManager.vala"
	g_return_if_fail (self != NULL);
#line 85 "../src/SessionManager.vala"
	_tmp0_ = self->priv->proxy;
#line 85 "../src/SessionManager.vala"
	if (_tmp0_ == NULL) {
#line 1228 "SessionManager.c"
		GError* _tmp1_;
#line 86 "../src/SessionManager.vala"
		_tmp1_ = g_error_new_literal (G_DBUS_ERROR, G_DBUS_ERROR_FAILED, "io.elementary.wingpanel.session.EndSessionDialog DBus interface is not" \
" registered.");
#line 86 "../src/SessionManager.vala"
		_inner_error0_ = _tmp1_;
#line 86 "../src/SessionManager.vala"
		if ((_inner_error0_->domain == G_DBUS_ERROR) || (_inner_error0_->domain == G_IO_ERROR)) {
#line 86 "../src/SessionManager.vala"
			g_propagate_error (error, _inner_error0_);
#line 86 "../src/SessionManager.vala"
			return;
#line 1240 "SessionManager.c"
		} else {
#line 86 "../src/SessionManager.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 86 "../src/SessionManager.vala"
			g_clear_error (&_inner_error0_);
#line 86 "../src/SessionManager.vala"
			return;
#line 1248 "SessionManager.c"
		}
	}
#line 89 "../src/SessionManager.vala"
	_tmp2_ = self->priv->proxy;
#line 89 "../src/SessionManager.vala"
	gala_wingpanel_end_session_dialog_open (_tmp2_, type, timestamp, open_length, inhibiters, (gint) inhibiters_length1, &_inner_error0_);
#line 89 "../src/SessionManager.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 89 "../src/SessionManager.vala"
		if ((_inner_error0_->domain == G_DBUS_ERROR) || (_inner_error0_->domain == G_IO_ERROR)) {
#line 89 "../src/SessionManager.vala"
			g_propagate_error (error, _inner_error0_);
#line 89 "../src/SessionManager.vala"
			return;
#line 1263 "SessionManager.c"
		} else {
#line 89 "../src/SessionManager.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 89 "../src/SessionManager.vala"
			g_clear_error (&_inner_error0_);
#line 89 "../src/SessionManager.vala"
			return;
#line 1271 "SessionManager.c"
		}
	}
}

static void
gala_session_manager_class_init (GalaSessionManagerClass * klass,
                                 gpointer klass_data)
{
#line 34 "../src/SessionManager.vala"
	gala_session_manager_parent_class = g_type_class_peek_parent (klass);
#line 34 "../src/SessionManager.vala"
	g_type_class_adjust_private_offset (klass, &GalaSessionManager_private_offset);
#line 34 "../src/SessionManager.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_session_manager_finalize;
#line 34 "../src/SessionManager.vala"
	gala_session_manager_signals[GALA_SESSION_MANAGER_CONFIRMED_LOGOUT_SIGNAL] = g_signal_new ("confirmed-logout", GALA_TYPE_SESSION_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 34 "../src/SessionManager.vala"
	gala_session_manager_signals[GALA_SESSION_MANAGER_CONFIRMED_REBOOT_SIGNAL] = g_signal_new ("confirmed-reboot", GALA_TYPE_SESSION_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 34 "../src/SessionManager.vala"
	gala_session_manager_signals[GALA_SESSION_MANAGER_CONFIRMED_SHUTDOWN_SIGNAL] = g_signal_new ("confirmed-shutdown", GALA_TYPE_SESSION_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 34 "../src/SessionManager.vala"
	gala_session_manager_signals[GALA_SESSION_MANAGER_CANCELED_SIGNAL] = g_signal_new ("canceled", GALA_TYPE_SESSION_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 34 "../src/SessionManager.vala"
	gala_session_manager_signals[GALA_SESSION_MANAGER_CLOSED_SIGNAL] = g_signal_new ("closed", GALA_TYPE_SESSION_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 1296 "SessionManager.c"
}

static void
gala_session_manager_instance_init (GalaSessionManager * self,
                                    gpointer klass)
{
#line 34 "../src/SessionManager.vala"
	self->priv = gala_session_manager_get_instance_private (self);
#line 52 "../src/SessionManager.vala"
	self->priv->proxy = NULL;
#line 1307 "SessionManager.c"
}

static void
gala_session_manager_finalize (GObject * obj)
{
	GalaSessionManager * self;
#line 34 "../src/SessionManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_SESSION_MANAGER, GalaSessionManager);
#line 52 "../src/SessionManager.vala"
	_g_object_unref0 (self->priv->proxy);
#line 34 "../src/SessionManager.vala"
	G_OBJECT_CLASS (gala_session_manager_parent_class)->finalize (obj);
#line 1320 "SessionManager.c"
}

 G_GNUC_NO_INLINE static GType
gala_session_manager_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaSessionManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_session_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaSessionManager), 0, (GInstanceInitFunc) gala_session_manager_instance_init, NULL };
	GType gala_session_manager_type_id;
	gala_session_manager_type_id = g_type_register_static (G_TYPE_OBJECT, "GalaSessionManager", &g_define_type_info, 0);
	g_type_set_qdata (gala_session_manager_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) gala_session_manager_register_object);
	GalaSessionManager_private_offset = g_type_add_instance_private (gala_session_manager_type_id, sizeof (GalaSessionManagerPrivate));
	return gala_session_manager_type_id;
}

GType
gala_session_manager_get_type (void)
{
	static gsize gala_session_manager_type_id__once = 0;
	if (g_once_init_enter (&gala_session_manager_type_id__once)) {
		GType gala_session_manager_type_id;
		gala_session_manager_type_id = gala_session_manager_get_type_once ();
		g_once_init_leave (&gala_session_manager_type_id__once, gala_session_manager_type_id);
	}
	return gala_session_manager_type_id__once;
}

static void
_dbus_gala_session_manager_open (GalaSessionManager* self,
                                 GVariant* _parameters_,
                                 GDBusMethodInvocation* invocation)
{
	GError* error = NULL;
	GVariantIter _arguments_iter;
	guint type = 0U;
	GVariant* _tmp134_;
	guint timestamp = 0U;
	GVariant* _tmp135_;
	guint open_length = 0U;
	GVariant* _tmp136_;
	char** inhibiters = NULL;
	gint inhibiters_length1 = 0;
	GVariant* _tmp137_;
	char** _tmp138_;
	gint _tmp138__length;
	gint _tmp138__size;
	gint _tmp138__length1;
	GVariantIter _tmp139_;
	GVariant* _tmp140_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_arguments_iter, _parameters_);
#line 21 "../src/PluginManager.vala"
	_tmp134_ = g_variant_iter_next_value (&_arguments_iter);
#line 21 "../src/PluginManager.vala"
	type = g_variant_get_uint32 (_tmp134_);
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp134_);
#line 21 "../src/PluginManager.vala"
	_tmp135_ = g_variant_iter_next_value (&_arguments_iter);
#line 21 "../src/PluginManager.vala"
	timestamp = g_variant_get_uint32 (_tmp135_);
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp135_);
#line 21 "../src/PluginManager.vala"
	_tmp136_ = g_variant_iter_next_value (&_arguments_iter);
#line 21 "../src/PluginManager.vala"
	open_length = g_variant_get_uint32 (_tmp136_);
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp136_);
#line 21 "../src/PluginManager.vala"
	_tmp137_ = g_variant_iter_next_value (&_arguments_iter);
#line 1393 "SessionManager.c"
	_tmp138_ = g_new (char*, 5);
	_tmp138__length = 0;
	_tmp138__size = 4;
	_tmp138__length1 = 0;
#line 21 "../src/PluginManager.vala"
	g_variant_iter_init (&_tmp139_, _tmp137_);
#line 21 "../src/PluginManager.vala"
	for (; (_tmp140_ = g_variant_iter_next_value (&_tmp139_)) != NULL; _tmp138__length1++) {
#line 21 "../src/PluginManager.vala"
		if (_tmp138__size == _tmp138__length) {
#line 21 "../src/PluginManager.vala"
			_tmp138__size = 2 * _tmp138__size;
#line 21 "../src/PluginManager.vala"
			_tmp138_ = g_renew (char*, _tmp138_, _tmp138__size + 1);
#line 1408 "SessionManager.c"
		}
#line 21 "../src/PluginManager.vala"
		_tmp138_[_tmp138__length++] = g_variant_dup_string (_tmp140_, NULL);
#line 21 "../src/PluginManager.vala"
		g_variant_unref (_tmp140_);
#line 1414 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	inhibiters_length1 = _tmp138__length1;
#line 21 "../src/PluginManager.vala"
	_tmp138_[_tmp138__length] = NULL;
#line 21 "../src/PluginManager.vala"
	inhibiters = _tmp138_;
#line 21 "../src/PluginManager.vala"
	g_variant_unref (_tmp137_);
#line 21 "../src/PluginManager.vala"
	gala_session_manager_open (self, type, timestamp, open_length, inhibiters, inhibiters_length1, &error);
#line 21 "../src/PluginManager.vala"
	if (error) {
#line 21 "../src/PluginManager.vala"
		g_dbus_method_invocation_take_error (invocation, error);
#line 1430 "SessionManager.c"
		goto _error;
	}
#line 21 "../src/PluginManager.vala"
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_reply = g_variant_builder_end (&_reply_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_message_set_body (_reply_message, _reply);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
#line 21 "../src/PluginManager.vala"
	g_object_unref (invocation);
#line 21 "../src/PluginManager.vala"
	g_object_unref (_reply_message);
#line 1447 "SessionManager.c"
	_error:
#line 21 "../src/PluginManager.vala"
	inhibiters = (_vala_array_free (inhibiters, inhibiters_length1, (GDestroyNotify) g_free), NULL);
#line 1451 "SessionManager.c"
	;
}

static void
gala_session_manager_dbus_interface_method_call (GDBusConnection* connection,
                                                 const gchar* sender,
                                                 const gchar* object_path,
                                                 const gchar* interface_name,
                                                 const gchar* method_name,
                                                 GVariant* parameters,
                                                 GDBusMethodInvocation* invocation,
                                                 gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
#line 21 "../src/PluginManager.vala"
	if (strcmp (method_name, "Open") == 0) {
#line 21 "../src/PluginManager.vala"
		_dbus_gala_session_manager_open (object, parameters, invocation);
#line 1473 "SessionManager.c"
	} else {
#line 21 "../src/PluginManager.vala"
		g_object_unref (invocation);
#line 1477 "SessionManager.c"
	}
}

static GVariant*
gala_session_manager_dbus_interface_get_property (GDBusConnection* connection,
                                                  const gchar* sender,
                                                  const gchar* object_path,
                                                  const gchar* interface_name,
                                                  const gchar* property_name,
                                                  GError** error,
                                                  gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
#line 21 "../src/PluginManager.vala"
	return NULL;
#line 1496 "SessionManager.c"
}

static gboolean
gala_session_manager_dbus_interface_set_property (GDBusConnection* connection,
                                                  const gchar* sender,
                                                  const gchar* object_path,
                                                  const gchar* interface_name,
                                                  const gchar* property_name,
                                                  GVariant* value,
                                                  GError** error,
                                                  gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
#line 21 "../src/PluginManager.vala"
	return FALSE;
#line 1515 "SessionManager.c"
}

static void
_dbus_gala_session_manager_confirmed_logout (GObject* _sender,
                                             gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "org.gnome.SessionManager.EndSessionDialog", "ConfirmedLogout", _arguments, NULL);
#line 1534 "SessionManager.c"
}

static void
_dbus_gala_session_manager_confirmed_reboot (GObject* _sender,
                                             gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "org.gnome.SessionManager.EndSessionDialog", "ConfirmedReboot", _arguments, NULL);
#line 1553 "SessionManager.c"
}

static void
_dbus_gala_session_manager_confirmed_shutdown (GObject* _sender,
                                               gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "org.gnome.SessionManager.EndSessionDialog", "ConfirmedShutdown", _arguments, NULL);
#line 1572 "SessionManager.c"
}

static void
_dbus_gala_session_manager_canceled (GObject* _sender,
                                     gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "org.gnome.SessionManager.EndSessionDialog", "Canceled", _arguments, NULL);
#line 1591 "SessionManager.c"
}

static void
_dbus_gala_session_manager_closed (GObject* _sender,
                                   gpointer* _data)
{
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
#line 21 "../src/PluginManager.vala"
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
#line 21 "../src/PluginManager.vala"
	_arguments = g_variant_builder_end (&_arguments_builder);
#line 21 "../src/PluginManager.vala"
	g_dbus_connection_emit_signal (_connection, NULL, _path, "org.gnome.SessionManager.EndSessionDialog", "Closed", _arguments, NULL);
#line 1610 "SessionManager.c"
}

guint
gala_session_manager_register_object (gpointer object,
                                      GDBusConnection* connection,
                                      const gchar* path,
                                      GError** error)
{
	guint result;
	gpointer *data;
#line 21 "../src/PluginManager.vala"
	data = g_new (gpointer, 3);
#line 21 "../src/PluginManager.vala"
	data[0] = g_object_ref (object);
#line 21 "../src/PluginManager.vala"
	data[1] = g_object_ref (connection);
#line 21 "../src/PluginManager.vala"
	data[2] = g_strdup (path);
#line 21 "../src/PluginManager.vala"
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_gala_session_manager_dbus_interface_info), &_gala_session_manager_dbus_interface_vtable, data, _gala_session_manager_unregister_object, error);
#line 21 "../src/PluginManager.vala"
	if (!result) {
#line 21 "../src/PluginManager.vala"
		return 0;
#line 1635 "SessionManager.c"
	}
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "confirmed-logout", (GCallback) _dbus_gala_session_manager_confirmed_logout, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "confirmed-reboot", (GCallback) _dbus_gala_session_manager_confirmed_reboot, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "confirmed-shutdown", (GCallback) _dbus_gala_session_manager_confirmed_shutdown, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "canceled", (GCallback) _dbus_gala_session_manager_canceled, data);
#line 21 "../src/PluginManager.vala"
	g_signal_connect (object, "closed", (GCallback) _dbus_gala_session_manager_closed, data);
#line 21 "../src/PluginManager.vala"
	return result;
#line 1649 "SessionManager.c"
}

static void
_gala_session_manager_unregister_object (gpointer user_data)
{
	gpointer* data;
	data = user_data;
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_session_manager_confirmed_logout, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_session_manager_confirmed_reboot, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_session_manager_confirmed_shutdown, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_session_manager_canceled, data);
#line 21 "../src/PluginManager.vala"
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gala_session_manager_closed, data);
#line 21 "../src/PluginManager.vala"
	g_object_unref (data[0]);
#line 21 "../src/PluginManager.vala"
	g_object_unref (data[1]);
#line 21 "../src/PluginManager.vala"
	g_free (data[2]);
#line 21 "../src/PluginManager.vala"
	g_free (data);
#line 1675 "SessionManager.c"
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
#line 21 "../src/PluginManager.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 1685 "SessionManager.c"
		gssize i;
#line 21 "../src/PluginManager.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 21 "../src/PluginManager.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 21 "../src/PluginManager.vala"
				destroy_func (((gpointer*) array)[i]);
#line 1693 "SessionManager.c"
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
#line 21 "../src/PluginManager.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 21 "../src/PluginManager.vala"
	g_free (array);
#line 1708 "SessionManager.c"
}

