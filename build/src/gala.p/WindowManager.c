/* WindowManager.c generated by valac 0.56.17, the Vala compiler
 * generated from WindowManager.vala, do not modify */

/**/
/*  Copyright (C) 2012-2014 Tom Beckmann, Rico Tzschichholz*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <meta/meta-plugin.h>
#include "gala.h"
#include <glib-object.h>
#include <clutter/clutter.h>
#include <meta/meta-background-group.h>
#include <glib.h>
#include <gio/gio.h>
#include <meta/window.h>
#include <gee.h>
#include <meta/meta-window-actor.h>
#include <meta/compositor.h>
#include <mtk/mtk.h>
#include <meta/common.h>
#include <meta/keybindings.h>
#include <meta/meta-close-dialog.h>
#include <meta/meta-inhibit-shortcuts-dialog.h>
#include <meta/display.h>
#include <meta/meta-background.h>
#include <meta/compositor-mutter.h>
#include <stdlib.h>
#include <string.h>
#include <meta/types.h>
#include <meta/util.h>
#include <meta/meta-background-actor.h>
#include <float.h>
#include <math.h>
#include "config.h"
#include <meta/prefs.h>
#include <meta/meta-monitor-manager.h>
#include <meta/meta-context.h>
#include <meta/meta-backend.h>
#include <gtk/gtk.h>
#include <systemd/sd-daemon.h>
#include <meta/meta-workspace-manager.h>
#include <meta/workspace.h>
#include <meta/meta-x11-display.h>
#include <X11/Xlib.h>
#include <X11/Xatom.h>
#include <X11/Xutil.h>
#include <X11/Xregion.h>
#include <gdk/gdk.h>
#include <glib/gi18n-lib.h>

#define GALA_WINDOW_MANAGER_GALA_NUDGE_GAP 32
#define GALA_WINDOW_MANAGER_GALA_WORKSPACE_GAP 24
#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_WINDOW_MANAGER_GALA (gala_window_manager_gala_get_type ())
#define GALA_WINDOW_MANAGER_GALA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGala))
#define GALA_WINDOW_MANAGER_GALA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGalaClass))
#define GALA_IS_WINDOW_MANAGER_GALA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_MANAGER_GALA))
#define GALA_IS_WINDOW_MANAGER_GALA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_MANAGER_GALA))
#define GALA_WINDOW_MANAGER_GALA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGalaClass))

typedef struct _GalaWindowManagerGala GalaWindowManagerGala;
typedef struct _GalaWindowManagerGalaClass GalaWindowManagerGalaClass;
typedef struct _GalaWindowManagerGalaPrivate GalaWindowManagerGalaPrivate;

#define GALA_TYPE_SCREEN_SHIELD (gala_screen_shield_get_type ())
#define GALA_SCREEN_SHIELD(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SCREEN_SHIELD, GalaScreenShield))
#define GALA_SCREEN_SHIELD_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SCREEN_SHIELD, GalaScreenShieldClass))
#define GALA_IS_SCREEN_SHIELD(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SCREEN_SHIELD))
#define GALA_IS_SCREEN_SHIELD_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SCREEN_SHIELD))
#define GALA_SCREEN_SHIELD_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SCREEN_SHIELD, GalaScreenShieldClass))

typedef struct _GalaScreenShield GalaScreenShield;
typedef struct _GalaScreenShieldClass GalaScreenShieldClass;

#define GALA_TYPE_POINTER_LOCATOR (gala_pointer_locator_get_type ())
#define GALA_POINTER_LOCATOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_POINTER_LOCATOR, GalaPointerLocator))
#define GALA_POINTER_LOCATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_POINTER_LOCATOR, GalaPointerLocatorClass))
#define GALA_IS_POINTER_LOCATOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_POINTER_LOCATOR))
#define GALA_IS_POINTER_LOCATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_POINTER_LOCATOR))
#define GALA_POINTER_LOCATOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_POINTER_LOCATOR, GalaPointerLocatorClass))

typedef struct _GalaPointerLocator GalaPointerLocator;
typedef struct _GalaPointerLocatorClass GalaPointerLocatorClass;

#define GALA_TYPE_SYSTEM_BACKGROUND (gala_system_background_get_type ())
#define GALA_SYSTEM_BACKGROUND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SYSTEM_BACKGROUND, GalaSystemBackground))
#define GALA_SYSTEM_BACKGROUND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SYSTEM_BACKGROUND, GalaSystemBackgroundClass))
#define GALA_IS_SYSTEM_BACKGROUND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SYSTEM_BACKGROUND))
#define GALA_IS_SYSTEM_BACKGROUND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SYSTEM_BACKGROUND))
#define GALA_SYSTEM_BACKGROUND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SYSTEM_BACKGROUND, GalaSystemBackgroundClass))

typedef struct _GalaSystemBackground GalaSystemBackground;
typedef struct _GalaSystemBackgroundClass GalaSystemBackgroundClass;

#define GALA_TYPE_WINDOW_SWITCHER (gala_window_switcher_get_type ())
#define GALA_WINDOW_SWITCHER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_SWITCHER, GalaWindowSwitcher))
#define GALA_WINDOW_SWITCHER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_SWITCHER, GalaWindowSwitcherClass))
#define GALA_IS_WINDOW_SWITCHER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_SWITCHER))
#define GALA_IS_WINDOW_SWITCHER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_SWITCHER))
#define GALA_WINDOW_SWITCHER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_SWITCHER, GalaWindowSwitcherClass))

typedef struct _GalaWindowSwitcher GalaWindowSwitcher;
typedef struct _GalaWindowSwitcherClass GalaWindowSwitcherClass;

#define GALA_TYPE_SCREEN_SAVER_MANAGER (gala_screen_saver_manager_get_type ())
#define GALA_SCREEN_SAVER_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SCREEN_SAVER_MANAGER, GalaScreenSaverManager))
#define GALA_SCREEN_SAVER_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SCREEN_SAVER_MANAGER, GalaScreenSaverManagerClass))
#define GALA_IS_SCREEN_SAVER_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SCREEN_SAVER_MANAGER))
#define GALA_IS_SCREEN_SAVER_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SCREEN_SAVER_MANAGER))
#define GALA_SCREEN_SAVER_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SCREEN_SAVER_MANAGER, GalaScreenSaverManagerClass))

typedef struct _GalaScreenSaverManager GalaScreenSaverManager;
typedef struct _GalaScreenSaverManagerClass GalaScreenSaverManagerClass;

#define GALA_TYPE_HOT_CORNER_MANAGER (gala_hot_corner_manager_get_type ())
#define GALA_HOT_CORNER_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_HOT_CORNER_MANAGER, GalaHotCornerManager))
#define GALA_HOT_CORNER_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_HOT_CORNER_MANAGER, GalaHotCornerManagerClass))
#define GALA_IS_HOT_CORNER_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_HOT_CORNER_MANAGER))
#define GALA_IS_HOT_CORNER_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_HOT_CORNER_MANAGER))
#define GALA_HOT_CORNER_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_HOT_CORNER_MANAGER, GalaHotCornerManagerClass))

typedef struct _GalaHotCornerManager GalaHotCornerManager;
typedef struct _GalaHotCornerManagerClass GalaHotCornerManagerClass;

#define GALA_TYPE_WINDOW_TRACKER (gala_window_tracker_get_type ())
#define GALA_WINDOW_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_TRACKER, GalaWindowTracker))
#define GALA_WINDOW_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_TRACKER, GalaWindowTrackerClass))
#define GALA_IS_WINDOW_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_TRACKER))
#define GALA_IS_WINDOW_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_TRACKER))
#define GALA_WINDOW_TRACKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_TRACKER, GalaWindowTrackerClass))

typedef struct _GalaWindowTracker GalaWindowTracker;
typedef struct _GalaWindowTrackerClass GalaWindowTrackerClass;

#define GALA_TYPE_ZOOM (gala_zoom_get_type ())
#define GALA_ZOOM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_ZOOM, GalaZoom))
#define GALA_ZOOM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_ZOOM, GalaZoomClass))
#define GALA_IS_ZOOM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_ZOOM))
#define GALA_IS_ZOOM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_ZOOM))
#define GALA_ZOOM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_ZOOM, GalaZoomClass))

typedef struct _GalaZoom GalaZoom;
typedef struct _GalaZoomClass GalaZoomClass;

#define GALA_TYPE_DAEMON_MANAGER (gala_daemon_manager_get_type ())
#define GALA_DAEMON_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_DAEMON_MANAGER, GalaDaemonManager))
#define GALA_DAEMON_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_DAEMON_MANAGER, GalaDaemonManagerClass))
#define GALA_IS_DAEMON_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_DAEMON_MANAGER))
#define GALA_IS_DAEMON_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_DAEMON_MANAGER))
#define GALA_DAEMON_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_DAEMON_MANAGER, GalaDaemonManagerClass))

typedef struct _GalaDaemonManager GalaDaemonManager;
typedef struct _GalaDaemonManagerClass GalaDaemonManagerClass;

#define GALA_TYPE_WINDOW_GRAB_TRACKER (gala_window_grab_tracker_get_type ())
#define GALA_WINDOW_GRAB_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_GRAB_TRACKER, GalaWindowGrabTracker))
#define GALA_WINDOW_GRAB_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_GRAB_TRACKER, GalaWindowGrabTrackerClass))
#define GALA_IS_WINDOW_GRAB_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_GRAB_TRACKER))
#define GALA_IS_WINDOW_GRAB_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_GRAB_TRACKER))
#define GALA_WINDOW_GRAB_TRACKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_GRAB_TRACKER, GalaWindowGrabTrackerClass))

typedef struct _GalaWindowGrabTracker GalaWindowGrabTracker;
typedef struct _GalaWindowGrabTrackerClass GalaWindowGrabTrackerClass;

#define GALA_TYPE_NOTIFICATION_STACK (gala_notification_stack_get_type ())
#define GALA_NOTIFICATION_STACK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_NOTIFICATION_STACK, GalaNotificationStack))
#define GALA_NOTIFICATION_STACK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_NOTIFICATION_STACK, GalaNotificationStackClass))
#define GALA_IS_NOTIFICATION_STACK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_NOTIFICATION_STACK))
#define GALA_IS_NOTIFICATION_STACK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_NOTIFICATION_STACK))
#define GALA_NOTIFICATION_STACK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_NOTIFICATION_STACK, GalaNotificationStackClass))

typedef struct _GalaNotificationStack GalaNotificationStack;
typedef struct _GalaNotificationStackClass GalaNotificationStackClass;

#define GALA_TYPE_GESTURE_TRACKER (gala_gesture_tracker_get_type ())
#define GALA_GESTURE_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE_TRACKER, GalaGestureTracker))
#define GALA_GESTURE_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE_TRACKER, GalaGestureTrackerClass))
#define GALA_IS_GESTURE_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE_TRACKER))
#define GALA_IS_GESTURE_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE_TRACKER))
#define GALA_GESTURE_TRACKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE_TRACKER, GalaGestureTrackerClass))

typedef struct _GalaGestureTracker GalaGestureTracker;
typedef struct _GalaGestureTrackerClass GalaGestureTrackerClass;
enum  {
	GALA_WINDOW_MANAGER_GALA_0_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_UI_GROUP_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_STAGE_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_WINDOW_GROUP_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_TOP_WINDOW_GROUP_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_NOTIFICATION_GROUP_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_BACKGROUND_GROUP_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_WORKSPACE_VIEW_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_ENABLE_ANIMATIONS_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_SCREEN_SHIELD_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_POINTER_LOCATOR_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_WINDOW_OVERVIEW_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_SCREENSAVER_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_WINDOW_TRACKER_PROPERTY,
	GALA_WINDOW_MANAGER_GALA_NUM_PROPERTIES
};
static GParamSpec* gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
#define _g_free0(var) ((var == NULL) ? NULL : (var = (g_free (var), NULL)))
typedef struct _Block8Data Block8Data;

#define GALA_TYPE_DBUS_ACCELERATOR (gala_dbus_accelerator_get_type ())
#define GALA_DBUS_ACCELERATOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_DBUS_ACCELERATOR, GalaDBusAccelerator))
#define GALA_DBUS_ACCELERATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_DBUS_ACCELERATOR, GalaDBusAcceleratorClass))
#define GALA_IS_DBUS_ACCELERATOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_DBUS_ACCELERATOR))
#define GALA_IS_DBUS_ACCELERATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_DBUS_ACCELERATOR))
#define GALA_DBUS_ACCELERATOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_DBUS_ACCELERATOR, GalaDBusAcceleratorClass))

typedef struct _GalaDBusAccelerator GalaDBusAccelerator;
typedef struct _GalaDBusAcceleratorClass GalaDBusAcceleratorClass;
#define __vala_ClutterColor_free0(var) ((var == NULL) ? NULL : (var = (_vala_ClutterColor_free (var), NULL)))

#define GALA_TYPE_BACKGROUND_CONTAINER (gala_background_container_get_type ())
#define GALA_BACKGROUND_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer))
#define GALA_BACKGROUND_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainerClass))
#define GALA_IS_BACKGROUND_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BACKGROUND_CONTAINER))
#define GALA_IS_BACKGROUND_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BACKGROUND_CONTAINER))
#define GALA_BACKGROUND_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainerClass))

typedef struct _GalaBackgroundContainer GalaBackgroundContainer;
typedef struct _GalaBackgroundContainerClass GalaBackgroundContainerClass;

#define GALA_TYPE_PLUGIN_MANAGER (gala_plugin_manager_get_type ())
#define GALA_PLUGIN_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_PLUGIN_MANAGER, GalaPluginManager))
#define GALA_PLUGIN_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_PLUGIN_MANAGER, GalaPluginManagerClass))
#define GALA_IS_PLUGIN_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_PLUGIN_MANAGER))
#define GALA_IS_PLUGIN_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_PLUGIN_MANAGER))
#define GALA_PLUGIN_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_PLUGIN_MANAGER, GalaPluginManagerClass))

typedef struct _GalaPluginManager GalaPluginManager;
typedef struct _GalaPluginManagerClass GalaPluginManagerClass;

#define GALA_TYPE_MULTITASKING_VIEW (gala_multitasking_view_get_type ())
#define GALA_MULTITASKING_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView))
#define GALA_MULTITASKING_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingViewClass))
#define GALA_IS_MULTITASKING_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_MULTITASKING_VIEW))
#define GALA_IS_MULTITASKING_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_MULTITASKING_VIEW))
#define GALA_MULTITASKING_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingViewClass))

typedef struct _GalaMultitaskingView GalaMultitaskingView;
typedef struct _GalaMultitaskingViewClass GalaMultitaskingViewClass;

#define GALA_TYPE_WINDOW_OVERVIEW (gala_window_overview_get_type ())
#define GALA_WINDOW_OVERVIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_OVERVIEW, GalaWindowOverview))
#define GALA_WINDOW_OVERVIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_OVERVIEW, GalaWindowOverviewClass))
#define GALA_IS_WINDOW_OVERVIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_OVERVIEW))
#define GALA_IS_WINDOW_OVERVIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_OVERVIEW))
#define GALA_WINDOW_OVERVIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_OVERVIEW, GalaWindowOverviewClass))

typedef struct _GalaWindowOverview GalaWindowOverview;
typedef struct _GalaWindowOverviewClass GalaWindowOverviewClass;

#define GALA_TYPE_DWELL_CLICK_TIMER (gala_dwell_click_timer_get_type ())
#define GALA_DWELL_CLICK_TIMER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_DWELL_CLICK_TIMER, GalaDwellClickTimer))
#define GALA_DWELL_CLICK_TIMER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_DWELL_CLICK_TIMER, GalaDwellClickTimerClass))
#define GALA_IS_DWELL_CLICK_TIMER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_DWELL_CLICK_TIMER))
#define GALA_IS_DWELL_CLICK_TIMER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_DWELL_CLICK_TIMER))
#define GALA_DWELL_CLICK_TIMER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_DWELL_CLICK_TIMER, GalaDwellClickTimerClass))

typedef struct _GalaDwellClickTimer GalaDwellClickTimer;
typedef struct _GalaDwellClickTimerClass GalaDwellClickTimerClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define GALA_TYPE_GESTURE (gala_gesture_get_type ())
#define GALA_GESTURE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE, GalaGesture))
#define GALA_GESTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE, GalaGestureClass))
#define GALA_IS_GESTURE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE))
#define GALA_IS_GESTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE))
#define GALA_GESTURE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE, GalaGestureClass))

typedef struct _GalaGesture GalaGesture;
typedef struct _GalaGestureClass GalaGestureClass;
typedef struct _GalaGesturePrivate GalaGesturePrivate;
typedef enum  {
	GALA_GESTURE_DIRECTION_UNKNOWN = 0,
	GALA_GESTURE_DIRECTION_UP = 1,
	GALA_GESTURE_DIRECTION_DOWN = 2,
	GALA_GESTURE_DIRECTION_LEFT = 3,
	GALA_GESTURE_DIRECTION_RIGHT = 4,
	GALA_GESTURE_DIRECTION_IN = 5,
	GALA_GESTURE_DIRECTION_OUT = 6
} GalaGestureDirection;

#define GALA_TYPE_GESTURE_DIRECTION (gala_gesture_direction_get_type ())

#define GALA_TYPE_GESTURE_SETTINGS (gala_gesture_settings_get_type ())
#define GALA_GESTURE_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE_SETTINGS, GalaGestureSettings))
#define GALA_GESTURE_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE_SETTINGS, GalaGestureSettingsClass))
#define GALA_IS_GESTURE_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE_SETTINGS))
#define GALA_IS_GESTURE_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE_SETTINGS))
#define GALA_GESTURE_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE_SETTINGS, GalaGestureSettingsClass))

typedef struct _GalaGestureSettings GalaGestureSettings;
typedef struct _GalaGestureSettingsClass GalaGestureSettingsClass;
typedef struct _Block9Data Block9Data;
typedef void (*GalaGestureTrackerOnUpdate) (gdouble percentage, gpointer user_data);
typedef void (*GalaGestureTrackerOnEnd) (gdouble percentage, gboolean cancel_action, gint calculated_duration, gpointer user_data);
typedef void (*GalaGestureTrackerOnBegin) (gdouble percentage, gpointer user_data);
typedef enum  {
	GALA_INPUT_AREA_NONE,
	GALA_INPUT_AREA_FULLSCREEN,
	GALA_INPUT_AREA_DEFAULT
} GalaInputArea;

#define GALA_TYPE_INPUT_AREA (gala_input_area_get_type ())
typedef struct _Block10Data Block10Data;
typedef struct _Block11Data Block11Data;
typedef struct _Block12Data Block12Data;
typedef struct _Block13Data Block13Data;
typedef struct _Block14Data Block14Data;
typedef struct _Block15Data Block15Data;
typedef struct _Block16Data Block16Data;
typedef struct _Block17Data Block17Data;
typedef struct _Block18Data Block18Data;
typedef struct _Block19Data Block19Data;
typedef struct _Block20Data Block20Data;
typedef struct _Block21Data Block21Data;
typedef struct _Block22Data Block22Data;
typedef struct _Block23Data Block23Data;
typedef struct _Block24Data Block24Data;
typedef struct _Block25Data Block25Data;
typedef struct _Block26Data Block26Data;
typedef struct _Block27Data Block27Data;
typedef struct _Block28Data Block28Data;
typedef struct _Block29Data Block29Data;
typedef struct _Block30Data Block30Data;

#define GALA_WINDOW_LISTENER_TYPE_WINDOW_GEOMETRY (gala_window_listener_window_geometry_get_type ())
typedef struct _GalaWindowListenerWindowGeometry GalaWindowListenerWindowGeometry;

#define GALA_TYPE_WINDOW_LISTENER (gala_window_listener_get_type ())
#define GALA_WINDOW_LISTENER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_LISTENER, GalaWindowListener))
#define GALA_WINDOW_LISTENER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_LISTENER, GalaWindowListenerClass))
#define GALA_IS_WINDOW_LISTENER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_LISTENER))
#define GALA_IS_WINDOW_LISTENER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_LISTENER))
#define GALA_WINDOW_LISTENER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_LISTENER, GalaWindowListenerClass))

typedef struct _GalaWindowListener GalaWindowListener;
typedef struct _GalaWindowListenerClass GalaWindowListenerClass;
#define _gala_window_listener_window_geometry_free0(var) ((var == NULL) ? NULL : (var = (gala_window_listener_window_geometry_free (var), NULL)))
typedef struct _Block31Data Block31Data;
typedef struct _Block32Data Block32Data;

#define GALA_TYPE_ACCESS_DIALOG (gala_access_dialog_get_type ())
#define GALA_ACCESS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_ACCESS_DIALOG, GalaAccessDialog))
#define GALA_ACCESS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_ACCESS_DIALOG, GalaAccessDialogClass))
#define GALA_IS_ACCESS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_ACCESS_DIALOG))
#define GALA_IS_ACCESS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_ACCESS_DIALOG))
#define GALA_ACCESS_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_ACCESS_DIALOG, GalaAccessDialogClass))

typedef struct _GalaAccessDialog GalaAccessDialog;
typedef struct _GalaAccessDialogClass GalaAccessDialogClass;
typedef struct _Block33Data Block33Data;

#define GALA_TYPE_CLOSE_DIALOG (gala_close_dialog_get_type ())
#define GALA_CLOSE_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_CLOSE_DIALOG, GalaCloseDialog))
#define GALA_CLOSE_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_CLOSE_DIALOG, GalaCloseDialogClass))
#define GALA_IS_CLOSE_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_CLOSE_DIALOG))
#define GALA_IS_CLOSE_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_CLOSE_DIALOG))
#define GALA_CLOSE_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_CLOSE_DIALOG, GalaCloseDialogClass))

typedef struct _GalaCloseDialog GalaCloseDialog;
typedef struct _GalaCloseDialogClass GalaCloseDialogClass;

#define GALA_TYPE_INHIBIT_SHORTCUTS_DIALOG (gala_inhibit_shortcuts_dialog_get_type ())
#define GALA_INHIBIT_SHORTCUTS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_INHIBIT_SHORTCUTS_DIALOG, GalaInhibitShortcutsDialog))
#define GALA_INHIBIT_SHORTCUTS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_INHIBIT_SHORTCUTS_DIALOG, GalaInhibitShortcutsDialogClass))
#define GALA_IS_INHIBIT_SHORTCUTS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_INHIBIT_SHORTCUTS_DIALOG))
#define GALA_IS_INHIBIT_SHORTCUTS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_INHIBIT_SHORTCUTS_DIALOG))
#define GALA_INHIBIT_SHORTCUTS_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_INHIBIT_SHORTCUTS_DIALOG, GalaInhibitShortcutsDialogClass))

typedef struct _GalaInhibitShortcutsDialog GalaInhibitShortcutsDialog;
typedef struct _GalaInhibitShortcutsDialogClass GalaInhibitShortcutsDialogClass;
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))

#define GALA_TYPE_SCREENSHOT_MANAGER (gala_screenshot_manager_get_type ())
#define GALA_SCREENSHOT_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SCREENSHOT_MANAGER, GalaScreenshotManager))
#define GALA_SCREENSHOT_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SCREENSHOT_MANAGER, GalaScreenshotManagerClass))
#define GALA_IS_SCREENSHOT_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SCREENSHOT_MANAGER))
#define GALA_IS_SCREENSHOT_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SCREENSHOT_MANAGER))
#define GALA_SCREENSHOT_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SCREENSHOT_MANAGER, GalaScreenshotManagerClass))

typedef struct _GalaScreenshotManager GalaScreenshotManager;
typedef struct _GalaScreenshotManagerClass GalaScreenshotManagerClass;
typedef struct _GalaWindowManagerGalaScreenshotCurrentWindowData GalaWindowManagerGalaScreenshotCurrentWindowData;
typedef struct _GalaWindowManagerGalaScreenshotAreaData GalaWindowManagerGalaScreenshotAreaData;
typedef struct _GalaWindowManagerGalaScreenshotScreenData GalaWindowManagerGalaScreenshotScreenData;
enum  {
	GALA_WINDOW_MANAGER_GALA_WINDOW_CREATED_SIGNAL,
	GALA_WINDOW_MANAGER_GALA_NUM_SIGNALS
};
static guint gala_window_manager_gala_signals[GALA_WINDOW_MANAGER_GALA_NUM_SIGNALS] = {0};

struct _GalaWindowManagerGala {
	MetaPlugin parent_instance;
	GalaWindowManagerGalaPrivate * priv;
};

struct _GalaWindowManagerGalaClass {
	MetaPluginClass parent_class;
};

struct _GalaWindowManagerGalaPrivate {
	ClutterActor* _ui_group;
	ClutterStage* _stage;
	ClutterActor* _window_group;
	ClutterActor* _top_window_group;
	ClutterActor* _notification_group;
	MetaBackgroundGroup* _background_group;
	GalaActivatableComponent* _workspace_view;
	gboolean _enable_animations;
	GalaScreenShield* _screen_shield;
	GalaPointerLocator* _pointer_locator;
	GalaSystemBackground* system_background;
	MetaPluginInfo info;
	GalaWindowSwitcher* window_switcher;
	GalaActivatableComponent* _window_overview;
	GalaScreenSaverManager* _screensaver;
	GalaHotCornerManager* hot_corner_manager;
	GalaWindowTracker* _window_tracker;
	GalaZoom* zoom;
	ClutterActor* tile_preview;
	MetaWindow* moving;
	GalaDaemonManager* daemon_manager;
	GalaWindowGrabTracker* window_grab_tracker;
	GalaNotificationStack* notification_stack;
	GeeLinkedList* modal_stack;
	GeeHashSet* minimizing;
	GeeHashSet* maximizing;
	GeeHashSet* unmaximizing;
	GeeHashSet* mapping;
	GeeHashSet* destroying;
	GeeHashSet* unminimizing;
	GHashTable* ws_assoc;
	MetaSizeChange* which_change;
	MtkRectangle old_rect_size_change;
	ClutterActor* latest_window_snapshot;
	GSettings* animations_settings;
	GSettings* behavior_settings;
	GSettings* new_behavior_settings;
	GalaGestureTracker* gesture_tracker;
	gboolean animating_switch_workspace;
	gboolean switch_workspace_with_gesture;
	GList* windows;
	GList* parents;
	GList* tmp_actors;
	gulong switch_workspace_window_created_id;
	ClutterActor* out_group;
	ClutterActor* in_group;
	ClutterActor* wallpaper;
	ClutterActor* wallpaper_clone;
};

struct _Block8Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaDisplay* display;
	GSettings* keybinding_settings;
};

struct _GalaGesture {
	GTypeInstance parent_instance;
	volatile int ref_count;
	GalaGesturePrivate * priv;
	ClutterEventType type;
	GalaGestureDirection direction;
	gint fingers;
	ClutterInputDeviceType performed_on_device_type;
};

struct _GalaGestureClass {
	GTypeClass parent_class;
	void (*finalize) (GalaGesture *self);
};

struct _Block9Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	gint nudge_gap;
	gfloat dest;
	ClutterAnimationMode animation_mode;
	MetaMotionDirection direction;
};

struct _Block10Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	guint fade_out_duration;
	gdouble* op_keyframes;
	gint op_keyframes_length1;
	gint _op_keyframes_size_;
	GValue* opacity;
	gint opacity_length1;
	gint _opacity_size_;
	MetaX11Display* x11display;
	Window bottom_xwin;
};

struct _Block11Data {
	int _ref_count_;
	Block10Data * _data10_;
	MetaWindowActor* actor;
};

struct _Block12Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindowActor* transient_actor;
};

struct _Block13Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindowActor* actor;
};

struct _Block14Data {
	int _ref_count_;
	Block13Data * _data13_;
	gulong minimize_handler_id;
};

struct _Block15Data {
	int _ref_count_;
	Block13Data * _data13_;
	gulong minimize_handler_id;
};

struct _Block16Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindowActor* actor;
};

struct _Block17Data {
	int _ref_count_;
	Block16Data * _data16_;
	gulong maximize_old_handler_id;
	gulong handler_id;
};

struct _Block18Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindowActor* actor;
};

struct _Block19Data {
	int _ref_count_;
	Block18Data * _data18_;
	gulong unminimize_handler_id;
};

struct _Block20Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindow* window;
	MetaWindowActor* actor;
};

struct _Block21Data {
	int _ref_count_;
	Block20Data * _data20_;
	gulong map_handler_id;
};

struct _Block22Data {
	int _ref_count_;
	Block20Data * _data20_;
	gulong map_handler_id;
};

struct _Block23Data {
	int _ref_count_;
	Block20Data * _data20_;
	gulong map_handler_id;
};

struct _Block24Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindow* window;
	MetaWindowActor* actor;
};

struct _Block25Data {
	int _ref_count_;
	Block24Data * _data24_;
	gulong destroy_handler_id;
};

struct _Block26Data {
	int _ref_count_;
	Block24Data * _data24_;
	gulong destroy_handler_id;
};

struct _Block27Data {
	int _ref_count_;
	Block24Data * _data24_;
	gulong destroy_handler_id;
};

struct _Block28Data {
	int _ref_count_;
	Block24Data * _data24_;
	gulong destroy_handler_id;
};

struct _Block29Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	MetaWindowActor* actor;
};

struct _Block30Data {
	int _ref_count_;
	Block29Data * _data29_;
	gulong unmaximize_old_handler_id;
	gulong handler_id;
};

struct _GalaWindowListenerWindowGeometry {
	MtkRectangle inner;
	MtkRectangle outer;
};

struct _Block31Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	ClutterAnimationMode animation_mode;
	gfloat x2;
	MetaMotionDirection direction;
};

struct _Block32Data {
	int _ref_count_;
	Block31Data * _data31_;
	gboolean cancel_action;
};

struct _Block33Data {
	int _ref_count_;
	GalaWindowManagerGala* self;
	gint timeout;
	guint dialog_timeout_id;
	GalaAccessDialog* dialog;
};

struct _GalaWindowManagerGalaScreenshotCurrentWindowData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GalaWindowManagerGala* self;
	gboolean clipboard;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* filename;
	gchar* _tmp3_;
	gboolean success;
	gchar* filename_used;
	gchar* _tmp4_;
	GalaScreenshotManager* screenshot_manager;
	GalaScreenshotManager* _tmp5_;
	gboolean _tmp6_;
	gchar* _tmp7_;
	GError* _inner_error0_;
};

struct _GalaWindowManagerGalaScreenshotAreaData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GalaWindowManagerGala* self;
	gboolean clipboard;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* filename;
	gchar* _tmp3_;
	gboolean success;
	gchar* filename_used;
	gchar* _tmp4_;
	GalaScreenshotManager* screenshot_manager;
	GalaScreenshotManager* _tmp5_;
	gint x;
	gint y;
	gint w;
	gint h;
	GalaScreenshotManager* _tmp6_;
	gint _tmp7_;
	gint _tmp8_;
	gint _tmp9_;
	gint _tmp10_;
	GalaScreenshotManager* _tmp11_;
	const gchar* _tmp12_;
	gboolean _tmp13_;
	gchar* _tmp14_;
	GError* _inner_error0_;
};

struct _GalaWindowManagerGalaScreenshotScreenData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GalaWindowManagerGala* self;
	gboolean clipboard;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* filename;
	gchar* _tmp3_;
	gboolean success;
	gchar* filename_used;
	gchar* _tmp4_;
	GalaScreenshotManager* screenshot_manager;
	GalaScreenshotManager* _tmp5_;
	gboolean _tmp6_;
	gchar* _tmp7_;
	GError* _inner_error0_;
};

static gint GalaWindowManagerGala_private_offset;
static gpointer gala_window_manager_gala_parent_class = NULL;
static GalaWindowManagerIface * gala_window_manager_gala_gala_window_manager_parent_iface = NULL;

VALA_EXTERN GType gala_window_manager_gala_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowManagerGala, g_object_unref)
VALA_EXTERN GType gala_screen_shield_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaScreenShield, g_object_unref)
VALA_EXTERN GType gala_pointer_locator_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaPointerLocator, g_object_unref)
VALA_EXTERN GType gala_system_background_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaSystemBackground, g_object_unref)
VALA_EXTERN GType gala_window_switcher_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowSwitcher, g_object_unref)
VALA_EXTERN GType gala_screen_saver_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaScreenSaverManager, g_object_unref)
VALA_EXTERN guint gala_screen_saver_manager_register_object (void* object,
                                                 GDBusConnection* connection,
                                                 const gchar* path,
                                                 GError** error);
VALA_EXTERN GType gala_hot_corner_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaHotCornerManager, g_object_unref)
VALA_EXTERN GType gala_window_tracker_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowTracker, g_object_unref)
VALA_EXTERN GType gala_zoom_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaZoom, g_object_unref)
VALA_EXTERN GType gala_daemon_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaDaemonManager, g_object_unref)
VALA_EXTERN GType gala_window_grab_tracker_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowGrabTracker, g_object_unref)
VALA_EXTERN GType gala_notification_stack_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaNotificationStack, g_object_unref)
VALA_EXTERN GType gala_gesture_tracker_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGestureTracker, g_object_unref)
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
static void gala_window_manager_gala_real_start (MetaPlugin* base);
VALA_EXTERN void gala_shell_clients_manager_init (GalaWindowManager* wm);
VALA_EXTERN GalaDaemonManager* gala_daemon_manager_new (MetaDisplay* display);
VALA_EXTERN GalaDaemonManager* gala_daemon_manager_construct (GType object_type,
                                                  MetaDisplay* display);
VALA_EXTERN GalaWindowGrabTracker* gala_window_grab_tracker_new (MetaDisplay* display);
VALA_EXTERN GalaWindowGrabTracker* gala_window_grab_tracker_construct (GType object_type,
                                                           MetaDisplay* display);
static void gala_window_manager_gala_show_stage (GalaWindowManagerGala* self);
VALA_EXTERN void gala_access_dialog_watch_portal (void);
static void __lambda180_ (GalaWindowManagerGala* self);
static void ___lambda180__meta_display_gl_video_memory_purged (MetaDisplay* _sender,
                                                        gpointer self);
static Block8Data* block8_data_ref (Block8Data* _data8_);
static void block8_data_unref (void * _userdata_);
VALA_EXTERN GalaScreenShield* gala_screen_shield_new (GalaWindowManager* wm);
VALA_EXTERN GalaScreenShield* gala_screen_shield_construct (GType object_type,
                                                GalaWindowManager* wm);
static void gala_window_manager_gala_set_screen_shield (GalaWindowManagerGala* self,
                                                 GalaScreenShield* value);
VALA_EXTERN GalaScreenShield* gala_window_manager_gala_get_screen_shield (GalaWindowManagerGala* self);
VALA_EXTERN GalaScreenSaverManager* gala_screen_saver_manager_new (GalaScreenShield* shield);
VALA_EXTERN GalaScreenSaverManager* gala_screen_saver_manager_construct (GType object_type,
                                                             GalaScreenShield* shield);
static void gala_window_manager_gala_set_screensaver (GalaWindowManagerGala* self,
                                               GalaScreenSaverManager* value);
VALA_EXTERN void gala_dbus_init (GalaWindowManagerGala* _wm);
VALA_EXTERN gpointer gala_dbus_accelerator_ref (gpointer instance);
VALA_EXTERN void gala_dbus_accelerator_unref (gpointer instance);
VALA_EXTERN GParamSpec* gala_param_spec_dbus_accelerator (const gchar* name,
                                              const gchar* nick,
                                              const gchar* blurb,
                                              GType object_type,
                                              GParamFlags flags);
VALA_EXTERN void gala_value_set_dbus_accelerator (GValue* value,
                                      gpointer v_object);
VALA_EXTERN void gala_value_take_dbus_accelerator (GValue* value,
                                       gpointer v_object);
VALA_EXTERN gpointer gala_value_get_dbus_accelerator (const GValue* value);
VALA_EXTERN GType gala_dbus_accelerator_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaDBusAccelerator, gala_dbus_accelerator_unref)
VALA_EXTERN guint gala_dbus_accelerator_register_object (void* object,
                                             GDBusConnection* connection,
                                             const gchar* path,
                                             GError** error);
VALA_EXTERN GalaDBusAccelerator* gala_dbus_accelerator_init (GalaWindowManager* wm);
VALA_EXTERN void gala_media_feedback_init (void);
VALA_EXTERN void gala_window_listener_init (MetaDisplay* display);
VALA_EXTERN void gala_keyboard_manager_init (MetaDisplay* display);
VALA_EXTERN GalaWindowTracker* gala_window_tracker_new (void);
VALA_EXTERN GalaWindowTracker* gala_window_tracker_construct (GType object_type);
static void gala_window_manager_gala_set_window_tracker (GalaWindowManagerGala* self,
                                                  GalaWindowTracker* value);
VALA_EXTERN void gala_window_state_saver_init (GalaWindowTracker* window_tracker);
VALA_EXTERN GalaWindowTracker* gala_window_manager_gala_get_window_tracker (GalaWindowManagerGala* self);
VALA_EXTERN void gala_window_tracker_init (GalaWindowTracker* self,
                               MetaDisplay* display);
VALA_EXTERN GalaNotificationStack* gala_notification_stack_new (MetaDisplay* display);
VALA_EXTERN GalaNotificationStack* gala_notification_stack_construct (GType object_type,
                                                          MetaDisplay* display);
VALA_EXTERN GalaScreenSaverManager* gala_window_manager_gala_get_screensaver (GalaWindowManagerGala* self);
static void gala_window_manager_gala_update_input_area (GalaWindowManagerGala* self);
static void _gala_window_manager_gala_update_input_area_gala_screen_saver_manager_active_changed (GalaScreenSaverManager* _sender,
                                                                                           gboolean new_value,
                                                                                           gpointer self);
static void _vala_ClutterColor_free (ClutterColor* self);
static gboolean __lambda147_ (GalaWindowManagerGala* self);
VALA_EXTERN void gala_workspace_manager_init (GalaWindowManager* wm);
static gboolean ___lambda147__gsource_func (gpointer self);
VALA_EXTERN GalaSystemBackground* gala_system_background_new (MetaDisplay* display);
VALA_EXTERN GalaSystemBackground* gala_system_background_construct (GType object_type,
                                                        MetaDisplay* display);
VALA_EXTERN MetaBackgroundActor* gala_system_background_get_background_actor (GalaSystemBackground* self);
static void gala_window_manager_gala_update_ui_group_size (GalaWindowManagerGala* self);
VALA_EXTERN GalaBackgroundContainer* gala_background_container_new (GalaWindowManager* wm);
VALA_EXTERN GalaBackgroundContainer* gala_background_container_construct (GType object_type,
                                                              GalaWindowManager* wm);
VALA_EXTERN GType gala_background_container_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBackgroundContainer, g_object_unref)
VALA_EXTERN void gala_daemon_manager_show_background_menu (GalaDaemonManager* self,
                                               gint x,
                                               gint y,
                                               GAsyncReadyCallback _callback_,
                                               gpointer _user_data_);
VALA_EXTERN void gala_daemon_manager_show_background_menu_finish (GalaDaemonManager* self,
                                                      GAsyncResult* _res_);
static void _gala_daemon_manager_show_background_menu_gala_background_container_show_background_menu (GalaBackgroundContainer* _sender,
                                                                                               gint x,
                                                                                               gint y,
                                                                                               gpointer self);
VALA_EXTERN void gala_filter_manager_init (GalaWindowManager* wm);
static void gala_window_manager_gala_handle_switch_to_workspace_end (MetaDisplay* display,
                                                              MetaWindow* window,
                                                              ClutterKeyEvent* event,
                                                              MetaKeyBinding* binding,
                                                              GalaWindowManagerGala* self);
static void gala_window_manager_gala_handle_move_to_workspace_end (MetaDisplay* display,
                                                            MetaWindow* window,
                                                            ClutterKeyEvent* event,
                                                            MetaKeyBinding* binding,
                                                            GalaWindowManagerGala* self);
static void gala_window_manager_gala_handle_cycle_workspaces (MetaDisplay* display,
                                                       MetaWindow* window,
                                                       ClutterKeyEvent* event,
                                                       MetaKeyBinding* binding,
                                                       GalaWindowManagerGala* self);
static void gala_window_manager_gala_handle_applications_menu (MetaDisplay* display,
                                                        MetaWindow* window,
                                                        ClutterKeyEvent* event,
                                                        MetaKeyBinding* binding,
                                                        GalaWindowManagerGala* self);
static void gala_window_manager_gala_handle_switch_input_source (MetaDisplay* display,
                                                          MetaWindow* window,
                                                          ClutterKeyEvent* event,
                                                          MetaKeyBinding* binding,
                                                          GalaWindowManagerGala* self);
static void gala_window_manager_gala_handle_screenshot (MetaDisplay* display,
                                                 MetaWindow* window,
                                                 ClutterKeyEvent* event,
                                                 MetaKeyBinding* binding,
                                                 GalaWindowManagerGala* self);
static void __lambda155_ (GalaWindowManagerGala* self);
static void gala_window_manager_gala_launch_action (GalaWindowManagerGala* self,
                                             const gchar* action_key);
static void ___lambda155__meta_display_overlay_key (MetaDisplay* _sender,
                                             gpointer self);
static void __lambda156_ (GalaWindowManagerGala* self);
static void ___lambda156__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
static void __lambda157_ (GalaWindowManagerGala* self);
static void ___lambda157__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
static void __lambda158_ (GalaWindowManagerGala* self);
static void ___lambda158__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
static void gala_window_manager_gala_handle_switch_to_workspace (MetaDisplay* display,
                                                          MetaWindow* window,
                                                          ClutterKeyEvent* event,
                                                          MetaKeyBinding* binding,
                                                          GalaWindowManagerGala* self);
static void __lambda163_ (GalaWindowManagerGala* self);
static void ___lambda163__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
static void __lambda164_ (GalaWindowManagerGala* self);
static void ___lambda164__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
static void gala_window_manager_gala_handle_move_to_workspace (MetaDisplay* display,
                                                        MetaWindow* window,
                                                        ClutterKeyEvent* event,
                                                        MetaKeyBinding* binding,
                                                        GalaWindowManagerGala* self);
static void gala_window_manager_gala_on_monitors_changed (GalaWindowManagerGala* self);
static void _gala_window_manager_gala_on_monitors_changed_meta_monitor_manager_monitors_changed (MetaMonitorManager* _sender,
                                                                                          gpointer self);
VALA_EXTERN GalaHotCornerManager* gala_hot_corner_manager_new (GalaWindowManager* wm,
                                                   GSettings* behavior_settings,
                                                   GSettings* new_behavior_settings);
VALA_EXTERN GalaHotCornerManager* gala_hot_corner_manager_construct (GType object_type,
                                                         GalaWindowManager* wm,
                                                         GSettings* behavior_settings,
                                                         GSettings* new_behavior_settings);
static void _gala_window_manager_gala_update_input_area_gala_hot_corner_manager_on_configured (GalaHotCornerManager* _sender,
                                                                                        gpointer self);
VALA_EXTERN void gala_hot_corner_manager_configure (GalaHotCornerManager* self);
VALA_EXTERN GalaZoom* gala_zoom_new (GalaWindowManager* wm);
VALA_EXTERN GalaZoom* gala_zoom_construct (GType object_type,
                               GalaWindowManager* wm);
static gboolean __lambda165_ (Block8Data* _data8_);
VALA_EXTERN GType gala_plugin_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaPluginManager, g_object_unref)
VALA_EXTERN GalaPluginManager* gala_plugin_manager_get_default (void);
VALA_EXTERN void gala_plugin_manager_initialize (GalaPluginManager* self,
                                     GalaWindowManager* _wm);
static void _gala_window_manager_gala_update_input_area_gala_plugin_manager_regions_changed (GalaPluginManager* _sender,
                                                                                      gpointer self);
VALA_EXTERN const gchar* gala_plugin_manager_get_workspace_view_provider (GalaPluginManager* self);
VALA_EXTERN GalaPlugin* gala_plugin_manager_get_plugin (GalaPluginManager* self,
                                            const gchar* id);
VALA_EXTERN GalaMultitaskingView* gala_multitasking_view_new (GalaWindowManager* wm);
VALA_EXTERN GalaMultitaskingView* gala_multitasking_view_construct (GType object_type,
                                                        GalaWindowManager* wm);
VALA_EXTERN GType gala_multitasking_view_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaMultitaskingView, g_object_unref)
static void __lambda166_ (GalaWindowManagerGala* self);
static void ___lambda166__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
VALA_EXTERN const gchar* gala_plugin_manager_get_window_switcher_provider (GalaPluginManager* self);
VALA_EXTERN GalaWindowSwitcher* gala_window_switcher_new (GalaWindowManager* wm,
                                              GalaGestureTracker* gesture_tracker);
VALA_EXTERN GalaWindowSwitcher* gala_window_switcher_construct (GType object_type,
                                                    GalaWindowManager* wm,
                                                    GalaGestureTracker* gesture_tracker);
VALA_EXTERN void gala_window_switcher_handle_switch_windows (MetaDisplay* display,
                                                 MetaWindow* window,
                                                 ClutterKeyEvent* event,
                                                 MetaKeyBinding* binding,
                                                 GalaWindowSwitcher* self);
VALA_EXTERN const gchar* gala_plugin_manager_get_window_overview_provider (GalaPluginManager* self);
static void gala_window_manager_gala_set_window_overview (GalaWindowManagerGala* self,
                                                   GalaActivatableComponent* value);
VALA_EXTERN GalaWindowOverview* gala_window_overview_new (GalaWindowManager* wm);
VALA_EXTERN GalaWindowOverview* gala_window_overview_construct (GType object_type,
                                                    GalaWindowManager* wm);
VALA_EXTERN GType gala_window_overview_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowOverview, g_object_unref)
VALA_EXTERN GalaActivatableComponent* gala_window_manager_gala_get_window_overview (GalaWindowManagerGala* self);
VALA_EXTERN void gala_window_manager_gala_set_notification_group (GalaWindowManagerGala* self,
                                                      ClutterActor* value);
VALA_EXTERN ClutterActor* gala_window_manager_gala_get_notification_group (GalaWindowManagerGala* self);
VALA_EXTERN GalaPointerLocator* gala_pointer_locator_new (GalaWindowManager* wm);
VALA_EXTERN GalaPointerLocator* gala_pointer_locator_construct (GType object_type,
                                                    GalaWindowManager* wm);
static void gala_window_manager_gala_set_pointer_locator (GalaWindowManagerGala* self,
                                                   GalaPointerLocator* value);
VALA_EXTERN GalaPointerLocator* gala_window_manager_gala_get_pointer_locator (GalaWindowManagerGala* self);
VALA_EXTERN GalaDwellClickTimer* gala_dwell_click_timer_new (GalaWindowManager* wm);
VALA_EXTERN GalaDwellClickTimer* gala_dwell_click_timer_construct (GType object_type,
                                                       GalaWindowManager* wm);
VALA_EXTERN GType gala_dwell_click_timer_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaDwellClickTimer, g_object_unref)
static void __lambda173_ (GalaWindowManagerGala* self);
static void ___lambda173__meta_key_handler_func (MetaDisplay* display,
                                          MetaWindow* window,
                                          const ClutterKeyEvent* event,
                                          MetaKeyBinding* binding,
                                          gpointer self);
VALA_EXTERN void gala_plugin_manager_load_waiting_plugins (GalaPluginManager* self);
static gboolean ___lambda165__gsource_func (gpointer self);
static void __lambda174_ (GalaWindowManagerGala* self,
                   MetaWindow* window);
static void ___lambda174__meta_display_window_created (MetaDisplay* _sender,
                                                MetaWindow* object,
                                                gpointer self);
static gboolean __lambda175_ (Block8Data* _data8_);
static gboolean ___lambda175__gsource_func (gpointer self);
VALA_EXTERN void gala_screen_shield_expand_to_screen_size (GalaScreenShield* self);
VALA_EXTERN gboolean gala_keyboard_manager_handle_modifiers_accelerator_activated (MetaDisplay* display,
                                                                       gboolean backward);
static void gala_window_manager_gala_screenshot_screen (GalaWindowManagerGala* self,
                                                 gboolean clipboard,
                                                 GAsyncReadyCallback _callback_,
                                                 gpointer _user_data_);
static void gala_window_manager_gala_screenshot_screen_finish (GalaWindowManagerGala* self,
                                                        GAsyncResult* _res_);
static void gala_window_manager_gala_screenshot_area (GalaWindowManagerGala* self,
                                               gboolean clipboard,
                                               GAsyncReadyCallback _callback_,
                                               gpointer _user_data_);
static void gala_window_manager_gala_screenshot_area_finish (GalaWindowManagerGala* self,
                                                      GAsyncResult* _res_);
static void gala_window_manager_gala_screenshot_current_window (GalaWindowManagerGala* self,
                                                         gboolean clipboard,
                                                         GAsyncReadyCallback _callback_,
                                                         gpointer _user_data_);
static void gala_window_manager_gala_screenshot_current_window_finish (GalaWindowManagerGala* self,
                                                                GAsyncResult* _res_);
VALA_EXTERN gpointer gala_gesture_ref (gpointer instance);
VALA_EXTERN void gala_gesture_unref (gpointer instance);
VALA_EXTERN GParamSpec* gala_param_spec_gesture (const gchar* name,
                                     const gchar* nick,
                                     const gchar* blurb,
                                     GType object_type,
                                     GParamFlags flags);
VALA_EXTERN void gala_value_set_gesture (GValue* value,
                             gpointer v_object);
VALA_EXTERN void gala_value_take_gesture (GValue* value,
                              gpointer v_object);
VALA_EXTERN gpointer gala_value_get_gesture (const GValue* value);
VALA_EXTERN GType gala_gesture_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGesture, gala_gesture_unref)
static void gala_window_manager_gala_on_gesture_detected (GalaWindowManagerGala* self,
                                                   GalaGesture* gesture);
VALA_EXTERN GType gala_gesture_direction_get_type (void) G_GNUC_CONST ;
VALA_EXTERN gchar* gala_gesture_settings_get_string (const gchar* setting_id);
VALA_EXTERN GType gala_gesture_settings_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGestureSettings, g_object_unref)
VALA_EXTERN GalaGestureSettings* gala_gesture_tracker_get_settings (GalaGestureTracker* self);
VALA_EXTERN MetaMotionDirection* gala_gesture_settings_get_natural_scroll_direction (GalaGestureSettings* self,
                                                                         GalaGesture* gesture);
VALA_EXTERN gboolean gala_window_switcher_get_opened (GalaWindowSwitcher* self);
VALA_EXTERN void gala_window_switcher_handle_gesture (GalaWindowSwitcher* self,
                                          GalaGestureDirection direction);
static void gala_window_manager_gala_real_switch_to_next_workspace (GalaWindowManager* base,
                                                             MetaMotionDirection direction,
                                                             guint32 timestamp);
VALA_EXTERN void gala_multitasking_view_play_nudge_animation (GalaMultitaskingView* self,
                                                  MetaMotionDirection direction);
static void gala_window_manager_gala_play_nudge_animation (GalaWindowManagerGala* self,
                                                    MetaMotionDirection direction);
static Block9Data* block9_data_ref (Block9Data* _data9_);
static void block9_data_unref (void * _userdata_);
static void gala_window_manager_gala_prepare_workspace_switch (GalaWindowManagerGala* self,
                                                        gint from,
                                                        gint to,
                                                        MetaMotionDirection direction);
VALA_EXTERN gint gala_internal_utils_scale_to_int (gint value,
                                       gfloat scale_factor);
VALA_EXTERN void gala_internal_utils_get_workspaces_geometry (MetaDisplay* display,
                                                  MtkRectangle* result);
static void __lambda159_ (Block9Data* _data9_,
                   gdouble percentage);
VALA_EXTERN gfloat gala_gesture_tracker_animation_value (gfloat initial_value,
                                             gfloat target_value,
                                             gdouble percentage,
                                             gboolean rounded);
static void ___lambda159__gala_gesture_tracker_on_update (gdouble percentage,
                                                   gpointer self);
static void __lambda160_ (Block9Data* _data9_,
                   gdouble percentage,
                   gboolean cancel_action,
                   gint duration);
static void __lambda161_ (Block9Data* _data9_);
static void gala_window_manager_gala_switch_workspace_animation_finished (GalaWindowManagerGala* self,
                                                                   MetaMotionDirection animation_direction,
                                                                   gboolean cancel_action,
                                                                   gboolean is_nudge_animation);
static void ___lambda161__clutter_timeline_completed (ClutterTimeline* _sender,
                                               gpointer self);
static void ___lambda160__gala_gesture_tracker_on_end (gdouble percentage,
                                                gboolean cancel_action,
                                                gint calculated_duration,
                                                gpointer self);
static void ___lambda162_ (Block9Data* _data9_);
static void ____lambda162__clutter_timeline_completed (ClutterTimeline* _sender,
                                                gpointer self);
static void _vala_GValue_array_free (GValue * array,
                              gssize array_length);
VALA_EXTERN void gala_gesture_tracker_connect_handlers (GalaGestureTracker* self,
                                            GalaGestureTrackerOnBegin on_begin_handler,
                                            gpointer on_begin_handler_target,
                                            GDestroyNotify on_begin_handler_target_destroy_notify,
                                            GalaGestureTrackerOnUpdate on_update_handler,
                                            gpointer on_update_handler_target,
                                            GDestroyNotify on_update_handler_target_destroy_notify,
                                            GalaGestureTrackerOnEnd on_end_handler,
                                            gpointer on_end_handler_target,
                                            GDestroyNotify on_end_handler_target_destroy_notify);
VALA_EXTERN gboolean gala_screen_saver_manager_get_active (GalaScreenSaverManager* self,
                                               GError** error);
VALA_EXTERN GType gala_input_area_get_type (void) G_GNUC_CONST ;
VALA_EXTERN void gala_internal_utils_set_input_area (MetaDisplay* display,
                                         GalaInputArea area);
static void gala_window_manager_gala_show_bottom_stack_window (GalaWindowManagerGala* self,
                                                        MetaWindow* bottom_window);
static Block10Data* block10_data_ref (Block10Data* _data10_);
static void block10_data_unref (void * _userdata_);
static void gala_window_manager_gala_animate_bottom_window_scale (GalaWindowManagerGala* self,
                                                           MetaWindowActor* actor);
static void __lambda181_ (Block10Data* _data10_,
                   MetaWindow* window);
static Block11Data* block11_data_ref (Block11Data* _data11_);
static void block11_data_unref (void * _userdata_);
VALA_EXTERN gboolean gala_internal_utils_get_window_is_normal (MetaWindow* window);
static gboolean ___lambda182_ (Block11Data* _data11_);
static gboolean ____lambda182__gsource_func (gpointer self);
static gboolean ___lambda183_ (Block11Data* _data11_);
static gboolean ____lambda183__gsource_func (gpointer self);
static void ___lambda181__gfunc (gconstpointer data,
                          gpointer self);
static void gala_window_manager_gala_real_move_window (GalaWindowManager* base,
                                                MetaWindow* window,
                                                MetaWorkspace* workspace,
                                                guint32 timestamp);
static GalaModalProxy* gala_window_manager_gala_real_push_modal (GalaWindowManager* base,
                                                          ClutterActor* actor);
static void gala_window_manager_gala_real_pop_modal (GalaWindowManager* base,
                                              GalaModalProxy* proxy);
static gboolean gala_window_manager_gala_real_is_modal (GalaWindowManager* base);
static gboolean gala_window_manager_gala_real_modal_proxy_valid (GalaWindowManager* base,
                                                          GalaModalProxy* proxy);
static void gala_window_manager_gala_dim_parent_window (GalaWindowManagerGala* self,
                                                 MetaWindow* window);
static Block12Data* block12_data_ref (Block12Data* _data12_);
static void block12_data_unref (void * _userdata_);
static void __lambda184_ (Block12Data* _data12_);
static void ___lambda184__meta_window_unmanaged (MetaWindow* _sender,
                                          gpointer self);
static void gala_window_manager_gala_real_perform_action (GalaWindowManager* base,
                                                   GalaActionType type);
static void gala_window_manager_gala_real_show_window_menu (MetaPlugin* base,
                                                     MetaWindow* window,
                                                     MetaWindowMenuType menu,
                                                     gint x,
                                                     gint y);
VALA_EXTERN void gala_daemon_manager_show_window_menu (GalaDaemonManager* self,
                                           GalaWindowFlags flags,
                                           gint x,
                                           gint y,
                                           GAsyncReadyCallback _callback_,
                                           gpointer _user_data_);
VALA_EXTERN void gala_daemon_manager_show_window_menu_finish (GalaDaemonManager* self,
                                                  GAsyncResult* _res_);
static void gala_window_manager_gala_real_show_tile_preview (MetaPlugin* base,
                                                      MetaWindow* window,
                                                      MtkRectangle* tile_rect,
                                                      gint tile_monitor_number);
static void gala_window_manager_gala_real_hide_tile_preview (MetaPlugin* base);
static void gala_window_manager_gala_real_show_window_menu_for_rect (MetaPlugin* base,
                                                              MetaWindow* window,
                                                              MetaWindowMenuType menu,
                                                              MtkRectangle* rect);
static void gala_window_manager_gala_handle_fullscreen_window (GalaWindowManagerGala* self,
                                                        MetaWindow* window,
                                                        MetaSizeChange which_change);
VALA_EXTERN void gala_internal_utils_insert_workspace_with_window (gint index,
                                                       MetaWindow* new_window);
static void gala_window_manager_gala_real_size_change (MetaPlugin* base,
                                                MetaWindowActor* actor,
                                                MetaSizeChange which_change_local,
                                                MtkRectangle* old_frame_rect,
                                                MtkRectangle* old_buffer_rect);
static MetaSizeChange* _meta_size_change_dup (MetaSizeChange* self);
static void gala_window_manager_gala_real_size_changed (MetaPlugin* base,
                                                 MetaWindowActor* actor);
static void gala_window_manager_gala_maximize (GalaWindowManagerGala* self,
                                        MetaWindowActor* actor,
                                        gint ex,
                                        gint ey,
                                        gint ew,
                                        gint eh);
static void gala_window_manager_gala_unmaximize (GalaWindowManagerGala* self,
                                          MetaWindowActor* actor,
                                          gint ex,
                                          gint ey,
                                          gint ew,
                                          gint eh);
static void gala_window_manager_gala_real_minimize (MetaPlugin* base,
                                             MetaWindowActor* actor);
static Block13Data* block13_data_ref (Block13Data* _data13_);
static void block13_data_unref (void * _userdata_);
static Block14Data* block14_data_ref (Block14Data* _data14_);
static void block14_data_unref (void * _userdata_);
static void ___lambda190_ (Block14Data* _data14_);
static void ____lambda190__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block15Data* block15_data_ref (Block15Data* _data15_);
static void block15_data_unref (void * _userdata_);
static void ___lambda191_ (Block15Data* _data15_);
static void ____lambda191__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block16Data* block16_data_ref (Block16Data* _data16_);
static void block16_data_unref (void * _userdata_);
static void gala_window_manager_gala_move_window_to_next_ws (GalaWindowManagerGala* self,
                                                      MetaWindow* window);
static Block17Data* block17_data_ref (Block17Data* _data17_);
static void block17_data_unref (void * _userdata_);
static gboolean ____lambda185_ (Block17Data* _data17_);
static gboolean _____lambda185__gsource_func (gpointer self);
static void ___lambda186_ (Block17Data* _data17_);
static void ____lambda186__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static void ___lambda187_ (Block17Data* _data17_);
static void ____lambda187__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static void gala_window_manager_gala_real_unminimize (MetaPlugin* base,
                                               MetaWindowActor* actor);
static Block18Data* block18_data_ref (Block18Data* _data18_);
static void block18_data_unref (void * _userdata_);
static Block19Data* block19_data_ref (Block19Data* _data19_);
static void block19_data_unref (void * _userdata_);
static void ___lambda192_ (Block19Data* _data19_);
static void ____lambda192__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static void gala_window_manager_gala_real_map (MetaPlugin* base,
                                        MetaWindowActor* actor);
static Block20Data* block20_data_ref (Block20Data* _data20_);
static void block20_data_unref (void * _userdata_);
VALA_EXTERN void gala_window_state_saver_on_map (MetaWindow* window);
static void gala_window_manager_gala_clutter_actor_reparent (ClutterActor* actor,
                                                      ClutterActor* new_parent);
VALA_EXTERN void gala_notification_stack_show_notification (GalaNotificationStack* self,
                                                MetaWindowActor* notification,
                                                gboolean animate);
static Block21Data* block21_data_ref (Block21Data* _data21_);
static void block21_data_unref (void * _userdata_);
static void ___lambda193_ (Block21Data* _data21_);
static void ____lambda193__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block22Data* block22_data_ref (Block22Data* _data22_);
static void block22_data_unref (void * _userdata_);
static void ___lambda194_ (Block22Data* _data22_);
static void ____lambda194__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block23Data* block23_data_ref (Block23Data* _data23_);
static void block23_data_unref (void * _userdata_);
static void ___lambda195_ (Block23Data* _data23_);
static void ____lambda195__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static void gala_window_manager_gala_real_destroy (MetaPlugin* base,
                                            MetaWindowActor* actor);
static Block24Data* block24_data_ref (Block24Data* _data24_);
static void block24_data_unref (void * _userdata_);
VALA_EXTERN void gala_notification_stack_destroy_notification (GalaNotificationStack* self,
                                                   MetaWindowActor* notification,
                                                   gboolean animate);
static Block25Data* block25_data_ref (Block25Data* _data25_);
static void block25_data_unref (void * _userdata_);
static void ____lambda196_ (Block25Data* _data25_);
static void _____lambda196__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                          gpointer self);
static Block26Data* block26_data_ref (Block26Data* _data26_);
static void block26_data_unref (void * _userdata_);
static void ___lambda197_ (Block26Data* _data26_);
static void ____lambda197__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block27Data* block27_data_ref (Block27Data* _data27_);
static void block27_data_unref (void * _userdata_);
static void ___lambda198_ (Block27Data* _data27_);
static void ____lambda198__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block28Data* block28_data_ref (Block28Data* _data28_);
static void block28_data_unref (void * _userdata_);
static void ___lambda199_ (Block28Data* _data28_);
static void ____lambda199__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static Block29Data* block29_data_ref (Block29Data* _data29_);
static void block29_data_unref (void * _userdata_);
static void gala_window_manager_gala_move_window_to_old_ws (GalaWindowManagerGala* self,
                                                     MetaWindow* window);
static Block30Data* block30_data_ref (Block30Data* _data30_);
static void block30_data_unref (void * _userdata_);
VALA_EXTERN GType gala_window_listener_window_geometry_get_type (void) G_GNUC_CONST ;
VALA_EXTERN GalaWindowListenerWindowGeometry* gala_window_listener_window_geometry_dup (const GalaWindowListenerWindowGeometry* self);
VALA_EXTERN void gala_window_listener_window_geometry_free (GalaWindowListenerWindowGeometry* self);
VALA_EXTERN GType gala_window_listener_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowListener, g_object_unref)
VALA_EXTERN GalaWindowListener* gala_window_listener_get_default (void);
VALA_EXTERN GalaWindowListenerWindowGeometry* gala_window_listener_get_unmaximized_state_geometry (GalaWindowListener* self,
                                                                                       MetaWindow* window);
static void ___lambda188_ (Block30Data* _data30_);
static void ____lambda188__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static void ___lambda189_ (Block30Data* _data30_);
static void ____lambda189__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                         gpointer self);
static gboolean gala_window_manager_gala_end_animation (GalaWindowManagerGala* self,
                                                 GeeHashSet** list,
                                                 MetaWindowActor* actor);
static void gala_window_manager_gala_real_kill_window_effects (MetaPlugin* base,
                                                        MetaWindowActor* actor);
VALA_EXTERN gboolean gala_internal_utils_workspaces_only_on_primary (void);
VALA_EXTERN void gala_background_container_set_black_background (GalaBackgroundContainer* self,
                                                     gboolean black);
VALA_EXTERN MetaWindow* gala_window_grab_tracker_get_current_window (GalaWindowGrabTracker* self);
static void gala_window_manager_gala_real_switch_workspace (MetaPlugin* base,
                                                     gint from,
                                                     gint to,
                                                     MetaMotionDirection direction);
static Block31Data* block31_data_ref (Block31Data* _data31_);
static void block31_data_unref (void * _userdata_);
static void __lambda200_ (GalaWindowManagerGala* self,
                   MetaWindow* window);
static void ___lambda200__gala_window_manager_gala_window_created (GalaWindowManagerGala* _sender,
                                                            MetaWindow* window,
                                                            gpointer self);
static void __lambda201_ (Block31Data* _data31_,
                   gdouble percentage);
static void ___lambda201__gala_gesture_tracker_on_update (gdouble percentage,
                                                   gpointer self);
static void __lambda202_ (Block31Data* _data31_,
                   gdouble percentage,
                   gboolean cancel_action,
                   gint duration);
static Block32Data* block32_data_ref (Block32Data* _data32_);
static void block32_data_unref (void * _userdata_);
static void ___lambda203_ (Block32Data* _data32_);
static void ____lambda203__clutter_timeline_completed (ClutterTimeline* _sender,
                                                gpointer self);
static void ___lambda202__gala_gesture_tracker_on_end (gdouble percentage,
                                                gboolean cancel_action,
                                                gint calculated_duration,
                                                gpointer self);
static void gala_window_manager_gala_end_switch_workspace (GalaWindowManagerGala* self);
static void gala_window_manager_gala_real_kill_switch_workspace (MetaPlugin* base);
static void gala_window_manager_gala_real_locate_pointer (MetaPlugin* base);
VALA_EXTERN void gala_pointer_locator_show_ripple (GalaPointerLocator* self);
static gboolean gala_window_manager_gala_real_keybinding_filter (MetaPlugin* base,
                                                          MetaKeyBinding* binding);
static void gala_window_manager_gala_real_confirm_display_change (MetaPlugin* base);
VALA_EXTERN GType gala_access_dialog_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaAccessDialog, g_object_unref)
static Block33Data* block33_data_ref (Block33Data* _data33_);
static void block33_data_unref (void * _userdata_);
VALA_EXTERN GalaAccessDialog* gala_access_dialog_new (const gchar* title,
                                          const gchar* body,
                                          const gchar* icon);
VALA_EXTERN GalaAccessDialog* gala_access_dialog_construct (GType object_type,
                                                const gchar* title,
                                                const gchar* body,
                                                const gchar* icon);
VALA_EXTERN void gala_access_dialog_set_accept_label (GalaAccessDialog* self,
                                          const gchar* value);
VALA_EXTERN void gala_access_dialog_set_deny_label (GalaAccessDialog* self,
                                        const gchar* value);
static void __lambda204_ (Block33Data* _data33_);
static gboolean __lambda205_ (Block33Data* _data33_);
VALA_EXTERN void gala_access_dialog_close (GalaAccessDialog* self);
static gboolean ___lambda205__gsource_func (gpointer self);
static void ___lambda204__gala_access_dialog_show (GalaAccessDialog* _sender,
                                            gpointer self);
static void __lambda206_ (Block33Data* _data33_,
                   guint res);
static void ___lambda206__gala_access_dialog_response (GalaAccessDialog* _sender,
                                                guint response,
                                                gpointer self);
static MetaCloseDialog* gala_window_manager_gala_real_create_close_dialog (MetaPlugin* base,
                                                                    MetaWindow* window);
VALA_EXTERN GalaApp* gala_window_tracker_get_app_for_window (GalaWindowTracker* self,
                                                 MetaWindow* window);
VALA_EXTERN GalaCloseDialog* gala_close_dialog_new (GalaApp* app,
                                        MetaWindow* window);
VALA_EXTERN GalaCloseDialog* gala_close_dialog_construct (GType object_type,
                                              GalaApp* app,
                                              MetaWindow* window);
VALA_EXTERN GType gala_close_dialog_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaCloseDialog, g_object_unref)
static MetaInhibitShortcutsDialog* gala_window_manager_gala_real_create_inhibit_shortcuts_dialog (MetaPlugin* base,
                                                                                           MetaWindow* window);
VALA_EXTERN GalaInhibitShortcutsDialog* gala_inhibit_shortcuts_dialog_new (GalaApp* app,
                                                               MetaWindow* window);
VALA_EXTERN GalaInhibitShortcutsDialog* gala_inhibit_shortcuts_dialog_construct (GType object_type,
                                                                     GalaApp* app,
                                                                     MetaWindow* window);
VALA_EXTERN GType gala_inhibit_shortcuts_dialog_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaInhibitShortcutsDialog, g_object_unref)
static MetaPluginInfo* gala_window_manager_gala_real_plugin_info (MetaPlugin* base);
static gchar* gala_window_manager_gala_generate_screenshot_filename (GalaWindowManagerGala* self);
static void gala_window_manager_gala_screenshot_current_window_data_free (gpointer _data);
static gboolean gala_window_manager_gala_screenshot_current_window_co (GalaWindowManagerGalaScreenshotCurrentWindowData* _data_);
VALA_EXTERN GType gala_screenshot_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaScreenshotManager, g_object_unref)
VALA_EXTERN guint gala_screenshot_manager_register_object (void* object,
                                               GDBusConnection* connection,
                                               const gchar* path,
                                               GError** error);
VALA_EXTERN GalaScreenshotManager* gala_screenshot_manager_init (GalaWindowManager* wm);
VALA_EXTERN void gala_screenshot_manager_screenshot_window (GalaScreenshotManager* self,
                                                gboolean include_frame,
                                                gboolean include_cursor,
                                                gboolean flash,
                                                const gchar* filename,
                                                GAsyncReadyCallback _callback_,
                                                gpointer _user_data_);
VALA_EXTERN void gala_screenshot_manager_screenshot_window_finish (GalaScreenshotManager* self,
                                                       GAsyncResult* _res_,
                                                       gboolean* success,
                                                       gchar** filename_used,
                                                       GError** error);
static void gala_window_manager_gala_screenshot_current_window_ready (GObject* source_object,
                                                               GAsyncResult* _res_,
                                                               gpointer _user_data_);
static void gala_window_manager_gala_screenshot_area_data_free (gpointer _data);
static gboolean gala_window_manager_gala_screenshot_area_co (GalaWindowManagerGalaScreenshotAreaData* _data_);
VALA_EXTERN void gala_screenshot_manager_select_area (GalaScreenshotManager* self,
                                          GAsyncReadyCallback _callback_,
                                          gpointer _user_data_);
VALA_EXTERN void gala_screenshot_manager_select_area_finish (GalaScreenshotManager* self,
                                                 GAsyncResult* _res_,
                                                 gint* x,
                                                 gint* y,
                                                 gint* width,
                                                 gint* height,
                                                 GError** error);
static void gala_window_manager_gala_screenshot_area_ready (GObject* source_object,
                                                     GAsyncResult* _res_,
                                                     gpointer _user_data_);
VALA_EXTERN void gala_screenshot_manager_screenshot_area (GalaScreenshotManager* self,
                                              gint x,
                                              gint y,
                                              gint width,
                                              gint height,
                                              gboolean flash,
                                              const gchar* filename,
                                              GAsyncReadyCallback _callback_,
                                              gpointer _user_data_);
VALA_EXTERN void gala_screenshot_manager_screenshot_area_finish (GalaScreenshotManager* self,
                                                     GAsyncResult* _res_,
                                                     gboolean* success,
                                                     gchar** filename_used,
                                                     GError** error);
static void gala_window_manager_gala_screenshot_screen_data_free (gpointer _data);
static gboolean gala_window_manager_gala_screenshot_screen_co (GalaWindowManagerGalaScreenshotScreenData* _data_);
VALA_EXTERN void gala_screenshot_manager_screenshot (GalaScreenshotManager* self,
                                         gboolean include_cursor,
                                         gboolean flash,
                                         const gchar* filename,
                                         GAsyncReadyCallback _callback_,
                                         gpointer _user_data_);
VALA_EXTERN void gala_screenshot_manager_screenshot_finish (GalaScreenshotManager* self,
                                                GAsyncResult* _res_,
                                                gboolean* success,
                                                gchar** filename_used,
                                                GError** error);
static void gala_window_manager_gala_screenshot_screen_ready (GObject* source_object,
                                                       GAsyncResult* _res_,
                                                       gpointer _user_data_);
VALA_EXTERN GalaWindowManagerGala* gala_window_manager_gala_new (void);
VALA_EXTERN GalaWindowManagerGala* gala_window_manager_gala_construct (GType object_type);
static GObject * gala_window_manager_gala_constructor (GType type,
                                                guint n_construct_properties,
                                                GObjectConstructParam * construct_properties);
VALA_EXTERN GalaGestureTracker* gala_gesture_tracker_new (gint min_animation_duration,
                                              gint max_animation_duration);
VALA_EXTERN GalaGestureTracker* gala_gesture_tracker_construct (GType object_type,
                                                    gint min_animation_duration,
                                                    gint max_animation_duration);
VALA_EXTERN void gala_gesture_tracker_enable_touchpad (GalaGestureTracker* self);
static void _gala_window_manager_gala_on_gesture_detected_gala_gesture_tracker_on_gesture_detected (GalaGestureTracker* _sender,
                                                                                             GalaGesture* gesture,
                                                                                             gpointer self);
static void gala_window_manager_gala_finalize (GObject * obj);
static GType gala_window_manager_gala_get_type_once (void);
static void _vala_gala_window_manager_gala_get_property (GObject * object,
                                                  guint property_id,
                                                  GValue * value,
                                                  GParamSpec * pspec);
static void _vala_gala_window_manager_gala_set_property (GObject * object,
                                                  guint property_id,
                                                  const GValue * value,
                                                  GParamSpec * pspec);
Window clutter_x11_get_stage_window (ClutterActor* stage);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);

static inline gpointer
gala_window_manager_gala_get_instance_private (GalaWindowManagerGala* self)
{
	return G_STRUCT_MEMBER_P (self, GalaWindowManagerGala_private_offset);
}

static void
_g_object_unref0_ (gpointer var)
{
#line 98 "../src/WindowManager.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 1556 "WindowManager.c"
}

static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 1890 "../src/WindowManager.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 1564 "WindowManager.c"
}

static void
__lambda180_ (GalaWindowManagerGala* self)
{
#line 156 "../src/WindowManager.vala"
	meta_background_refresh_all ();
#line 1572 "WindowManager.c"
}

static void
___lambda180__meta_display_gl_video_memory_purged (MetaDisplay* _sender,
                                                   gpointer self)
{
#line 155 "../src/WindowManager.vala"
	__lambda180_ ((GalaWindowManagerGala*) self);
#line 1581 "WindowManager.c"
}

static void
gala_window_manager_gala_real_start (MetaPlugin* base)
{
	GalaWindowManagerGala * self;
	MetaDisplay* _tmp0_;
	GalaDaemonManager* _tmp1_;
	MetaDisplay* _tmp2_;
	GalaWindowGrabTracker* _tmp3_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp4_;
#line 145 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 146 "../src/WindowManager.vala"
	gala_shell_clients_manager_init ((GalaWindowManager*) self);
#line 147 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 147 "../src/WindowManager.vala"
	_tmp1_ = gala_daemon_manager_new (_tmp0_);
#line 147 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->daemon_manager);
#line 147 "../src/WindowManager.vala"
	self->priv->daemon_manager = _tmp1_;
#line 148 "../src/WindowManager.vala"
	_tmp2_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 148 "../src/WindowManager.vala"
	_tmp3_ = gala_window_grab_tracker_new (_tmp2_);
#line 148 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->window_grab_tracker);
#line 148 "../src/WindowManager.vala"
	self->priv->window_grab_tracker = _tmp3_;
#line 150 "../src/WindowManager.vala"
	gala_window_manager_gala_show_stage (self);
#line 152 "../src/WindowManager.vala"
	gala_access_dialog_watch_portal ();
#line 154 "../src/WindowManager.vala"
	_tmp4_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 154 "../src/WindowManager.vala"
	display = _tmp4_;
#line 155 "../src/WindowManager.vala"
	g_signal_connect_object (display, "gl-video-memory-purged", (GCallback) ___lambda180__meta_display_gl_video_memory_purged, self, 0);
#line 1624 "WindowManager.c"
}

static Block8Data*
block8_data_ref (Block8Data* _data8_)
{
#line 160 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data8_->_ref_count_);
#line 160 "../src/WindowManager.vala"
	return _data8_;
#line 1634 "WindowManager.c"
}

static void
block8_data_unref (void * _userdata_)
{
	Block8Data* _data8_;
	_data8_ = (Block8Data*) _userdata_;
#line 160 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data8_->_ref_count_)) {
#line 1644 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 160 "../src/WindowManager.vala"
		self = _data8_->self;
#line 160 "../src/WindowManager.vala"
		_g_object_unref0 (_data8_->keybinding_settings);
#line 160 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 160 "../src/WindowManager.vala"
		g_slice_free (Block8Data, _data8_);
#line 1654 "WindowManager.c"
	}
}

static void
_gala_window_manager_gala_update_input_area_gala_screen_saver_manager_active_changed (GalaScreenSaverManager* _sender,
                                                                                      gboolean new_value,
                                                                                      gpointer self)
{
#line 181 "../src/WindowManager.vala"
	gala_window_manager_gala_update_input_area ((GalaWindowManagerGala*) self);
#line 1665 "WindowManager.c"
}

static ClutterColor*
_vala_clutter_color_from_string (const gchar* str)
{
	ClutterColor* color = NULL;
	ClutterColor* _tmp0_;
	ClutterColor* result;
#line 7865 "mutter-clutter-14.vapi"
	g_return_val_if_fail (str != NULL, NULL);
#line 7866 "mutter-clutter-14.vapi"
	_tmp0_ = clutter_color_alloc ();
#line 7866 "mutter-clutter-14.vapi"
	color = _tmp0_;
#line 7867 "mutter-clutter-14.vapi"
	clutter_color_from_string (color, str);
#line 7868 "mutter-clutter-14.vapi"
	result = color;
#line 7868 "mutter-clutter-14.vapi"
	return result;
#line 1686 "WindowManager.c"
}

static void
_vala_ClutterColor_free (ClutterColor* self)
{
#line 186 "../src/WindowManager.vala"
	g_boxed_free (clutter_color_get_type (), self);
#line 1694 "WindowManager.c"
}

static gboolean
__lambda147_ (GalaWindowManagerGala* self)
{
	gboolean result;
#line 190 "../src/WindowManager.vala"
	gala_workspace_manager_init ((GalaWindowManager*) self);
#line 191 "../src/WindowManager.vala"
	result = FALSE;
#line 191 "../src/WindowManager.vala"
	return result;
#line 1707 "WindowManager.c"
}

static gboolean
___lambda147__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda147_ ((GalaWindowManagerGala*) self);
#line 189 "../src/WindowManager.vala"
	return result;
#line 1717 "WindowManager.c"
}

static void
_gala_daemon_manager_show_background_menu_gala_background_container_show_background_menu (GalaBackgroundContainer* _sender,
                                                                                          gint x,
                                                                                          gint y,
                                                                                          gpointer self)
{
#line 228 "../src/WindowManager.vala"
	gala_daemon_manager_show_background_menu ((GalaDaemonManager*) self, x, y, NULL, NULL);
#line 1728 "WindowManager.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 237 "../src/WindowManager.vala"
	return self ? g_object_ref (self) : NULL;
#line 1736 "WindowManager.c"
}

static void
__lambda155_ (GalaWindowManagerGala* self)
{
#line 267 "../src/WindowManager.vala"
	gala_window_manager_gala_launch_action (self, "overlay-action");
#line 1744 "WindowManager.c"
}

static void
___lambda155__meta_display_overlay_key (MetaDisplay* _sender,
                                        gpointer self)
{
#line 266 "../src/WindowManager.vala"
	__lambda155_ ((GalaWindowManagerGala*) self);
#line 1753 "WindowManager.c"
}

static void
__lambda156_ (GalaWindowManagerGala* self)
{
#line 271 "../src/WindowManager.vala"
	gala_window_manager_gala_launch_action (self, "toggle-recording-action");
#line 1761 "WindowManager.c"
}

static void
___lambda156__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 270 "../src/WindowManager.vala"
	__lambda156_ ((GalaWindowManagerGala*) self);
#line 1773 "WindowManager.c"
}

static void
__lambda157_ (GalaWindowManagerGala* self)
{
}

static void
___lambda157__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 274 "../src/WindowManager.vala"
	__lambda157_ ((GalaWindowManagerGala*) self);
#line 1790 "WindowManager.c"
}

static void
__lambda158_ (GalaWindowManagerGala* self)
{
}

static void
___lambda158__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 275 "../src/WindowManager.vala"
	__lambda158_ ((GalaWindowManagerGala*) self);
#line 1807 "WindowManager.c"
}

static void
__lambda163_ (GalaWindowManagerGala* self)
{
}

static void
___lambda163__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 279 "../src/WindowManager.vala"
	__lambda163_ ((GalaWindowManagerGala*) self);
#line 1824 "WindowManager.c"
}

static void
__lambda164_ (GalaWindowManagerGala* self)
{
}

static void
___lambda164__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 280 "../src/WindowManager.vala"
	__lambda164_ ((GalaWindowManagerGala*) self);
#line 1841 "WindowManager.c"
}

static void
_gala_window_manager_gala_on_monitors_changed_meta_monitor_manager_monitors_changed (MetaMonitorManager* _sender,
                                                                                     gpointer self)
{
#line 289 "../src/WindowManager.vala"
	gala_window_manager_gala_on_monitors_changed ((GalaWindowManagerGala*) self);
#line 1850 "WindowManager.c"
}

static void
_gala_window_manager_gala_update_input_area_gala_hot_corner_manager_on_configured (GalaHotCornerManager* _sender,
                                                                                   gpointer self)
{
#line 292 "../src/WindowManager.vala"
	gala_window_manager_gala_update_input_area ((GalaWindowManagerGala*) self);
#line 1859 "WindowManager.c"
}

static void
_gala_window_manager_gala_update_input_area_gala_plugin_manager_regions_changed (GalaPluginManager* _sender,
                                                                                 gpointer self)
{
#line 310 "../src/WindowManager.vala"
	gala_window_manager_gala_update_input_area ((GalaWindowManagerGala*) self);
#line 1868 "WindowManager.c"
}

static void
__lambda166_ (GalaWindowManagerGala* self)
{
	GalaActivatableComponent* _tmp0_;
	GalaActivatableComponent* _tmp1_;
#line 319 "../src/WindowManager.vala"
	_tmp0_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 319 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 319 "../src/WindowManager.vala"
	if (gala_activatable_component_is_opened (_tmp1_)) {
#line 1882 "WindowManager.c"
		GalaActivatableComponent* _tmp2_;
		GalaActivatableComponent* _tmp3_;
#line 320 "../src/WindowManager.vala"
		_tmp2_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 320 "../src/WindowManager.vala"
		_tmp3_ = _tmp2_;
#line 320 "../src/WindowManager.vala"
		gala_activatable_component_close (_tmp3_, NULL);
#line 1891 "WindowManager.c"
	} else {
		GalaActivatableComponent* _tmp4_;
		GalaActivatableComponent* _tmp5_;
#line 322 "../src/WindowManager.vala"
		_tmp4_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 322 "../src/WindowManager.vala"
		_tmp5_ = _tmp4_;
#line 322 "../src/WindowManager.vala"
		gala_activatable_component_open (_tmp5_, NULL);
#line 1901 "WindowManager.c"
	}
}

static void
___lambda166__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 318 "../src/WindowManager.vala"
	__lambda166_ ((GalaWindowManagerGala*) self);
#line 1914 "WindowManager.c"
}

static void
__lambda173_ (GalaWindowManagerGala* self)
{
	GalaActivatableComponent* _tmp0_;
#line 353 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_window_overview;
#line 353 "../src/WindowManager.vala"
	if (gala_activatable_component_is_opened (_tmp0_)) {
#line 1925 "WindowManager.c"
		GalaActivatableComponent* _tmp1_;
#line 354 "../src/WindowManager.vala"
		_tmp1_ = self->priv->_window_overview;
#line 354 "../src/WindowManager.vala"
		gala_activatable_component_close (_tmp1_, NULL);
#line 1931 "WindowManager.c"
	} else {
		GalaActivatableComponent* _tmp2_;
#line 356 "../src/WindowManager.vala"
		_tmp2_ = self->priv->_window_overview;
#line 356 "../src/WindowManager.vala"
		gala_activatable_component_open (_tmp2_, NULL);
#line 1938 "WindowManager.c"
	}
}

static void
___lambda173__meta_key_handler_func (MetaDisplay* display,
                                     MetaWindow* window,
                                     const ClutterKeyEvent* event,
                                     MetaKeyBinding* binding,
                                     gpointer self)
{
#line 352 "../src/WindowManager.vala"
	__lambda173_ ((GalaWindowManagerGala*) self);
#line 1951 "WindowManager.c"
}

static gboolean
__lambda165_ (Block8Data* _data8_)
{
	GalaWindowManagerGala* self;
	const gchar* xdg_session_type = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	GalaPluginManager* plugin_manager = NULL;
	GalaPluginManager* _tmp4_;
	GalaPluginManager* _tmp5_;
	GalaPluginManager* _tmp6_;
	gboolean _tmp7_ = FALSE;
	GalaPluginManager* _tmp8_;
	const gchar* _tmp9_;
	const gchar* _tmp10_;
	GalaPluginManager* _tmp24_;
	const gchar* _tmp25_;
	const gchar* _tmp26_;
	gboolean _tmp38_ = FALSE;
	GalaPluginManager* _tmp39_;
	const gchar* _tmp40_;
	const gchar* _tmp41_;
	ClutterActor* _tmp54_;
	ClutterActor* _tmp55_;
	ClutterActor* _tmp56_;
	ClutterActor* _tmp57_;
	ClutterActor* _tmp58_;
	GalaPointerLocator* _tmp59_;
	GalaPointerLocator* _tmp60_;
	ClutterActor* _tmp61_;
	ClutterActor* _tmp62_;
	GalaPointerLocator* _tmp63_;
	ClutterActor* _tmp64_;
	ClutterActor* _tmp65_;
	GalaDwellClickTimer* _tmp66_;
	GalaDwellClickTimer* _tmp67_;
	ClutterActor* _tmp68_;
	ClutterActor* _tmp69_;
	GalaScreenShield* _tmp70_;
	MetaDisplay* _tmp71_;
	GSettings* _tmp72_;
	GalaPluginManager* _tmp73_;
	gboolean result;
#line 299 "../src/WindowManager.vala"
	self = _data8_->self;
#line 300 "../src/WindowManager.vala"
	_tmp0_ = g_getenv ("XDG_SESSION_TYPE");
#line 300 "../src/WindowManager.vala"
	xdg_session_type = _tmp0_;
#line 301 "../src/WindowManager.vala"
	_tmp1_ = xdg_session_type;
#line 301 "../src/WindowManager.vala"
	if (g_strcmp0 (_tmp1_, "x11") == 0) {
#line 2007 "WindowManager.c"
		gchar** args = NULL;
		gchar** _tmp2_;
		gint args_length1;
		gint _args_size_;
		gchar** _args = NULL;
		gchar** _tmp3_;
		gint _tmp3__length1;
		gint _args_length1;
		gint __args_size_;
#line 302 "../src/WindowManager.vala"
		_tmp2_ = g_new0 (gchar*, 0 + 1);
#line 302 "../src/WindowManager.vala"
		args = _tmp2_;
#line 302 "../src/WindowManager.vala"
		args_length1 = 0;
#line 302 "../src/WindowManager.vala"
		_args_size_ = args_length1;
#line 303 "../src/WindowManager.vala"
		_tmp3_ = args;
#line 303 "../src/WindowManager.vala"
		_tmp3__length1 = args_length1;
#line 303 "../src/WindowManager.vala"
		_args = _tmp3_;
#line 303 "../src/WindowManager.vala"
		_args_length1 = _tmp3__length1;
#line 303 "../src/WindowManager.vala"
		__args_size_ = _args_length1;
#line 304 "../src/WindowManager.vala"
		gtk_init ((gint*) (&_args_length1), &_args);
#line 304 "../src/WindowManager.vala"
		__args_size_ = _args_length1;
#line 301 "../src/WindowManager.vala"
		args = (_vala_array_free (args, args_length1, (GDestroyNotify) g_free), NULL);
#line 2041 "WindowManager.c"
	}
#line 308 "../src/WindowManager.vala"
	_tmp4_ = gala_plugin_manager_get_default ();
#line 308 "../src/WindowManager.vala"
	plugin_manager = _tmp4_;
#line 309 "../src/WindowManager.vala"
	_tmp5_ = plugin_manager;
#line 309 "../src/WindowManager.vala"
	gala_plugin_manager_initialize (_tmp5_, (GalaWindowManager*) self);
#line 310 "../src/WindowManager.vala"
	_tmp6_ = plugin_manager;
#line 310 "../src/WindowManager.vala"
	g_signal_connect_object (_tmp6_, "regions-changed", (GCallback) _gala_window_manager_gala_update_input_area_gala_plugin_manager_regions_changed, self, 0);
#line 312 "../src/WindowManager.vala"
	_tmp8_ = plugin_manager;
#line 312 "../src/WindowManager.vala"
	_tmp9_ = gala_plugin_manager_get_workspace_view_provider (_tmp8_);
#line 312 "../src/WindowManager.vala"
	_tmp10_ = _tmp9_;
#line 312 "../src/WindowManager.vala"
	if (_tmp10_ == NULL) {
#line 312 "../src/WindowManager.vala"
		_tmp7_ = TRUE;
#line 2065 "WindowManager.c"
	} else {
		GalaPluginManager* _tmp11_;
		GalaPluginManager* _tmp12_;
		const gchar* _tmp13_;
		const gchar* _tmp14_;
		GalaPlugin* _tmp15_;
		GalaActivatableComponent* _tmp16_;
		GalaActivatableComponent* _tmp17_;
#line 313 "../src/WindowManager.vala"
		_tmp11_ = plugin_manager;
#line 313 "../src/WindowManager.vala"
		_tmp12_ = plugin_manager;
#line 313 "../src/WindowManager.vala"
		_tmp13_ = gala_plugin_manager_get_workspace_view_provider (_tmp12_);
#line 313 "../src/WindowManager.vala"
		_tmp14_ = _tmp13_;
#line 313 "../src/WindowManager.vala"
		_tmp15_ = gala_plugin_manager_get_plugin (_tmp11_, _tmp14_);
#line 313 "../src/WindowManager.vala"
		_tmp16_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp15_, GALA_TYPE_ACTIVATABLE_COMPONENT) ? ((GalaActivatableComponent*) _tmp15_) : NULL;
#line 313 "../src/WindowManager.vala"
		if (_tmp16_ == NULL) {
#line 313 "../src/WindowManager.vala"
			_g_object_unref0 (_tmp15_);
#line 2090 "WindowManager.c"
		}
#line 313 "../src/WindowManager.vala"
		_tmp17_ = _tmp16_;
#line 313 "../src/WindowManager.vala"
		gala_window_manager_set_workspace_view ((GalaWindowManager*) self, _tmp17_);
#line 313 "../src/WindowManager.vala"
		_tmp7_ = _tmp17_ == NULL;
#line 313 "../src/WindowManager.vala"
		_g_object_unref0 (_tmp17_);
#line 2100 "WindowManager.c"
	}
#line 312 "../src/WindowManager.vala"
	if (_tmp7_) {
#line 2104 "WindowManager.c"
		GalaMultitaskingView* _tmp18_;
		GalaMultitaskingView* _tmp19_;
		ClutterActor* _tmp20_;
		ClutterActor* _tmp21_;
		GalaActivatableComponent* _tmp22_;
		GalaActivatableComponent* _tmp23_;
#line 314 "../src/WindowManager.vala"
		_tmp18_ = gala_multitasking_view_new ((GalaWindowManager*) self);
#line 314 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp18_);
#line 314 "../src/WindowManager.vala"
		_tmp19_ = _tmp18_;
#line 314 "../src/WindowManager.vala"
		gala_window_manager_set_workspace_view ((GalaWindowManager*) self, (GalaActivatableComponent*) _tmp19_);
#line 314 "../src/WindowManager.vala"
		_g_object_unref0 (_tmp19_);
#line 315 "../src/WindowManager.vala"
		_tmp20_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 315 "../src/WindowManager.vala"
		_tmp21_ = _tmp20_;
#line 315 "../src/WindowManager.vala"
		_tmp22_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 315 "../src/WindowManager.vala"
		_tmp23_ = _tmp22_;
#line 315 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp21_, G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, clutter_actor_get_type (), ClutterActor));
#line 2131 "WindowManager.c"
	}
#line 318 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("show-desktop", ___lambda166__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 325 "../src/WindowManager.vala"
	_tmp24_ = plugin_manager;
#line 325 "../src/WindowManager.vala"
	_tmp25_ = gala_plugin_manager_get_window_switcher_provider (_tmp24_);
#line 325 "../src/WindowManager.vala"
	_tmp26_ = _tmp25_;
#line 325 "../src/WindowManager.vala"
	if (_tmp26_ == NULL) {
#line 2143 "WindowManager.c"
		GalaGestureTracker* _tmp27_;
		GalaWindowSwitcher* _tmp28_;
		ClutterActor* _tmp29_;
		ClutterActor* _tmp30_;
		GalaWindowSwitcher* _tmp31_;
		GalaWindowSwitcher* _tmp32_;
		GalaWindowSwitcher* _tmp33_;
		GalaWindowSwitcher* _tmp34_;
		GalaWindowSwitcher* _tmp35_;
		GalaWindowSwitcher* _tmp36_;
		GalaWindowSwitcher* _tmp37_;
#line 326 "../src/WindowManager.vala"
		_tmp27_ = self->priv->gesture_tracker;
#line 326 "../src/WindowManager.vala"
		_tmp28_ = gala_window_switcher_new ((GalaWindowManager*) self, _tmp27_);
#line 326 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp28_);
#line 326 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->window_switcher);
#line 326 "../src/WindowManager.vala"
		self->priv->window_switcher = _tmp28_;
#line 327 "../src/WindowManager.vala"
		_tmp29_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 327 "../src/WindowManager.vala"
		_tmp30_ = _tmp29_;
#line 327 "../src/WindowManager.vala"
		_tmp31_ = self->priv->window_switcher;
#line 327 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp30_, (ClutterActor*) _tmp31_);
#line 329 "../src/WindowManager.vala"
		_tmp32_ = self->priv->window_switcher;
#line 329 "../src/WindowManager.vala"
		meta_keybindings_set_custom_handler ("switch-applications", (MetaKeyHandlerFunc) gala_window_switcher_handle_switch_windows, g_object_ref (_tmp32_), g_object_unref);
#line 330 "../src/WindowManager.vala"
		_tmp33_ = self->priv->window_switcher;
#line 330 "../src/WindowManager.vala"
		meta_keybindings_set_custom_handler ("switch-applications-backward", (MetaKeyHandlerFunc) gala_window_switcher_handle_switch_windows, g_object_ref (_tmp33_), g_object_unref);
#line 331 "../src/WindowManager.vala"
		_tmp34_ = self->priv->window_switcher;
#line 331 "../src/WindowManager.vala"
		meta_keybindings_set_custom_handler ("switch-windows", (MetaKeyHandlerFunc) gala_window_switcher_handle_switch_windows, g_object_ref (_tmp34_), g_object_unref);
#line 332 "../src/WindowManager.vala"
		_tmp35_ = self->priv->window_switcher;
#line 332 "../src/WindowManager.vala"
		meta_keybindings_set_custom_handler ("switch-windows-backward", (MetaKeyHandlerFunc) gala_window_switcher_handle_switch_windows, g_object_ref (_tmp35_), g_object_unref);
#line 333 "../src/WindowManager.vala"
		_tmp36_ = self->priv->window_switcher;
#line 333 "../src/WindowManager.vala"
		meta_keybindings_set_custom_handler ("switch-group", (MetaKeyHandlerFunc) gala_window_switcher_handle_switch_windows, g_object_ref (_tmp36_), g_object_unref);
#line 334 "../src/WindowManager.vala"
		_tmp37_ = self->priv->window_switcher;
#line 334 "../src/WindowManager.vala"
		meta_keybindings_set_custom_handler ("switch-group-backward", (MetaKeyHandlerFunc) gala_window_switcher_handle_switch_windows, g_object_ref (_tmp37_), g_object_unref);
#line 2197 "WindowManager.c"
	}
#line 337 "../src/WindowManager.vala"
	_tmp39_ = plugin_manager;
#line 337 "../src/WindowManager.vala"
	_tmp40_ = gala_plugin_manager_get_window_overview_provider (_tmp39_);
#line 337 "../src/WindowManager.vala"
	_tmp41_ = _tmp40_;
#line 337 "../src/WindowManager.vala"
	if (_tmp41_ == NULL) {
#line 337 "../src/WindowManager.vala"
		_tmp38_ = TRUE;
#line 2209 "WindowManager.c"
	} else {
		GalaPluginManager* _tmp42_;
		GalaPluginManager* _tmp43_;
		const gchar* _tmp44_;
		const gchar* _tmp45_;
		GalaPlugin* _tmp46_;
		GalaActivatableComponent* _tmp47_;
		GalaActivatableComponent* _tmp48_;
#line 338 "../src/WindowManager.vala"
		_tmp42_ = plugin_manager;
#line 338 "../src/WindowManager.vala"
		_tmp43_ = plugin_manager;
#line 338 "../src/WindowManager.vala"
		_tmp44_ = gala_plugin_manager_get_window_overview_provider (_tmp43_);
#line 338 "../src/WindowManager.vala"
		_tmp45_ = _tmp44_;
#line 338 "../src/WindowManager.vala"
		_tmp46_ = gala_plugin_manager_get_plugin (_tmp42_, _tmp45_);
#line 338 "../src/WindowManager.vala"
		_tmp47_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp46_, GALA_TYPE_ACTIVATABLE_COMPONENT) ? ((GalaActivatableComponent*) _tmp46_) : NULL;
#line 338 "../src/WindowManager.vala"
		if (_tmp47_ == NULL) {
#line 338 "../src/WindowManager.vala"
			_g_object_unref0 (_tmp46_);
#line 2234 "WindowManager.c"
		}
#line 338 "../src/WindowManager.vala"
		_tmp48_ = _tmp47_;
#line 338 "../src/WindowManager.vala"
		gala_window_manager_gala_set_window_overview (self, _tmp48_);
#line 338 "../src/WindowManager.vala"
		_tmp38_ = _tmp48_ == NULL;
#line 338 "../src/WindowManager.vala"
		_g_object_unref0 (_tmp48_);
#line 2244 "WindowManager.c"
	}
#line 337 "../src/WindowManager.vala"
	if (_tmp38_) {
#line 2248 "WindowManager.c"
		GalaWindowOverview* _tmp49_;
		GalaWindowOverview* _tmp50_;
		ClutterActor* _tmp51_;
		ClutterActor* _tmp52_;
		GalaActivatableComponent* _tmp53_;
#line 339 "../src/WindowManager.vala"
		_tmp49_ = gala_window_overview_new ((GalaWindowManager*) self);
#line 339 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp49_);
#line 339 "../src/WindowManager.vala"
		_tmp50_ = _tmp49_;
#line 339 "../src/WindowManager.vala"
		gala_window_manager_gala_set_window_overview (self, (GalaActivatableComponent*) _tmp50_);
#line 339 "../src/WindowManager.vala"
		_g_object_unref0 (_tmp50_);
#line 340 "../src/WindowManager.vala"
		_tmp51_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 340 "../src/WindowManager.vala"
		_tmp52_ = _tmp51_;
#line 340 "../src/WindowManager.vala"
		_tmp53_ = self->priv->_window_overview;
#line 340 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp52_, G_TYPE_CHECK_INSTANCE_CAST (_tmp53_, clutter_actor_get_type (), ClutterActor));
#line 2272 "WindowManager.c"
	}
#line 343 "../src/WindowManager.vala"
	_tmp54_ = clutter_actor_new ();
#line 343 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp54_);
#line 343 "../src/WindowManager.vala"
	_tmp55_ = _tmp54_;
#line 343 "../src/WindowManager.vala"
	gala_window_manager_gala_set_notification_group (self, _tmp55_);
#line 343 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp55_);
#line 344 "../src/WindowManager.vala"
	_tmp56_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 344 "../src/WindowManager.vala"
	_tmp57_ = _tmp56_;
#line 344 "../src/WindowManager.vala"
	_tmp58_ = self->priv->_notification_group;
#line 344 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp57_, _tmp58_);
#line 346 "../src/WindowManager.vala"
	_tmp59_ = gala_pointer_locator_new ((GalaWindowManager*) self);
#line 346 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp59_);
#line 346 "../src/WindowManager.vala"
	_tmp60_ = _tmp59_;
#line 346 "../src/WindowManager.vala"
	gala_window_manager_gala_set_pointer_locator (self, _tmp60_);
#line 346 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp60_);
#line 347 "../src/WindowManager.vala"
	_tmp61_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 347 "../src/WindowManager.vala"
	_tmp62_ = _tmp61_;
#line 347 "../src/WindowManager.vala"
	_tmp63_ = self->priv->_pointer_locator;
#line 347 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp62_, (ClutterActor*) _tmp63_);
#line 348 "../src/WindowManager.vala"
	_tmp64_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 348 "../src/WindowManager.vala"
	_tmp65_ = _tmp64_;
#line 348 "../src/WindowManager.vala"
	_tmp66_ = gala_dwell_click_timer_new ((GalaWindowManager*) self);
#line 348 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp66_);
#line 348 "../src/WindowManager.vala"
	_tmp67_ = _tmp66_;
#line 348 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp65_, (ClutterActor*) _tmp67_);
#line 348 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp67_);
#line 350 "../src/WindowManager.vala"
	_tmp68_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 350 "../src/WindowManager.vala"
	_tmp69_ = _tmp68_;
#line 350 "../src/WindowManager.vala"
	_tmp70_ = self->priv->_screen_shield;
#line 350 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp69_, (ClutterActor*) _tmp70_);
#line 352 "../src/WindowManager.vala"
	_tmp71_ = _data8_->display;
#line 352 "../src/WindowManager.vala"
	_tmp72_ = _data8_->keybinding_settings;
#line 352 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp71_, "expose-all-windows", _tmp72_, META_KEY_BINDING_IGNORE_AUTOREPEAT, ___lambda173__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 360 "../src/WindowManager.vala"
	_tmp73_ = plugin_manager;
#line 360 "../src/WindowManager.vala"
	gala_plugin_manager_load_waiting_plugins (_tmp73_);
#line 362 "../src/WindowManager.vala"
	result = FALSE;
#line 362 "../src/WindowManager.vala"
	return result;
#line 2346 "WindowManager.c"
}

static gboolean
___lambda165__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda165_ (self);
#line 299 "../src/WindowManager.vala"
	return result;
#line 2356 "WindowManager.c"
}

static void
__lambda174_ (GalaWindowManagerGala* self,
              MetaWindow* window)
{
#line 368 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 368 "../src/WindowManager.vala"
	g_signal_emit (self, gala_window_manager_gala_signals[GALA_WINDOW_MANAGER_GALA_WINDOW_CREATED_SIGNAL], 0, window);
#line 2367 "WindowManager.c"
}

static void
___lambda174__meta_display_window_created (MetaDisplay* _sender,
                                           MetaWindow* object,
                                           gpointer self)
{
#line 368 "../src/WindowManager.vala"
	__lambda174_ ((GalaWindowManagerGala*) self, object);
#line 2377 "WindowManager.c"
}

static gboolean
__lambda175_ (Block8Data* _data8_)
{
	GalaWindowManagerGala* self;
	MetaDisplay* _tmp0_;
	MetaContext* _tmp1_;
	gboolean result;
#line 372 "../src/WindowManager.vala"
	self = _data8_->self;
#line 375 "../src/WindowManager.vala"
	sd_notify ((int) TRUE, "READY=1");
#line 377 "../src/WindowManager.vala"
	_tmp0_ = _data8_->display;
#line 377 "../src/WindowManager.vala"
	_tmp1_ = meta_display_get_context (_tmp0_);
#line 377 "../src/WindowManager.vala"
	meta_context_notify_ready (_tmp1_);
#line 378 "../src/WindowManager.vala"
	result = G_SOURCE_REMOVE;
#line 378 "../src/WindowManager.vala"
	return result;
#line 2401 "WindowManager.c"
}

static gboolean
___lambda175__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda175_ (self);
#line 372 "../src/WindowManager.vala"
	return result;
#line 2411 "WindowManager.c"
}

static void
gala_window_manager_gala_show_stage (GalaWindowManagerGala* self)
{
	Block8Data* _data8_;
	MetaDisplay* _tmp0_;
	GalaScreenShield* _tmp1_;
	GalaScreenShield* _tmp2_;
	GalaScreenShield* _tmp3_;
	GalaScreenSaverManager* _tmp4_;
	GalaScreenSaverManager* _tmp5_;
	MetaDisplay* _tmp6_;
	MetaDisplay* _tmp7_;
	GalaWindowTracker* _tmp8_;
	GalaWindowTracker* _tmp9_;
	GalaWindowTracker* _tmp10_;
	GalaWindowTracker* _tmp11_;
	MetaDisplay* _tmp12_;
	MetaDisplay* _tmp13_;
	GalaNotificationStack* _tmp14_;
	GalaScreenSaverManager* _tmp15_;
	MetaDisplay* _tmp16_;
	ClutterActor* _tmp17_;
	GSettings* background_settings = NULL;
	GSettings* _tmp18_;
	gchar* color = NULL;
	GSettings* _tmp19_;
	gchar* _tmp20_;
	ClutterStage* _tmp21_;
	ClutterStage* _tmp22_;
	const gchar* _tmp23_;
	ClutterColor* _tmp24_;
	ClutterColor* _tmp25_;
	ClutterColor _tmp26_;
	MetaLaters* laters = NULL;
	MetaDisplay* _tmp27_;
	MetaCompositor* _tmp28_;
	MetaLaters* _tmp29_;
	MetaLaters* _tmp30_;
	MetaDisplay* _tmp31_;
	GalaSystemBackground* _tmp32_;
	GalaSystemBackground* _tmp33_;
	MetaBackgroundActor* _tmp34_;
	MetaBackgroundActor* _tmp35_;
	ClutterStage* _tmp36_;
	ClutterStage* _tmp37_;
	ClutterBindConstraint* _tmp38_;
	ClutterBindConstraint* _tmp39_;
	ClutterStage* _tmp40_;
	ClutterStage* _tmp41_;
	GalaSystemBackground* _tmp42_;
	MetaBackgroundActor* _tmp43_;
	MetaBackgroundActor* _tmp44_;
	ClutterActor* _tmp45_;
	ClutterActor* _tmp46_;
	ClutterActor* _tmp47_;
	ClutterActor* _tmp48_;
	ClutterStage* _tmp49_;
	ClutterStage* _tmp50_;
	ClutterActor* _tmp51_;
	ClutterActor* _tmp52_;
	MetaDisplay* _tmp53_;
	ClutterActor* _tmp54_;
	ClutterStage* _tmp55_;
	ClutterStage* _tmp56_;
	ClutterActor* _tmp57_;
	ClutterActor* _tmp58_;
	ClutterActor* _tmp59_;
	ClutterActor* _tmp60_;
	ClutterActor* _tmp61_;
	ClutterActor* _tmp62_;
	GalaBackgroundContainer* _tmp63_;
	GalaBackgroundContainer* _tmp64_;
	MetaBackgroundGroup* _tmp65_;
	MetaBackgroundGroup* _tmp66_;
	GalaDaemonManager* _tmp67_;
	ClutterActor* _tmp68_;
	ClutterActor* _tmp69_;
	MetaBackgroundGroup* _tmp70_;
	MetaBackgroundGroup* _tmp71_;
	ClutterActor* _tmp72_;
	ClutterActor* _tmp73_;
	MetaBackgroundGroup* _tmp74_;
	MetaBackgroundGroup* _tmp75_;
	MetaDisplay* _tmp76_;
	ClutterActor* _tmp77_;
	ClutterStage* _tmp78_;
	ClutterStage* _tmp79_;
	ClutterActor* _tmp80_;
	ClutterActor* _tmp81_;
	ClutterActor* _tmp82_;
	ClutterActor* _tmp83_;
	ClutterActor* _tmp84_;
	ClutterActor* _tmp85_;
	ClutterActor* feedback_group = NULL;
	MetaDisplay* _tmp86_;
	MetaCompositor* _tmp87_;
	ClutterActor* _tmp88_;
	ClutterActor* _tmp89_;
	ClutterStage* _tmp90_;
	ClutterStage* _tmp91_;
	ClutterActor* _tmp92_;
	ClutterActor* _tmp93_;
	ClutterActor* _tmp94_;
	ClutterActor* _tmp95_;
	GSettings* _tmp96_;
	MetaDisplay* _tmp97_;
	GSettings* _tmp98_;
	MetaDisplay* _tmp99_;
	GSettings* _tmp100_;
	MetaDisplay* _tmp101_;
	GSettings* _tmp102_;
	MetaDisplay* _tmp103_;
	GSettings* _tmp104_;
	MetaDisplay* _tmp105_;
	GSettings* _tmp106_;
	MetaDisplay* _tmp107_;
	GSettings* _tmp108_;
	MetaDisplay* _tmp109_;
	GSettings* _tmp110_;
	MetaDisplay* _tmp111_;
	GSettings* _tmp112_;
	MetaDisplay* _tmp113_;
	GSettings* _tmp114_;
	MetaDisplay* _tmp115_;
	GSettings* _tmp116_;
	MetaDisplay* _tmp117_;
	GSettings* _tmp118_;
	MetaDisplay* _tmp119_;
	GSettings* _tmp120_;
	MetaDisplay* _tmp121_;
	GSettings* _tmp122_;
	MetaDisplay* _tmp123_;
	GSettings* _tmp124_;
	MetaDisplay* _tmp125_;
	GSettings* _tmp126_;
	MetaDisplay* _tmp127_;
	MetaMonitorManager* monitor_manager = NULL;
	MetaDisplay* _tmp132_;
	MetaContext* _tmp133_;
	MetaBackend* _tmp134_;
	MetaMonitorManager* _tmp135_;
	GSettings* _tmp136_;
	GSettings* _tmp137_;
	GalaHotCornerManager* _tmp138_;
	GalaHotCornerManager* _tmp139_;
	GalaHotCornerManager* _tmp140_;
	GalaZoom* _tmp141_;
	MetaLaters* _tmp142_;
	MetaDisplay* _tmp143_;
	ClutterStage* _tmp144_;
	ClutterStage* _tmp145_;
#line 160 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 160 "../src/WindowManager.vala"
	_data8_ = g_slice_new0 (Block8Data);
#line 160 "../src/WindowManager.vala"
	_data8_->_ref_count_ = 1;
#line 160 "../src/WindowManager.vala"
	_data8_->self = g_object_ref (self);
#line 161 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 161 "../src/WindowManager.vala"
	_data8_->display = _tmp0_;
#line 163 "../src/WindowManager.vala"
	_tmp1_ = gala_screen_shield_new ((GalaWindowManager*) self);
#line 163 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp1_);
#line 163 "../src/WindowManager.vala"
	_tmp2_ = _tmp1_;
#line 163 "../src/WindowManager.vala"
	gala_window_manager_gala_set_screen_shield (self, _tmp2_);
#line 163 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp2_);
#line 164 "../src/WindowManager.vala"
	_tmp3_ = self->priv->_screen_shield;
#line 164 "../src/WindowManager.vala"
	_tmp4_ = gala_screen_saver_manager_new (_tmp3_);
#line 164 "../src/WindowManager.vala"
	_tmp5_ = _tmp4_;
#line 164 "../src/WindowManager.vala"
	gala_window_manager_gala_set_screensaver (self, _tmp5_);
#line 164 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp5_);
#line 166 "../src/WindowManager.vala"
	gala_dbus_init (self);
#line 167 "../src/WindowManager.vala"
	gala_dbus_accelerator_init ((GalaWindowManager*) self);
#line 168 "../src/WindowManager.vala"
	gala_media_feedback_init ();
#line 170 "../src/WindowManager.vala"
	_tmp6_ = _data8_->display;
#line 170 "../src/WindowManager.vala"
	gala_window_listener_init (_tmp6_);
#line 171 "../src/WindowManager.vala"
	_tmp7_ = _data8_->display;
#line 171 "../src/WindowManager.vala"
	gala_keyboard_manager_init (_tmp7_);
#line 172 "../src/WindowManager.vala"
	_tmp8_ = gala_window_tracker_new ();
#line 172 "../src/WindowManager.vala"
	_tmp9_ = _tmp8_;
#line 172 "../src/WindowManager.vala"
	gala_window_manager_gala_set_window_tracker (self, _tmp9_);
#line 172 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp9_);
#line 173 "../src/WindowManager.vala"
	_tmp10_ = self->priv->_window_tracker;
#line 173 "../src/WindowManager.vala"
	gala_window_state_saver_init (_tmp10_);
#line 174 "../src/WindowManager.vala"
	_tmp11_ = self->priv->_window_tracker;
#line 174 "../src/WindowManager.vala"
	_tmp12_ = _data8_->display;
#line 174 "../src/WindowManager.vala"
	gala_window_tracker_init (_tmp11_, _tmp12_);
#line 176 "../src/WindowManager.vala"
	_tmp13_ = _data8_->display;
#line 176 "../src/WindowManager.vala"
	_tmp14_ = gala_notification_stack_new (_tmp13_);
#line 176 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->notification_stack);
#line 176 "../src/WindowManager.vala"
	self->priv->notification_stack = _tmp14_;
#line 181 "../src/WindowManager.vala"
	_tmp15_ = self->priv->_screensaver;
#line 181 "../src/WindowManager.vala"
	g_signal_connect_object (_tmp15_, "active-changed", (GCallback) _gala_window_manager_gala_update_input_area_gala_screen_saver_manager_active_changed, self, 0);
#line 183 "../src/WindowManager.vala"
	_tmp16_ = _data8_->display;
#line 183 "../src/WindowManager.vala"
	_tmp17_ = meta_get_stage_for_display (_tmp16_);
#line 183 "../src/WindowManager.vala"
	gala_window_manager_set_stage ((GalaWindowManager*) self, G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, clutter_stage_get_type ()) ? ((ClutterStage*) _tmp17_) : NULL);
#line 184 "../src/WindowManager.vala"
	_tmp18_ = g_settings_new ("org.gnome.desktop.background");
#line 184 "../src/WindowManager.vala"
	background_settings = _tmp18_;
#line 185 "../src/WindowManager.vala"
	_tmp19_ = background_settings;
#line 185 "../src/WindowManager.vala"
	_tmp20_ = g_settings_get_string (_tmp19_, "primary-color");
#line 185 "../src/WindowManager.vala"
	color = _tmp20_;
#line 186 "../src/WindowManager.vala"
	_tmp21_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 186 "../src/WindowManager.vala"
	_tmp22_ = _tmp21_;
#line 186 "../src/WindowManager.vala"
	_tmp23_ = color;
#line 186 "../src/WindowManager.vala"
	_tmp24_ = _vala_clutter_color_from_string (_tmp23_);
#line 186 "../src/WindowManager.vala"
	_tmp25_ = _tmp24_;
#line 186 "../src/WindowManager.vala"
	_tmp26_ = *_tmp25_;
#line 186 "../src/WindowManager.vala"
	clutter_actor_set_background_color ((ClutterActor*) _tmp22_, &_tmp26_);
#line 186 "../src/WindowManager.vala"
	__vala_ClutterColor_free0 (_tmp25_);
#line 188 "../src/WindowManager.vala"
	_tmp27_ = _data8_->display;
#line 188 "../src/WindowManager.vala"
	_tmp28_ = meta_display_get_compositor (_tmp27_);
#line 188 "../src/WindowManager.vala"
	_tmp29_ = meta_compositor_get_laters (_tmp28_);
#line 188 "../src/WindowManager.vala"
	laters = _tmp29_;
#line 189 "../src/WindowManager.vala"
	_tmp30_ = laters;
#line 189 "../src/WindowManager.vala"
	meta_laters_add (_tmp30_, META_LATER_BEFORE_REDRAW, ___lambda147__gsource_func, g_object_ref (self), g_object_unref);
#line 212 "../src/WindowManager.vala"
	_tmp31_ = _data8_->display;
#line 212 "../src/WindowManager.vala"
	_tmp32_ = gala_system_background_new (_tmp31_);
#line 212 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->system_background);
#line 212 "../src/WindowManager.vala"
	self->priv->system_background = _tmp32_;
#line 214 "../src/WindowManager.vala"
	_tmp33_ = self->priv->system_background;
#line 214 "../src/WindowManager.vala"
	_tmp34_ = gala_system_background_get_background_actor (_tmp33_);
#line 214 "../src/WindowManager.vala"
	_tmp35_ = _tmp34_;
#line 214 "../src/WindowManager.vala"
	_tmp36_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 214 "../src/WindowManager.vala"
	_tmp37_ = _tmp36_;
#line 214 "../src/WindowManager.vala"
	_tmp38_ = (ClutterBindConstraint*) clutter_bind_constraint_new ((ClutterActor*) _tmp37_, CLUTTER_BIND_ALL, (gfloat) 0);
#line 214 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp38_);
#line 214 "../src/WindowManager.vala"
	_tmp39_ = _tmp38_;
#line 214 "../src/WindowManager.vala"
	clutter_actor_add_constraint ((ClutterActor*) _tmp35_, (ClutterConstraint*) _tmp39_);
#line 214 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp39_);
#line 216 "../src/WindowManager.vala"
	_tmp40_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 216 "../src/WindowManager.vala"
	_tmp41_ = _tmp40_;
#line 216 "../src/WindowManager.vala"
	_tmp42_ = self->priv->system_background;
#line 216 "../src/WindowManager.vala"
	_tmp43_ = gala_system_background_get_background_actor (_tmp42_);
#line 216 "../src/WindowManager.vala"
	_tmp44_ = _tmp43_;
#line 216 "../src/WindowManager.vala"
	clutter_actor_insert_child_below ((ClutterActor*) _tmp41_, (ClutterActor*) _tmp44_, NULL);
#line 218 "../src/WindowManager.vala"
	_tmp45_ = clutter_actor_new ();
#line 218 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp45_);
#line 218 "../src/WindowManager.vala"
	_tmp46_ = _tmp45_;
#line 218 "../src/WindowManager.vala"
	gala_window_manager_set_ui_group ((GalaWindowManager*) self, _tmp46_);
#line 218 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp46_);
#line 219 "../src/WindowManager.vala"
	_tmp47_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 219 "../src/WindowManager.vala"
	_tmp48_ = _tmp47_;
#line 219 "../src/WindowManager.vala"
	clutter_actor_set_reactive (_tmp48_, TRUE);
#line 220 "../src/WindowManager.vala"
	gala_window_manager_gala_update_ui_group_size (self);
#line 221 "../src/WindowManager.vala"
	_tmp49_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 221 "../src/WindowManager.vala"
	_tmp50_ = _tmp49_;
#line 221 "../src/WindowManager.vala"
	_tmp51_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 221 "../src/WindowManager.vala"
	_tmp52_ = _tmp51_;
#line 221 "../src/WindowManager.vala"
	clutter_actor_add_child ((ClutterActor*) _tmp50_, _tmp52_);
#line 223 "../src/WindowManager.vala"
	_tmp53_ = _data8_->display;
#line 223 "../src/WindowManager.vala"
	_tmp54_ = meta_get_window_group_for_display (_tmp53_);
#line 223 "../src/WindowManager.vala"
	gala_window_manager_set_window_group ((GalaWindowManager*) self, _tmp54_);
#line 224 "../src/WindowManager.vala"
	_tmp55_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 224 "../src/WindowManager.vala"
	_tmp56_ = _tmp55_;
#line 224 "../src/WindowManager.vala"
	_tmp57_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 224 "../src/WindowManager.vala"
	_tmp58_ = _tmp57_;
#line 224 "../src/WindowManager.vala"
	clutter_actor_remove_child ((ClutterActor*) _tmp56_, _tmp58_);
#line 225 "../src/WindowManager.vala"
	_tmp59_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 225 "../src/WindowManager.vala"
	_tmp60_ = _tmp59_;
#line 225 "../src/WindowManager.vala"
	_tmp61_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 225 "../src/WindowManager.vala"
	_tmp62_ = _tmp61_;
#line 225 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp60_, _tmp62_);
#line 227 "../src/WindowManager.vala"
	_tmp63_ = gala_background_container_new ((GalaWindowManager*) self);
#line 227 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp63_);
#line 227 "../src/WindowManager.vala"
	_tmp64_ = _tmp63_;
#line 227 "../src/WindowManager.vala"
	gala_window_manager_set_background_group ((GalaWindowManager*) self, (MetaBackgroundGroup*) _tmp64_);
#line 227 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp64_);
#line 228 "../src/WindowManager.vala"
	_tmp65_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 228 "../src/WindowManager.vala"
	_tmp66_ = _tmp65_;
#line 228 "../src/WindowManager.vala"
	_tmp67_ = self->priv->daemon_manager;
#line 228 "../src/WindowManager.vala"
	g_signal_connect_object (G_TYPE_CHECK_INSTANCE_CAST (_tmp66_, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer), "show-background-menu", (GCallback) _gala_daemon_manager_show_background_menu_gala_background_container_show_background_menu, _tmp67_, 0);
#line 229 "../src/WindowManager.vala"
	_tmp68_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 229 "../src/WindowManager.vala"
	_tmp69_ = _tmp68_;
#line 229 "../src/WindowManager.vala"
	_tmp70_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 229 "../src/WindowManager.vala"
	_tmp71_ = _tmp70_;
#line 229 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp69_, (ClutterActor*) _tmp71_);
#line 230 "../src/WindowManager.vala"
	_tmp72_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 230 "../src/WindowManager.vala"
	_tmp73_ = _tmp72_;
#line 230 "../src/WindowManager.vala"
	_tmp74_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 230 "../src/WindowManager.vala"
	_tmp75_ = _tmp74_;
#line 230 "../src/WindowManager.vala"
	clutter_actor_set_child_below_sibling (_tmp73_, (ClutterActor*) _tmp75_, NULL);
#line 232 "../src/WindowManager.vala"
	_tmp76_ = _data8_->display;
#line 232 "../src/WindowManager.vala"
	_tmp77_ = meta_get_top_window_group_for_display (_tmp76_);
#line 232 "../src/WindowManager.vala"
	gala_window_manager_set_top_window_group ((GalaWindowManager*) self, _tmp77_);
#line 233 "../src/WindowManager.vala"
	_tmp78_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 233 "../src/WindowManager.vala"
	_tmp79_ = _tmp78_;
#line 233 "../src/WindowManager.vala"
	_tmp80_ = gala_window_manager_get_top_window_group ((GalaWindowManager*) self);
#line 233 "../src/WindowManager.vala"
	_tmp81_ = _tmp80_;
#line 233 "../src/WindowManager.vala"
	clutter_actor_remove_child ((ClutterActor*) _tmp79_, _tmp81_);
#line 234 "../src/WindowManager.vala"
	_tmp82_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 234 "../src/WindowManager.vala"
	_tmp83_ = _tmp82_;
#line 234 "../src/WindowManager.vala"
	_tmp84_ = gala_window_manager_get_top_window_group ((GalaWindowManager*) self);
#line 234 "../src/WindowManager.vala"
	_tmp85_ = _tmp84_;
#line 234 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp83_, _tmp85_);
#line 237 "../src/WindowManager.vala"
	_tmp86_ = _data8_->display;
#line 237 "../src/WindowManager.vala"
	_tmp87_ = meta_display_get_compositor (_tmp86_);
#line 237 "../src/WindowManager.vala"
	_tmp88_ = meta_compositor_get_feedback_group (_tmp87_);
#line 237 "../src/WindowManager.vala"
	_tmp89_ = _g_object_ref0 (_tmp88_);
#line 237 "../src/WindowManager.vala"
	feedback_group = _tmp89_;
#line 241 "../src/WindowManager.vala"
	_tmp90_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 241 "../src/WindowManager.vala"
	_tmp91_ = _tmp90_;
#line 241 "../src/WindowManager.vala"
	_tmp92_ = feedback_group;
#line 241 "../src/WindowManager.vala"
	clutter_actor_remove_child ((ClutterActor*) _tmp91_, _tmp92_);
#line 242 "../src/WindowManager.vala"
	_tmp93_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 242 "../src/WindowManager.vala"
	_tmp94_ = _tmp93_;
#line 242 "../src/WindowManager.vala"
	_tmp95_ = feedback_group;
#line 242 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp94_, _tmp95_);
#line 244 "../src/WindowManager.vala"
	gala_filter_manager_init ((GalaWindowManager*) self);
#line 247 "../src/WindowManager.vala"
	_tmp96_ = g_settings_new (SCHEMA ".keybindings");
#line 247 "../src/WindowManager.vala"
	_data8_->keybinding_settings = _tmp96_;
#line 249 "../src/WindowManager.vala"
	_tmp97_ = _data8_->display;
#line 249 "../src/WindowManager.vala"
	_tmp98_ = _data8_->keybinding_settings;
#line 249 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp97_, "switch-to-workspace-first", _tmp98_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_switch_to_workspace_end, g_object_ref (self), g_object_unref);
#line 250 "../src/WindowManager.vala"
	_tmp99_ = _data8_->display;
#line 250 "../src/WindowManager.vala"
	_tmp100_ = _data8_->keybinding_settings;
#line 250 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp99_, "switch-to-workspace-last", _tmp100_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_switch_to_workspace_end, g_object_ref (self), g_object_unref);
#line 251 "../src/WindowManager.vala"
	_tmp101_ = _data8_->display;
#line 251 "../src/WindowManager.vala"
	_tmp102_ = _data8_->keybinding_settings;
#line 251 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp101_, "move-to-workspace-first", _tmp102_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_move_to_workspace_end, g_object_ref (self), g_object_unref);
#line 252 "../src/WindowManager.vala"
	_tmp103_ = _data8_->display;
#line 252 "../src/WindowManager.vala"
	_tmp104_ = _data8_->keybinding_settings;
#line 252 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp103_, "move-to-workspace-last", _tmp104_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_move_to_workspace_end, g_object_ref (self), g_object_unref);
#line 253 "../src/WindowManager.vala"
	_tmp105_ = _data8_->display;
#line 253 "../src/WindowManager.vala"
	_tmp106_ = _data8_->keybinding_settings;
#line 253 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp105_, "cycle-workspaces-next", _tmp106_, META_KEY_BINDING_NONE, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_cycle_workspaces, g_object_ref (self), g_object_unref);
#line 254 "../src/WindowManager.vala"
	_tmp107_ = _data8_->display;
#line 254 "../src/WindowManager.vala"
	_tmp108_ = _data8_->keybinding_settings;
#line 254 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp107_, "cycle-workspaces-previous", _tmp108_, META_KEY_BINDING_NONE, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_cycle_workspaces, g_object_ref (self), g_object_unref);
#line 255 "../src/WindowManager.vala"
	_tmp109_ = _data8_->display;
#line 255 "../src/WindowManager.vala"
	_tmp110_ = _data8_->keybinding_settings;
#line 255 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp109_, "panel-main-menu", _tmp110_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_applications_menu, g_object_ref (self), g_object_unref);
#line 256 "../src/WindowManager.vala"
	_tmp111_ = _data8_->display;
#line 256 "../src/WindowManager.vala"
	_tmp112_ = _data8_->keybinding_settings;
#line 256 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp111_, "switch-input-source", _tmp112_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_switch_input_source, g_object_ref (self), g_object_unref);
#line 257 "../src/WindowManager.vala"
	_tmp113_ = _data8_->display;
#line 257 "../src/WindowManager.vala"
	_tmp114_ = _data8_->keybinding_settings;
#line 257 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp113_, "switch-input-source-backward", _tmp114_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_switch_input_source, g_object_ref (self), g_object_unref);
#line 259 "../src/WindowManager.vala"
	_tmp115_ = _data8_->display;
#line 259 "../src/WindowManager.vala"
	_tmp116_ = _data8_->keybinding_settings;
#line 259 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp115_, "screenshot", _tmp116_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_screenshot, g_object_ref (self), g_object_unref);
#line 260 "../src/WindowManager.vala"
	_tmp117_ = _data8_->display;
#line 260 "../src/WindowManager.vala"
	_tmp118_ = _data8_->keybinding_settings;
#line 260 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp117_, "window-screenshot", _tmp118_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_screenshot, g_object_ref (self), g_object_unref);
#line 261 "../src/WindowManager.vala"
	_tmp119_ = _data8_->display;
#line 261 "../src/WindowManager.vala"
	_tmp120_ = _data8_->keybinding_settings;
#line 261 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp119_, "area-screenshot", _tmp120_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_screenshot, g_object_ref (self), g_object_unref);
#line 262 "../src/WindowManager.vala"
	_tmp121_ = _data8_->display;
#line 262 "../src/WindowManager.vala"
	_tmp122_ = _data8_->keybinding_settings;
#line 262 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp121_, "screenshot-clip", _tmp122_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_screenshot, g_object_ref (self), g_object_unref);
#line 263 "../src/WindowManager.vala"
	_tmp123_ = _data8_->display;
#line 263 "../src/WindowManager.vala"
	_tmp124_ = _data8_->keybinding_settings;
#line 263 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp123_, "window-screenshot-clip", _tmp124_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_screenshot, g_object_ref (self), g_object_unref);
#line 264 "../src/WindowManager.vala"
	_tmp125_ = _data8_->display;
#line 264 "../src/WindowManager.vala"
	_tmp126_ = _data8_->keybinding_settings;
#line 264 "../src/WindowManager.vala"
	meta_display_add_keybinding (_tmp125_, "area-screenshot-clip", _tmp126_, META_KEY_BINDING_IGNORE_AUTOREPEAT, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_screenshot, g_object_ref (self), g_object_unref);
#line 266 "../src/WindowManager.vala"
	_tmp127_ = _data8_->display;
#line 266 "../src/WindowManager.vala"
	g_signal_connect_object (_tmp127_, "overlay-key", (GCallback) ___lambda155__meta_display_overlay_key, self, 0);
#line 270 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("toggle-recording", ___lambda156__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 274 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("switch-to-workspace-up", ___lambda157__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 275 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("switch-to-workspace-down", ___lambda158__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 276 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("switch-to-workspace-left", (MetaKeyHandlerFunc) gala_window_manager_gala_handle_switch_to_workspace, g_object_ref (self), g_object_unref);
#line 277 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("switch-to-workspace-right", (MetaKeyHandlerFunc) gala_window_manager_gala_handle_switch_to_workspace, g_object_ref (self), g_object_unref);
#line 279 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("move-to-workspace-up", ___lambda163__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 280 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("move-to-workspace-down", ___lambda164__meta_key_handler_func, g_object_ref (self), g_object_unref);
#line 281 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("move-to-workspace-left", (MetaKeyHandlerFunc) gala_window_manager_gala_handle_move_to_workspace, g_object_ref (self), g_object_unref);
#line 282 "../src/WindowManager.vala"
	meta_keybindings_set_custom_handler ("move-to-workspace-right", (MetaKeyHandlerFunc) gala_window_manager_gala_handle_move_to_workspace, g_object_ref (self), g_object_unref);
#line 2987 "WindowManager.c"
	{
		gint i = 0;
#line 284 "../src/WindowManager.vala"
		i = 1;
#line 2992 "WindowManager.c"
		{
			gboolean _tmp128_ = FALSE;
#line 284 "../src/WindowManager.vala"
			_tmp128_ = TRUE;
#line 284 "../src/WindowManager.vala"
			while (TRUE) {
#line 2999 "WindowManager.c"
				gchar* _tmp130_;
				gchar* _tmp131_;
#line 284 "../src/WindowManager.vala"
				if (!_tmp128_) {
#line 3004 "WindowManager.c"
					gint _tmp129_;
#line 284 "../src/WindowManager.vala"
					_tmp129_ = i;
#line 284 "../src/WindowManager.vala"
					i = _tmp129_ + 1;
#line 3010 "WindowManager.c"
				}
#line 284 "../src/WindowManager.vala"
				_tmp128_ = FALSE;
#line 284 "../src/WindowManager.vala"
				if (!(i < 13)) {
#line 284 "../src/WindowManager.vala"
					break;
#line 3018 "WindowManager.c"
				}
#line 285 "../src/WindowManager.vala"
				_tmp130_ = g_strdup_printf ("move-to-workspace-%d", i);
#line 285 "../src/WindowManager.vala"
				_tmp131_ = _tmp130_;
#line 285 "../src/WindowManager.vala"
				meta_keybindings_set_custom_handler (_tmp131_, (MetaKeyHandlerFunc) gala_window_manager_gala_handle_move_to_workspace, g_object_ref (self), g_object_unref);
#line 285 "../src/WindowManager.vala"
				_g_free0 (_tmp131_);
#line 3028 "WindowManager.c"
			}
		}
	}
#line 288 "../src/WindowManager.vala"
	_tmp132_ = _data8_->display;
#line 288 "../src/WindowManager.vala"
	_tmp133_ = meta_display_get_context (_tmp132_);
#line 288 "../src/WindowManager.vala"
	_tmp134_ = meta_context_get_backend (_tmp133_);
#line 288 "../src/WindowManager.vala"
	_tmp135_ = meta_backend_get_monitor_manager (_tmp134_);
#line 288 "../src/WindowManager.vala"
	monitor_manager = _tmp135_;
#line 289 "../src/WindowManager.vala"
	g_signal_connect_object (monitor_manager, "monitors-changed", (GCallback) _gala_window_manager_gala_on_monitors_changed_meta_monitor_manager_monitors_changed, self, 0);
#line 291 "../src/WindowManager.vala"
	_tmp136_ = self->priv->behavior_settings;
#line 291 "../src/WindowManager.vala"
	_tmp137_ = self->priv->new_behavior_settings;
#line 291 "../src/WindowManager.vala"
	_tmp138_ = gala_hot_corner_manager_new ((GalaWindowManager*) self, _tmp136_, _tmp137_);
#line 291 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->hot_corner_manager);
#line 291 "../src/WindowManager.vala"
	self->priv->hot_corner_manager = _tmp138_;
#line 292 "../src/WindowManager.vala"
	_tmp139_ = self->priv->hot_corner_manager;
#line 292 "../src/WindowManager.vala"
	g_signal_connect_object (_tmp139_, "on-configured", (GCallback) _gala_window_manager_gala_update_input_area_gala_hot_corner_manager_on_configured, self, 0);
#line 293 "../src/WindowManager.vala"
	_tmp140_ = self->priv->hot_corner_manager;
#line 293 "../src/WindowManager.vala"
	gala_hot_corner_manager_configure (_tmp140_);
#line 295 "../src/WindowManager.vala"
	_tmp141_ = gala_zoom_new ((GalaWindowManager*) self);
#line 295 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->zoom);
#line 295 "../src/WindowManager.vala"
	self->priv->zoom = _tmp141_;
#line 299 "../src/WindowManager.vala"
	_tmp142_ = laters;
#line 299 "../src/WindowManager.vala"
	meta_laters_add (_tmp142_, META_LATER_BEFORE_REDRAW, ___lambda165__gsource_func, block8_data_ref (_data8_), block8_data_unref);
#line 365 "../src/WindowManager.vala"
	gala_window_manager_gala_update_input_area (self);
#line 368 "../src/WindowManager.vala"
	_tmp143_ = _data8_->display;
#line 368 "../src/WindowManager.vala"
	g_signal_connect_object (_tmp143_, "window-created", (GCallback) ___lambda174__meta_display_window_created, self, 0);
#line 370 "../src/WindowManager.vala"
	_tmp144_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 370 "../src/WindowManager.vala"
	_tmp145_ = _tmp144_;
#line 370 "../src/WindowManager.vala"
	clutter_actor_show ((ClutterActor*) _tmp145_);
#line 372 "../src/WindowManager.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda175__gsource_func, block8_data_ref (_data8_), block8_data_unref);
#line 160 "../src/WindowManager.vala"
	_g_object_unref0 (feedback_group);
#line 160 "../src/WindowManager.vala"
	_g_free0 (color);
#line 160 "../src/WindowManager.vala"
	_g_object_unref0 (background_settings);
#line 160 "../src/WindowManager.vala"
	block8_data_unref (_data8_);
#line 160 "../src/WindowManager.vala"
	_data8_ = NULL;
#line 3096 "WindowManager.c"
}

static void
gala_window_manager_gala_update_ui_group_size (GalaWindowManagerGala* self)
{
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp0_;
	gint max_width = 0;
	gint max_height = 0;
	gint num_monitors = 0;
	MetaDisplay* _tmp1_;
	ClutterActor* _tmp12_;
	ClutterActor* _tmp13_;
#line 382 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 383 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 383 "../src/WindowManager.vala"
	display = _tmp0_;
#line 385 "../src/WindowManager.vala"
	max_width = 0;
#line 386 "../src/WindowManager.vala"
	max_height = 0;
#line 388 "../src/WindowManager.vala"
	_tmp1_ = display;
#line 388 "../src/WindowManager.vala"
	num_monitors = meta_display_get_n_monitors (_tmp1_);
#line 3124 "WindowManager.c"
	{
		gint i = 0;
#line 389 "../src/WindowManager.vala"
		i = 0;
#line 3129 "WindowManager.c"
		{
			gboolean _tmp2_ = FALSE;
#line 389 "../src/WindowManager.vala"
			_tmp2_ = TRUE;
#line 389 "../src/WindowManager.vala"
			while (TRUE) {
#line 3136 "WindowManager.c"
				MtkRectangle geom = {0};
				MetaDisplay* _tmp4_;
				MtkRectangle _tmp5_ = {0};
				gint total_width = 0;
				MtkRectangle _tmp6_;
				MtkRectangle _tmp7_;
				gint total_height = 0;
				MtkRectangle _tmp8_;
				MtkRectangle _tmp9_;
				gint _tmp10_ = 0;
				gint _tmp11_ = 0;
#line 389 "../src/WindowManager.vala"
				if (!_tmp2_) {
#line 3150 "WindowManager.c"
					gint _tmp3_;
#line 389 "../src/WindowManager.vala"
					_tmp3_ = i;
#line 389 "../src/WindowManager.vala"
					i = _tmp3_ + 1;
#line 3156 "WindowManager.c"
				}
#line 389 "../src/WindowManager.vala"
				_tmp2_ = FALSE;
#line 389 "../src/WindowManager.vala"
				if (!(i < num_monitors)) {
#line 389 "../src/WindowManager.vala"
					break;
#line 3164 "WindowManager.c"
				}
#line 390 "../src/WindowManager.vala"
				_tmp4_ = display;
#line 390 "../src/WindowManager.vala"
				meta_display_get_monitor_geometry (_tmp4_, i, &_tmp5_);
#line 390 "../src/WindowManager.vala"
				geom = _tmp5_;
#line 391 "../src/WindowManager.vala"
				_tmp6_ = geom;
#line 391 "../src/WindowManager.vala"
				_tmp7_ = geom;
#line 391 "../src/WindowManager.vala"
				total_width = _tmp6_.x + _tmp7_.width;
#line 392 "../src/WindowManager.vala"
				_tmp8_ = geom;
#line 392 "../src/WindowManager.vala"
				_tmp9_ = geom;
#line 392 "../src/WindowManager.vala"
				total_height = _tmp8_.y + _tmp9_.height;
#line 394 "../src/WindowManager.vala"
				if (max_width > total_width) {
#line 394 "../src/WindowManager.vala"
					_tmp10_ = max_width;
#line 3188 "WindowManager.c"
				} else {
#line 394 "../src/WindowManager.vala"
					_tmp10_ = total_width;
#line 3192 "WindowManager.c"
				}
#line 394 "../src/WindowManager.vala"
				max_width = _tmp10_;
#line 395 "../src/WindowManager.vala"
				if (max_height > total_height) {
#line 395 "../src/WindowManager.vala"
					_tmp11_ = max_height;
#line 3200 "WindowManager.c"
				} else {
#line 395 "../src/WindowManager.vala"
					_tmp11_ = total_height;
#line 3204 "WindowManager.c"
				}
#line 395 "../src/WindowManager.vala"
				max_height = _tmp11_;
#line 3208 "WindowManager.c"
			}
		}
	}
#line 398 "../src/WindowManager.vala"
	_tmp12_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 398 "../src/WindowManager.vala"
	_tmp13_ = _tmp12_;
#line 398 "../src/WindowManager.vala"
	clutter_actor_set_size (_tmp13_, (gfloat) max_width, (gfloat) max_height);
#line 3218 "WindowManager.c"
}

static void
gala_window_manager_gala_launch_action (GalaWindowManagerGala* self,
                                        const gchar* action_key)
{
	GError* _inner_error0_ = NULL;
#line 401 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 401 "../src/WindowManager.vala"
	g_return_if_fail (action_key != NULL);
#line 3230 "WindowManager.c"
	{
		gchar* action = NULL;
		GSettings* _tmp0_;
		gchar* _tmp1_;
		gboolean _tmp2_ = FALSE;
		const gchar* _tmp3_;
#line 403 "../src/WindowManager.vala"
		_tmp0_ = self->priv->behavior_settings;
#line 403 "../src/WindowManager.vala"
		_tmp1_ = g_settings_get_string (_tmp0_, action_key);
#line 403 "../src/WindowManager.vala"
		action = _tmp1_;
#line 404 "../src/WindowManager.vala"
		_tmp3_ = action;
#line 404 "../src/WindowManager.vala"
		if (_tmp3_ != NULL) {
#line 3247 "WindowManager.c"
			const gchar* _tmp4_;
#line 404 "../src/WindowManager.vala"
			_tmp4_ = action;
#line 404 "../src/WindowManager.vala"
			_tmp2_ = g_strcmp0 (_tmp4_, "") != 0;
#line 3253 "WindowManager.c"
		} else {
#line 404 "../src/WindowManager.vala"
			_tmp2_ = FALSE;
#line 3257 "WindowManager.c"
		}
#line 404 "../src/WindowManager.vala"
		if (_tmp2_) {
#line 3261 "WindowManager.c"
			const gchar* _tmp5_;
#line 405 "../src/WindowManager.vala"
			_tmp5_ = action;
#line 405 "../src/WindowManager.vala"
			g_spawn_command_line_async (_tmp5_, &_inner_error0_);
#line 405 "../src/WindowManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 405 "../src/WindowManager.vala"
				_g_free0 (action);
#line 3271 "WindowManager.c"
				goto __catch0_g_error;
			}
		}
#line 402 "../src/WindowManager.vala"
		_g_free0 (action);
#line 3277 "WindowManager.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp6_;
		const gchar* _tmp7_;
#line 402 "../src/WindowManager.vala"
		e = _inner_error0_;
#line 402 "../src/WindowManager.vala"
		_inner_error0_ = NULL;
#line 407 "../src/WindowManager.vala"
		_tmp6_ = e;
#line 407 "../src/WindowManager.vala"
		_tmp7_ = _tmp6_->message;
#line 407 "../src/WindowManager.vala"
		g_warning ("WindowManager.vala:407: %s", _tmp7_);
#line 402 "../src/WindowManager.vala"
		_g_error_free0 (e);
#line 3297 "WindowManager.c"
	}
	__finally0:
#line 402 "../src/WindowManager.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 402 "../src/WindowManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 402 "../src/WindowManager.vala"
		g_clear_error (&_inner_error0_);
#line 402 "../src/WindowManager.vala"
		return;
#line 3308 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_on_monitors_changed (GalaWindowManagerGala* self)
{
	GalaScreenShield* _tmp0_;
#line 410 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 411 "../src/WindowManager.vala"
	gala_window_manager_gala_update_ui_group_size (self);
#line 412 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_screen_shield;
#line 412 "../src/WindowManager.vala"
	gala_screen_shield_expand_to_screen_size (_tmp0_);
#line 3324 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_cycle_workspaces (MetaDisplay* display,
                                                  MetaWindow* window,
                                                  ClutterKeyEvent* event,
                                                  MetaKeyBinding* binding,
                                                  GalaWindowManagerGala* self)
{
	gint _tmp0_ = 0;
	const gchar* _tmp1_;
	gint direction = 0;
	MetaWorkspaceManager* manager = NULL;
	MetaWorkspaceManager* _tmp2_;
	gint active_workspace_index = 0;
	MetaWorkspaceManager* _tmp3_;
	gint index = 0;
	gint _tmp4_ = 0;
	gint dynamic_offset = 0;
#line 416 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 416 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 416 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 416 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 418 "../src/WindowManager.vala"
	_tmp1_ = meta_key_binding_get_name (binding);
#line 418 "../src/WindowManager.vala"
	if (g_strcmp0 (_tmp1_, "cycle-workspaces-next") == 0) {
#line 418 "../src/WindowManager.vala"
		_tmp0_ = 1;
#line 3358 "WindowManager.c"
	} else {
#line 418 "../src/WindowManager.vala"
		_tmp0_ = -1;
#line 3362 "WindowManager.c"
	}
#line 418 "../src/WindowManager.vala"
	direction = _tmp0_;
#line 419 "../src/WindowManager.vala"
	_tmp2_ = meta_display_get_workspace_manager (display);
#line 419 "../src/WindowManager.vala"
	manager = _tmp2_;
#line 420 "../src/WindowManager.vala"
	_tmp3_ = manager;
#line 420 "../src/WindowManager.vala"
	active_workspace_index = meta_workspace_manager_get_active_workspace_index (_tmp3_);
#line 421 "../src/WindowManager.vala"
	index = active_workspace_index + direction;
#line 422 "../src/WindowManager.vala"
	if (meta_prefs_get_dynamic_workspaces ()) {
#line 422 "../src/WindowManager.vala"
		_tmp4_ = 1;
#line 3380 "WindowManager.c"
	} else {
#line 422 "../src/WindowManager.vala"
		_tmp4_ = 0;
#line 3384 "WindowManager.c"
	}
#line 422 "../src/WindowManager.vala"
	dynamic_offset = _tmp4_;
#line 424 "../src/WindowManager.vala"
	if (index < 0) {
#line 3390 "WindowManager.c"
		MetaWorkspaceManager* _tmp5_;
#line 425 "../src/WindowManager.vala"
		_tmp5_ = manager;
#line 425 "../src/WindowManager.vala"
		index = (meta_workspace_manager_get_n_workspaces (_tmp5_) - 1) - dynamic_offset;
#line 3396 "WindowManager.c"
	} else {
		MetaWorkspaceManager* _tmp6_;
#line 426 "../src/WindowManager.vala"
		_tmp6_ = manager;
#line 426 "../src/WindowManager.vala"
		if (index > ((meta_workspace_manager_get_n_workspaces (_tmp6_) - 1) - dynamic_offset)) {
#line 427 "../src/WindowManager.vala"
			index = 0;
#line 3405 "WindowManager.c"
		}
	}
#line 430 "../src/WindowManager.vala"
	if (active_workspace_index != index) {
#line 3410 "WindowManager.c"
		MetaWorkspaceManager* _tmp7_;
		MetaWorkspace* _tmp8_;
#line 431 "../src/WindowManager.vala"
		_tmp7_ = manager;
#line 431 "../src/WindowManager.vala"
		_tmp8_ = meta_workspace_manager_get_workspace_by_index (_tmp7_, index);
#line 431 "../src/WindowManager.vala"
		meta_workspace_activate (_tmp8_, clutter_event_get_time ((ClutterEvent*) event));
#line 3419 "WindowManager.c"
	} else {
		ClutterBackend* _tmp9_;
		ClutterSeat* _tmp10_;
#line 433 "../src/WindowManager.vala"
		_tmp9_ = clutter_get_default_backend ();
#line 433 "../src/WindowManager.vala"
		_tmp10_ = clutter_backend_get_default_seat (_tmp9_);
#line 433 "../src/WindowManager.vala"
		clutter_seat_bell_notify (_tmp10_);
#line 3429 "WindowManager.c"
	}
}

static const gchar*
string_offset (const gchar* self,
               glong offset)
{
	const gchar* result;
#line 1322 "glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1323 "glib-2.0.vapi"
	result = (const gchar*) (((gchar*) self) + offset);
#line 1323 "glib-2.0.vapi"
	return result;
#line 3444 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_move_to_workspace (MetaDisplay* display,
                                                   MetaWindow* window,
                                                   ClutterKeyEvent* event,
                                                   MetaKeyBinding* binding,
                                                   GalaWindowManagerGala* self)
{
	const gchar* name = NULL;
	const gchar* _tmp0_;
	MetaWorkspaceManager* workspace_manager = NULL;
	MetaWorkspaceManager* _tmp1_;
	MetaWorkspace* active_workspace = NULL;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* _tmp3_;
	MetaWorkspace* target_workspace = NULL;
	gboolean _tmp4_ = FALSE;
	const gchar* _tmp5_;
	MetaWorkspace* _tmp17_;
#line 438 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 438 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 438 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 438 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 440 "../src/WindowManager.vala"
	if (window == NULL) {
#line 441 "../src/WindowManager.vala"
		return;
#line 3477 "WindowManager.c"
	}
#line 444 "../src/WindowManager.vala"
	_tmp0_ = meta_key_binding_get_name (binding);
#line 444 "../src/WindowManager.vala"
	name = _tmp0_;
#line 445 "../src/WindowManager.vala"
	_tmp1_ = meta_display_get_workspace_manager (display);
#line 445 "../src/WindowManager.vala"
	workspace_manager = _tmp1_;
#line 446 "../src/WindowManager.vala"
	_tmp2_ = workspace_manager;
#line 446 "../src/WindowManager.vala"
	_tmp3_ = meta_workspace_manager_get_active_workspace (_tmp2_);
#line 446 "../src/WindowManager.vala"
	active_workspace = _tmp3_;
#line 447 "../src/WindowManager.vala"
	target_workspace = NULL;
#line 449 "../src/WindowManager.vala"
	_tmp5_ = name;
#line 449 "../src/WindowManager.vala"
	if (g_strcmp0 (_tmp5_, "move-to-workspace-left") == 0) {
#line 449 "../src/WindowManager.vala"
		_tmp4_ = TRUE;
#line 3501 "WindowManager.c"
	} else {
		const gchar* _tmp6_;
#line 449 "../src/WindowManager.vala"
		_tmp6_ = name;
#line 449 "../src/WindowManager.vala"
		_tmp4_ = g_strcmp0 (_tmp6_, "move-to-workspace-right") == 0;
#line 3508 "WindowManager.c"
	}
#line 449 "../src/WindowManager.vala"
	if (_tmp4_) {
#line 3512 "WindowManager.c"
		MetaMotionDirection _tmp7_ = 0;
		const gchar* _tmp8_;
		MetaMotionDirection direction = 0;
		MetaWorkspace* _tmp9_;
		MetaWorkspace* _tmp10_;
#line 450 "../src/WindowManager.vala"
		_tmp8_ = name;
#line 450 "../src/WindowManager.vala"
		if (g_strcmp0 (_tmp8_, "move-to-workspace-left") == 0) {
#line 450 "../src/WindowManager.vala"
			_tmp7_ = META_MOTION_LEFT;
#line 3524 "WindowManager.c"
		} else {
#line 450 "../src/WindowManager.vala"
			_tmp7_ = META_MOTION_RIGHT;
#line 3528 "WindowManager.c"
		}
#line 450 "../src/WindowManager.vala"
		direction = _tmp7_;
#line 451 "../src/WindowManager.vala"
		_tmp9_ = active_workspace;
#line 451 "../src/WindowManager.vala"
		_tmp10_ = meta_workspace_get_neighbor (_tmp9_, direction);
#line 451 "../src/WindowManager.vala"
		target_workspace = _tmp10_;
#line 3538 "WindowManager.c"
	} else {
		gint workspace_number = 0;
		const gchar* _tmp11_;
		gint _tmp12_;
		gint _tmp13_;
		const gchar* _tmp14_;
		gint workspace_index = 0;
		MetaWorkspaceManager* _tmp15_;
		MetaWorkspace* _tmp16_;
#line 453 "../src/WindowManager.vala"
		_tmp11_ = name;
#line 453 "../src/WindowManager.vala"
		_tmp12_ = strlen ("move-to-workspace-");
#line 453 "../src/WindowManager.vala"
		_tmp13_ = _tmp12_;
#line 453 "../src/WindowManager.vala"
		_tmp14_ = string_offset (_tmp11_, (glong) _tmp13_);
#line 453 "../src/WindowManager.vala"
		workspace_number = atoi (_tmp14_);
#line 454 "../src/WindowManager.vala"
		workspace_index = workspace_number - 1;
#line 455 "../src/WindowManager.vala"
		_tmp15_ = workspace_manager;
#line 455 "../src/WindowManager.vala"
		_tmp16_ = meta_workspace_manager_get_workspace_by_index (_tmp15_, workspace_index);
#line 455 "../src/WindowManager.vala"
		target_workspace = _tmp16_;
#line 3566 "WindowManager.c"
	}
#line 458 "../src/WindowManager.vala"
	_tmp17_ = target_workspace;
#line 458 "../src/WindowManager.vala"
	if (_tmp17_ != NULL) {
#line 3572 "WindowManager.c"
		MetaWorkspace* _tmp18_;
#line 459 "../src/WindowManager.vala"
		_tmp18_ = target_workspace;
#line 459 "../src/WindowManager.vala"
		gala_window_manager_move_window ((GalaWindowManager*) self, window, _tmp18_, clutter_event_get_time ((ClutterEvent*) event));
#line 3578 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_handle_move_to_workspace_end (MetaDisplay* display,
                                                       MetaWindow* window,
                                                       ClutterKeyEvent* event,
                                                       MetaKeyBinding* binding,
                                                       GalaWindowManagerGala* self)
{
	MetaWorkspaceManager* manager = NULL;
	MetaWorkspaceManager* _tmp0_;
	gint _tmp1_ = 0;
	const gchar* _tmp2_;
	gint index = 0;
	MetaWorkspace* workspace = NULL;
	MetaWorkspaceManager* _tmp4_;
	MetaWorkspace* _tmp5_;
	MetaWorkspace* _tmp6_;
	MetaWorkspace* _tmp7_;
#line 464 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 464 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 464 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 464 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 466 "../src/WindowManager.vala"
	if (window == NULL) {
#line 467 "../src/WindowManager.vala"
		return;
#line 3611 "WindowManager.c"
	}
#line 469 "../src/WindowManager.vala"
	_tmp0_ = meta_display_get_workspace_manager (display);
#line 469 "../src/WindowManager.vala"
	manager = _tmp0_;
#line 470 "../src/WindowManager.vala"
	_tmp2_ = meta_key_binding_get_name (binding);
#line 470 "../src/WindowManager.vala"
	if (g_strcmp0 (_tmp2_, "move-to-workspace-first") == 0) {
#line 470 "../src/WindowManager.vala"
		_tmp1_ = 0;
#line 3623 "WindowManager.c"
	} else {
		MetaWorkspaceManager* _tmp3_;
#line 470 "../src/WindowManager.vala"
		_tmp3_ = manager;
#line 470 "../src/WindowManager.vala"
		_tmp1_ = meta_workspace_manager_get_n_workspaces (_tmp3_) - 1;
#line 3630 "WindowManager.c"
	}
#line 470 "../src/WindowManager.vala"
	index = _tmp1_;
#line 471 "../src/WindowManager.vala"
	_tmp4_ = manager;
#line 471 "../src/WindowManager.vala"
	_tmp5_ = meta_workspace_manager_get_workspace_by_index (_tmp4_, index);
#line 471 "../src/WindowManager.vala"
	workspace = _tmp5_;
#line 472 "../src/WindowManager.vala"
	_tmp6_ = workspace;
#line 472 "../src/WindowManager.vala"
	meta_window_change_workspace (window, _tmp6_);
#line 473 "../src/WindowManager.vala"
	_tmp7_ = workspace;
#line 473 "../src/WindowManager.vala"
	meta_workspace_activate_with_focus (_tmp7_, window, clutter_event_get_time ((ClutterEvent*) event));
#line 3648 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_switch_to_workspace (MetaDisplay* display,
                                                     MetaWindow* window,
                                                     ClutterKeyEvent* event,
                                                     MetaKeyBinding* binding,
                                                     GalaWindowManagerGala* self)
{
	MetaMotionDirection _tmp0_ = 0;
	const gchar* _tmp1_;
	MetaMotionDirection direction = 0;
#line 477 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 477 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 477 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 477 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 479 "../src/WindowManager.vala"
	_tmp1_ = meta_key_binding_get_name (binding);
#line 479 "../src/WindowManager.vala"
	if (g_strcmp0 (_tmp1_, "switch-to-workspace-left") == 0) {
#line 479 "../src/WindowManager.vala"
		_tmp0_ = META_MOTION_LEFT;
#line 3675 "WindowManager.c"
	} else {
#line 479 "../src/WindowManager.vala"
		_tmp0_ = META_MOTION_RIGHT;
#line 3679 "WindowManager.c"
	}
#line 479 "../src/WindowManager.vala"
	direction = _tmp0_;
#line 480 "../src/WindowManager.vala"
	gala_window_manager_switch_to_next_workspace ((GalaWindowManager*) self, direction, clutter_event_get_time ((ClutterEvent*) event));
#line 3685 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_switch_to_workspace_end (MetaDisplay* display,
                                                         MetaWindow* window,
                                                         ClutterKeyEvent* event,
                                                         MetaKeyBinding* binding,
                                                         GalaWindowManagerGala* self)
{
	MetaWorkspaceManager* manager = NULL;
	MetaWorkspaceManager* _tmp0_;
	gint _tmp1_ = 0;
	const gchar* _tmp2_;
	gint index = 0;
	MetaWorkspaceManager* _tmp6_;
	MetaWorkspace* _tmp7_;
#line 484 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 484 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 484 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 484 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 486 "../src/WindowManager.vala"
	_tmp0_ = meta_display_get_workspace_manager (display);
#line 486 "../src/WindowManager.vala"
	manager = _tmp0_;
#line 487 "../src/WindowManager.vala"
	_tmp2_ = meta_key_binding_get_name (binding);
#line 487 "../src/WindowManager.vala"
	if (g_strcmp0 (_tmp2_, "switch-to-workspace-first") == 0) {
#line 487 "../src/WindowManager.vala"
		_tmp1_ = 0;
#line 3720 "WindowManager.c"
	} else {
		MetaWorkspaceManager* _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
#line 487 "../src/WindowManager.vala"
		_tmp3_ = manager;
#line 487 "../src/WindowManager.vala"
		_tmp4_ = meta_workspace_manager_get_n_workspaces (_tmp3_);
#line 487 "../src/WindowManager.vala"
		_tmp5_ = _tmp4_;
#line 487 "../src/WindowManager.vala"
		_tmp1_ = _tmp5_ - 1;
#line 3733 "WindowManager.c"
	}
#line 487 "../src/WindowManager.vala"
	index = _tmp1_;
#line 488 "../src/WindowManager.vala"
	_tmp6_ = manager;
#line 488 "../src/WindowManager.vala"
	_tmp7_ = meta_workspace_manager_get_workspace_by_index (_tmp6_, index);
#line 488 "../src/WindowManager.vala"
	meta_workspace_activate (_tmp7_, clutter_event_get_time ((ClutterEvent*) event));
#line 3743 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_applications_menu (MetaDisplay* display,
                                                   MetaWindow* window,
                                                   ClutterKeyEvent* event,
                                                   MetaKeyBinding* binding,
                                                   GalaWindowManagerGala* self)
{
#line 492 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 492 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 492 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 492 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 494 "../src/WindowManager.vala"
	gala_window_manager_gala_launch_action (self, "panel-main-menu-action");
#line 3763 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_switch_input_source (MetaDisplay* display,
                                                     MetaWindow* window,
                                                     ClutterKeyEvent* event,
                                                     MetaKeyBinding* binding,
                                                     GalaWindowManagerGala* self)
{
	const gchar* _tmp0_;
#line 498 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 498 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 498 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 498 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 500 "../src/WindowManager.vala"
	_tmp0_ = meta_key_binding_get_name (binding);
#line 500 "../src/WindowManager.vala"
	gala_keyboard_manager_handle_modifiers_accelerator_activated (display, g_str_has_suffix (_tmp0_, "-backward"));
#line 3786 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_screenshot (MetaDisplay* display,
                                            MetaWindow* window,
                                            ClutterKeyEvent* event,
                                            MetaKeyBinding* binding,
                                            GalaWindowManagerGala* self)
{
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	GQuark _tmp3_ = 0U;
#line 506 "../src/WindowManager.vala"
	static GQuark _tmp2_label0 = 0;
#line 506 "../src/WindowManager.vala"
	static GQuark _tmp2_label1 = 0;
#line 506 "../src/WindowManager.vala"
	static GQuark _tmp2_label2 = 0;
#line 506 "../src/WindowManager.vala"
	static GQuark _tmp2_label3 = 0;
#line 506 "../src/WindowManager.vala"
	static GQuark _tmp2_label4 = 0;
#line 506 "../src/WindowManager.vala"
	static GQuark _tmp2_label5 = 0;
#line 504 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 504 "../src/WindowManager.vala"
	g_return_if_fail (display != NULL);
#line 504 "../src/WindowManager.vala"
	g_return_if_fail (event != NULL);
#line 504 "../src/WindowManager.vala"
	g_return_if_fail (binding != NULL);
#line 506 "../src/WindowManager.vala"
	_tmp0_ = meta_key_binding_get_name (binding);
#line 506 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 506 "../src/WindowManager.vala"
	_tmp3_ = (NULL == _tmp1_) ? 0 : g_quark_from_string (_tmp1_);
#line 506 "../src/WindowManager.vala"
	if (_tmp3_ == ((0 != _tmp2_label0) ? _tmp2_label0 : (_tmp2_label0 = g_quark_from_static_string ("screenshot")))) {
#line 506 "../src/WindowManager.vala"
		switch (0) {
#line 3829 "WindowManager.c"
			default:
			{
#line 508 "../src/WindowManager.vala"
				gala_window_manager_gala_screenshot_screen (self, FALSE, NULL, NULL);
#line 509 "../src/WindowManager.vala"
				break;
#line 3836 "WindowManager.c"
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label1) ? _tmp2_label1 : (_tmp2_label1 = g_quark_from_static_string ("area-screenshot")))) {
#line 506 "../src/WindowManager.vala"
		switch (0) {
#line 3842 "WindowManager.c"
			default:
			{
#line 511 "../src/WindowManager.vala"
				gala_window_manager_gala_screenshot_area (self, FALSE, NULL, NULL);
#line 512 "../src/WindowManager.vala"
				break;
#line 3849 "WindowManager.c"
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label2) ? _tmp2_label2 : (_tmp2_label2 = g_quark_from_static_string ("window-screenshot")))) {
#line 506 "../src/WindowManager.vala"
		switch (0) {
#line 3855 "WindowManager.c"
			default:
			{
#line 514 "../src/WindowManager.vala"
				gala_window_manager_gala_screenshot_current_window (self, FALSE, NULL, NULL);
#line 515 "../src/WindowManager.vala"
				break;
#line 3862 "WindowManager.c"
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label3) ? _tmp2_label3 : (_tmp2_label3 = g_quark_from_static_string ("screenshot-clip")))) {
#line 506 "../src/WindowManager.vala"
		switch (0) {
#line 3868 "WindowManager.c"
			default:
			{
#line 517 "../src/WindowManager.vala"
				gala_window_manager_gala_screenshot_screen (self, TRUE, NULL, NULL);
#line 518 "../src/WindowManager.vala"
				break;
#line 3875 "WindowManager.c"
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label4) ? _tmp2_label4 : (_tmp2_label4 = g_quark_from_static_string ("area-screenshot-clip")))) {
#line 506 "../src/WindowManager.vala"
		switch (0) {
#line 3881 "WindowManager.c"
			default:
			{
#line 520 "../src/WindowManager.vala"
				gala_window_manager_gala_screenshot_area (self, TRUE, NULL, NULL);
#line 521 "../src/WindowManager.vala"
				break;
#line 3888 "WindowManager.c"
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label5) ? _tmp2_label5 : (_tmp2_label5 = g_quark_from_static_string ("window-screenshot-clip")))) {
#line 506 "../src/WindowManager.vala"
		switch (0) {
#line 3894 "WindowManager.c"
			default:
			{
#line 523 "../src/WindowManager.vala"
				gala_window_manager_gala_screenshot_current_window (self, TRUE, NULL, NULL);
#line 524 "../src/WindowManager.vala"
				break;
#line 3901 "WindowManager.c"
			}
		}
	}
}

static void
gala_window_manager_gala_on_gesture_detected (GalaWindowManagerGala* self,
                                              GalaGesture* gesture)
{
	GalaActivatableComponent* _tmp0_;
	GalaActivatableComponent* _tmp1_;
	gboolean _tmp2_ = FALSE;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp4_;
	gint fingers = 0;
	gchar* three_finger_swipe_horizontal = NULL;
	gchar* _tmp5_;
	gchar* four_finger_swipe_horizontal = NULL;
	gchar* _tmp6_;
	gboolean _tmp7_ = FALSE;
	gboolean three_fingers_switch_to_workspace = FALSE;
	gboolean _tmp9_ = FALSE;
	gboolean four_fingers_switch_to_workspace = FALSE;
	gboolean _tmp11_ = FALSE;
	gboolean three_fingers_move_to_workspace = FALSE;
	gboolean _tmp13_ = FALSE;
	gboolean four_fingers_move_to_workspace = FALSE;
	gboolean _tmp15_ = FALSE;
	gboolean three_fingers_switch_windows = FALSE;
	gboolean _tmp17_ = FALSE;
	gboolean four_fingers_switch_windows = FALSE;
	gboolean _tmp19_ = FALSE;
	gboolean _tmp26_ = FALSE;
	gboolean _tmp45_ = FALSE;
	gboolean switch_windows = FALSE;
	gboolean _tmp46_ = FALSE;
#line 528 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 528 "../src/WindowManager.vala"
	g_return_if_fail (gesture != NULL);
#line 529 "../src/WindowManager.vala"
	_tmp0_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 529 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 529 "../src/WindowManager.vala"
	if (gala_activatable_component_is_opened (_tmp1_)) {
#line 530 "../src/WindowManager.vala"
		return;
#line 3950 "WindowManager.c"
	}
#line 533 "../src/WindowManager.vala"
	if (gesture->type != CLUTTER_TOUCHPAD_SWIPE) {
#line 533 "../src/WindowManager.vala"
		_tmp2_ = TRUE;
#line 3956 "WindowManager.c"
	} else {
		gboolean _tmp3_ = FALSE;
#line 534 "../src/WindowManager.vala"
		if (gesture->direction != GALA_GESTURE_DIRECTION_LEFT) {
#line 534 "../src/WindowManager.vala"
			_tmp3_ = gesture->direction != GALA_GESTURE_DIRECTION_RIGHT;
#line 3963 "WindowManager.c"
		} else {
#line 534 "../src/WindowManager.vala"
			_tmp3_ = FALSE;
#line 3967 "WindowManager.c"
		}
#line 534 "../src/WindowManager.vala"
		_tmp2_ = _tmp3_;
#line 3971 "WindowManager.c"
	}
#line 533 "../src/WindowManager.vala"
	if (_tmp2_) {
#line 535 "../src/WindowManager.vala"
		return;
#line 3977 "WindowManager.c"
	}
#line 538 "../src/WindowManager.vala"
	_tmp4_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 538 "../src/WindowManager.vala"
	display = _tmp4_;
#line 540 "../src/WindowManager.vala"
	fingers = gesture->fingers;
#line 542 "../src/WindowManager.vala"
	_tmp5_ = gala_gesture_settings_get_string ("three-finger-swipe-horizontal");
#line 542 "../src/WindowManager.vala"
	three_finger_swipe_horizontal = _tmp5_;
#line 543 "../src/WindowManager.vala"
	_tmp6_ = gala_gesture_settings_get_string ("four-finger-swipe-horizontal");
#line 543 "../src/WindowManager.vala"
	four_finger_swipe_horizontal = _tmp6_;
#line 545 "../src/WindowManager.vala"
	if (fingers == 3) {
#line 3995 "WindowManager.c"
		const gchar* _tmp8_;
#line 545 "../src/WindowManager.vala"
		_tmp8_ = three_finger_swipe_horizontal;
#line 545 "../src/WindowManager.vala"
		_tmp7_ = g_strcmp0 (_tmp8_, "switch-to-workspace") == 0;
#line 4001 "WindowManager.c"
	} else {
#line 545 "../src/WindowManager.vala"
		_tmp7_ = FALSE;
#line 4005 "WindowManager.c"
	}
#line 545 "../src/WindowManager.vala"
	three_fingers_switch_to_workspace = _tmp7_;
#line 546 "../src/WindowManager.vala"
	if (fingers == 4) {
#line 4011 "WindowManager.c"
		const gchar* _tmp10_;
#line 546 "../src/WindowManager.vala"
		_tmp10_ = four_finger_swipe_horizontal;
#line 546 "../src/WindowManager.vala"
		_tmp9_ = g_strcmp0 (_tmp10_, "switch-to-workspace") == 0;
#line 4017 "WindowManager.c"
	} else {
#line 546 "../src/WindowManager.vala"
		_tmp9_ = FALSE;
#line 4021 "WindowManager.c"
	}
#line 546 "../src/WindowManager.vala"
	four_fingers_switch_to_workspace = _tmp9_;
#line 548 "../src/WindowManager.vala"
	if (fingers == 3) {
#line 4027 "WindowManager.c"
		const gchar* _tmp12_;
#line 548 "../src/WindowManager.vala"
		_tmp12_ = three_finger_swipe_horizontal;
#line 548 "../src/WindowManager.vala"
		_tmp11_ = g_strcmp0 (_tmp12_, "move-to-workspace") == 0;
#line 4033 "WindowManager.c"
	} else {
#line 548 "../src/WindowManager.vala"
		_tmp11_ = FALSE;
#line 4037 "WindowManager.c"
	}
#line 548 "../src/WindowManager.vala"
	three_fingers_move_to_workspace = _tmp11_;
#line 549 "../src/WindowManager.vala"
	if (fingers == 4) {
#line 4043 "WindowManager.c"
		const gchar* _tmp14_;
#line 549 "../src/WindowManager.vala"
		_tmp14_ = four_finger_swipe_horizontal;
#line 549 "../src/WindowManager.vala"
		_tmp13_ = g_strcmp0 (_tmp14_, "move-to-workspace") == 0;
#line 4049 "WindowManager.c"
	} else {
#line 549 "../src/WindowManager.vala"
		_tmp13_ = FALSE;
#line 4053 "WindowManager.c"
	}
#line 549 "../src/WindowManager.vala"
	four_fingers_move_to_workspace = _tmp13_;
#line 551 "../src/WindowManager.vala"
	if (fingers == 3) {
#line 4059 "WindowManager.c"
		const gchar* _tmp16_;
#line 551 "../src/WindowManager.vala"
		_tmp16_ = three_finger_swipe_horizontal;
#line 551 "../src/WindowManager.vala"
		_tmp15_ = g_strcmp0 (_tmp16_, "switch-windows") == 0;
#line 4065 "WindowManager.c"
	} else {
#line 551 "../src/WindowManager.vala"
		_tmp15_ = FALSE;
#line 4069 "WindowManager.c"
	}
#line 551 "../src/WindowManager.vala"
	three_fingers_switch_windows = _tmp15_;
#line 552 "../src/WindowManager.vala"
	if (fingers == 4) {
#line 4075 "WindowManager.c"
		const gchar* _tmp18_;
#line 552 "../src/WindowManager.vala"
		_tmp18_ = four_finger_swipe_horizontal;
#line 552 "../src/WindowManager.vala"
		_tmp17_ = g_strcmp0 (_tmp18_, "switch-windows") == 0;
#line 4081 "WindowManager.c"
	} else {
#line 552 "../src/WindowManager.vala"
		_tmp17_ = FALSE;
#line 4085 "WindowManager.c"
	}
#line 552 "../src/WindowManager.vala"
	four_fingers_switch_windows = _tmp17_;
#line 554 "../src/WindowManager.vala"
	if (three_fingers_switch_to_workspace) {
#line 554 "../src/WindowManager.vala"
		_tmp19_ = TRUE;
#line 4093 "WindowManager.c"
	} else {
#line 554 "../src/WindowManager.vala"
		_tmp19_ = four_fingers_switch_to_workspace;
#line 4097 "WindowManager.c"
	}
#line 554 "../src/WindowManager.vala"
	self->priv->switch_workspace_with_gesture = _tmp19_;
#line 555 "../src/WindowManager.vala"
	if (self->priv->switch_workspace_with_gesture) {
#line 4103 "WindowManager.c"
		MetaMotionDirection* direction = NULL;
		GalaGestureTracker* _tmp20_;
		GalaGestureSettings* _tmp21_;
		GalaGestureSettings* _tmp22_;
		MetaMotionDirection* _tmp23_;
		MetaMotionDirection* _tmp24_;
		MetaDisplay* _tmp25_;
#line 556 "../src/WindowManager.vala"
		_tmp20_ = self->priv->gesture_tracker;
#line 556 "../src/WindowManager.vala"
		_tmp21_ = gala_gesture_tracker_get_settings (_tmp20_);
#line 556 "../src/WindowManager.vala"
		_tmp22_ = _tmp21_;
#line 556 "../src/WindowManager.vala"
		_tmp23_ = gala_gesture_settings_get_natural_scroll_direction (_tmp22_, gesture);
#line 556 "../src/WindowManager.vala"
		direction = _tmp23_;
#line 557 "../src/WindowManager.vala"
		_tmp24_ = direction;
#line 557 "../src/WindowManager.vala"
		_tmp25_ = display;
#line 557 "../src/WindowManager.vala"
		gala_window_manager_switch_to_next_workspace ((GalaWindowManager*) self, *_tmp24_, meta_display_get_current_time (_tmp25_));
#line 558 "../src/WindowManager.vala"
		_g_free0 (direction);
#line 558 "../src/WindowManager.vala"
		_g_free0 (four_finger_swipe_horizontal);
#line 558 "../src/WindowManager.vala"
		_g_free0 (three_finger_swipe_horizontal);
#line 558 "../src/WindowManager.vala"
		return;
#line 4135 "WindowManager.c"
	}
#line 561 "../src/WindowManager.vala"
	if (three_fingers_move_to_workspace) {
#line 561 "../src/WindowManager.vala"
		_tmp26_ = TRUE;
#line 4141 "WindowManager.c"
	} else {
#line 561 "../src/WindowManager.vala"
		_tmp26_ = four_fingers_move_to_workspace;
#line 4145 "WindowManager.c"
	}
#line 561 "../src/WindowManager.vala"
	self->priv->switch_workspace_with_gesture = _tmp26_;
#line 562 "../src/WindowManager.vala"
	if (self->priv->switch_workspace_with_gesture) {
#line 4151 "WindowManager.c"
		MetaWorkspaceManager* manager = NULL;
		MetaDisplay* _tmp27_;
		MetaWorkspaceManager* _tmp28_;
		MetaMotionDirection* direction = NULL;
		GalaGestureTracker* _tmp29_;
		GalaGestureSettings* _tmp30_;
		GalaGestureSettings* _tmp31_;
		MetaMotionDirection* _tmp32_;
		MetaDisplay* _tmp33_;
		MetaWindow* _tmp34_;
		MetaWindow* _tmp35_;
		MetaWindow* _tmp36_;
		MetaWindow* _tmp37_;
		MetaMotionDirection* _tmp43_;
		MetaDisplay* _tmp44_;
#line 563 "../src/WindowManager.vala"
		_tmp27_ = display;
#line 563 "../src/WindowManager.vala"
		_tmp28_ = meta_display_get_workspace_manager (_tmp27_);
#line 563 "../src/WindowManager.vala"
		manager = _tmp28_;
#line 565 "../src/WindowManager.vala"
		_tmp29_ = self->priv->gesture_tracker;
#line 565 "../src/WindowManager.vala"
		_tmp30_ = gala_gesture_tracker_get_settings (_tmp29_);
#line 565 "../src/WindowManager.vala"
		_tmp31_ = _tmp30_;
#line 565 "../src/WindowManager.vala"
		_tmp32_ = gala_gesture_settings_get_natural_scroll_direction (_tmp31_, gesture);
#line 565 "../src/WindowManager.vala"
		direction = _tmp32_;
#line 567 "../src/WindowManager.vala"
		_tmp33_ = display;
#line 567 "../src/WindowManager.vala"
		_tmp34_ = meta_display_get_focus_window (_tmp33_);
#line 567 "../src/WindowManager.vala"
		_tmp35_ = _tmp34_;
#line 567 "../src/WindowManager.vala"
		_tmp36_ = _g_object_ref0 (_tmp35_);
#line 567 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->moving);
#line 567 "../src/WindowManager.vala"
		self->priv->moving = _tmp36_;
#line 568 "../src/WindowManager.vala"
		_tmp37_ = self->priv->moving;
#line 568 "../src/WindowManager.vala"
		if (_tmp37_ != NULL) {
#line 4199 "WindowManager.c"
			MetaWindow* _tmp38_;
			MetaWorkspaceManager* _tmp39_;
			MetaWorkspace* _tmp40_;
			MetaMotionDirection* _tmp41_;
			MetaWorkspace* _tmp42_;
#line 569 "../src/WindowManager.vala"
			_tmp38_ = self->priv->moving;
#line 569 "../src/WindowManager.vala"
			_tmp39_ = manager;
#line 569 "../src/WindowManager.vala"
			_tmp40_ = meta_workspace_manager_get_active_workspace (_tmp39_);
#line 569 "../src/WindowManager.vala"
			_tmp41_ = direction;
#line 569 "../src/WindowManager.vala"
			_tmp42_ = meta_workspace_get_neighbor (_tmp40_, *_tmp41_);
#line 569 "../src/WindowManager.vala"
			meta_window_change_workspace (_tmp38_, _tmp42_);
#line 4217 "WindowManager.c"
		}
#line 572 "../src/WindowManager.vala"
		_tmp43_ = direction;
#line 572 "../src/WindowManager.vala"
		_tmp44_ = display;
#line 572 "../src/WindowManager.vala"
		gala_window_manager_switch_to_next_workspace ((GalaWindowManager*) self, *_tmp43_, meta_display_get_current_time (_tmp44_));
#line 573 "../src/WindowManager.vala"
		_g_free0 (direction);
#line 573 "../src/WindowManager.vala"
		_g_free0 (four_finger_swipe_horizontal);
#line 573 "../src/WindowManager.vala"
		_g_free0 (three_finger_swipe_horizontal);
#line 573 "../src/WindowManager.vala"
		return;
#line 4233 "WindowManager.c"
	}
#line 576 "../src/WindowManager.vala"
	if (three_fingers_switch_windows) {
#line 576 "../src/WindowManager.vala"
		_tmp45_ = TRUE;
#line 4239 "WindowManager.c"
	} else {
#line 576 "../src/WindowManager.vala"
		_tmp45_ = four_fingers_switch_windows;
#line 4243 "WindowManager.c"
	}
#line 576 "../src/WindowManager.vala"
	switch_windows = _tmp45_;
#line 577 "../src/WindowManager.vala"
	if (switch_windows) {
#line 4249 "WindowManager.c"
		GalaWindowSwitcher* _tmp47_;
		gboolean _tmp48_;
		gboolean _tmp49_;
#line 577 "../src/WindowManager.vala"
		_tmp47_ = self->priv->window_switcher;
#line 577 "../src/WindowManager.vala"
		_tmp48_ = gala_window_switcher_get_opened (_tmp47_);
#line 577 "../src/WindowManager.vala"
		_tmp49_ = _tmp48_;
#line 577 "../src/WindowManager.vala"
		_tmp46_ = !_tmp49_;
#line 4261 "WindowManager.c"
	} else {
#line 577 "../src/WindowManager.vala"
		_tmp46_ = FALSE;
#line 4265 "WindowManager.c"
	}
#line 577 "../src/WindowManager.vala"
	if (_tmp46_) {
#line 4269 "WindowManager.c"
		GalaWindowSwitcher* _tmp50_;
#line 578 "../src/WindowManager.vala"
		_tmp50_ = self->priv->window_switcher;
#line 578 "../src/WindowManager.vala"
		gala_window_switcher_handle_gesture (_tmp50_, gesture->direction);
#line 4275 "WindowManager.c"
	}
#line 528 "../src/WindowManager.vala"
	_g_free0 (four_finger_swipe_horizontal);
#line 528 "../src/WindowManager.vala"
	_g_free0 (three_finger_swipe_horizontal);
#line 4281 "WindowManager.c"
}

/**
         * {@inheritDoc}
         */
static void
gala_window_manager_gala_real_switch_to_next_workspace (GalaWindowManager* base,
                                                        MetaMotionDirection direction,
                                                        guint32 timestamp)
{
	GalaWindowManagerGala * self;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspace* active_workspace = NULL;
	MetaDisplay* _tmp1_;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* _tmp3_;
	MetaWorkspace* neighbor = NULL;
	MetaWorkspace* _tmp4_;
	MetaWorkspace* _tmp5_;
	MetaWorkspace* _tmp6_;
	MetaWorkspace* _tmp7_;
#line 585 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 586 "../src/WindowManager.vala"
	if (self->priv->animating_switch_workspace) {
#line 587 "../src/WindowManager.vala"
		return;
#line 4310 "WindowManager.c"
	}
#line 590 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 590 "../src/WindowManager.vala"
	display = _tmp0_;
#line 591 "../src/WindowManager.vala"
	_tmp1_ = display;
#line 591 "../src/WindowManager.vala"
	_tmp2_ = meta_display_get_workspace_manager (_tmp1_);
#line 591 "../src/WindowManager.vala"
	_tmp3_ = meta_workspace_manager_get_active_workspace (_tmp2_);
#line 591 "../src/WindowManager.vala"
	active_workspace = _tmp3_;
#line 592 "../src/WindowManager.vala"
	_tmp4_ = active_workspace;
#line 592 "../src/WindowManager.vala"
	_tmp5_ = meta_workspace_get_neighbor (_tmp4_, direction);
#line 592 "../src/WindowManager.vala"
	neighbor = _tmp5_;
#line 594 "../src/WindowManager.vala"
	_tmp6_ = neighbor;
#line 594 "../src/WindowManager.vala"
	_tmp7_ = active_workspace;
#line 594 "../src/WindowManager.vala"
	if (_tmp6_ != _tmp7_) {
#line 4336 "WindowManager.c"
		MetaWorkspace* _tmp8_;
#line 595 "../src/WindowManager.vala"
		_tmp8_ = neighbor;
#line 595 "../src/WindowManager.vala"
		meta_workspace_activate (_tmp8_, timestamp);
#line 4342 "WindowManager.c"
	} else {
		gboolean _tmp9_ = FALSE;
		GalaActivatableComponent* _tmp10_;
		GalaActivatableComponent* _tmp11_;
#line 598 "../src/WindowManager.vala"
		_tmp10_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 598 "../src/WindowManager.vala"
		_tmp11_ = _tmp10_;
#line 598 "../src/WindowManager.vala"
		if (gala_activatable_component_is_opened (_tmp11_)) {
#line 4353 "WindowManager.c"
			GalaActivatableComponent* _tmp12_;
			GalaActivatableComponent* _tmp13_;
#line 598 "../src/WindowManager.vala"
			_tmp12_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 598 "../src/WindowManager.vala"
			_tmp13_ = _tmp12_;
#line 598 "../src/WindowManager.vala"
			_tmp9_ = GALA_IS_MULTITASKING_VIEW (_tmp13_);
#line 4362 "WindowManager.c"
		} else {
#line 598 "../src/WindowManager.vala"
			_tmp9_ = FALSE;
#line 4366 "WindowManager.c"
		}
#line 598 "../src/WindowManager.vala"
		if (_tmp9_) {
#line 4370 "WindowManager.c"
			GalaActivatableComponent* _tmp14_;
			GalaActivatableComponent* _tmp15_;
#line 599 "../src/WindowManager.vala"
			_tmp14_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 599 "../src/WindowManager.vala"
			_tmp15_ = _tmp14_;
#line 599 "../src/WindowManager.vala"
			gala_multitasking_view_play_nudge_animation (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView), direction);
#line 4379 "WindowManager.c"
		} else {
#line 601 "../src/WindowManager.vala"
			gala_window_manager_gala_play_nudge_animation (self, direction);
#line 4383 "WindowManager.c"
		}
	}
}

static Block9Data*
block9_data_ref (Block9Data* _data9_)
{
#line 606 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data9_->_ref_count_);
#line 606 "../src/WindowManager.vala"
	return _data9_;
#line 4395 "WindowManager.c"
}

static void
block9_data_unref (void * _userdata_)
{
	Block9Data* _data9_;
	_data9_ = (Block9Data*) _userdata_;
#line 606 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data9_->_ref_count_)) {
#line 4405 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 606 "../src/WindowManager.vala"
		self = _data9_->self;
#line 606 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 606 "../src/WindowManager.vala"
		g_slice_free (Block9Data, _data9_);
#line 4413 "WindowManager.c"
	}
}

static void
__lambda159_ (Block9Data* _data9_,
              gdouble percentage)
{
	GalaWindowManagerGala* self;
	gfloat x_out = 0.0F;
	ClutterActor* _tmp0_;
	ClutterActor* _tmp1_;
#line 634 "../src/WindowManager.vala"
	self = _data9_->self;
#line 635 "../src/WindowManager.vala"
	x_out = CLAMP (gala_gesture_tracker_animation_value (0.0f, _data9_->dest, percentage, TRUE), (gfloat) (-_data9_->nudge_gap), (gfloat) _data9_->nudge_gap);
#line 636 "../src/WindowManager.vala"
	_tmp0_ = self->priv->out_group;
#line 636 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp0_, x_out);
#line 637 "../src/WindowManager.vala"
	_tmp1_ = self->priv->wallpaper;
#line 637 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp1_, x_out);
#line 4437 "WindowManager.c"
}

static void
___lambda159__gala_gesture_tracker_on_update (gdouble percentage,
                                              gpointer self)
{
#line 634 "../src/WindowManager.vala"
	__lambda159_ (self, percentage);
#line 4446 "WindowManager.c"
}

static void
__lambda161_ (Block9Data* _data9_)
{
	GalaWindowManagerGala* self;
#line 656 "../src/WindowManager.vala"
	self = _data9_->self;
#line 657 "../src/WindowManager.vala"
	gala_window_manager_gala_switch_workspace_animation_finished (self, _data9_->direction, FALSE, TRUE);
#line 658 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = FALSE;
#line 4459 "WindowManager.c"
}

static void
___lambda161__clutter_timeline_completed (ClutterTimeline* _sender,
                                          gpointer self)
{
#line 656 "../src/WindowManager.vala"
	__lambda161_ (self);
#line 4468 "WindowManager.c"
}

static void
__lambda160_ (Block9Data* _data9_,
              gdouble percentage,
              gboolean cancel_action,
              gint duration)
{
	GalaWindowManagerGala* self;
	ClutterActor* _tmp0_;
	ClutterActor* _tmp1_;
	ClutterActor* _tmp2_;
	ClutterActor* _tmp3_;
	ClutterActor* _tmp4_;
	ClutterActor* _tmp5_;
	ClutterActor* _tmp6_;
	ClutterActor* _tmp7_;
	ClutterActor* _tmp8_;
	ClutterActor* _tmp9_;
	ClutterTransition* transition = NULL;
	ClutterActor* _tmp10_;
	ClutterTransition* _tmp11_;
#line 640 "../src/WindowManager.vala"
	self = _data9_->self;
#line 641 "../src/WindowManager.vala"
	_tmp0_ = self->priv->out_group;
#line 641 "../src/WindowManager.vala"
	clutter_actor_save_easing_state (_tmp0_);
#line 642 "../src/WindowManager.vala"
	_tmp1_ = self->priv->out_group;
#line 642 "../src/WindowManager.vala"
	clutter_actor_set_easing_mode (_tmp1_, _data9_->animation_mode);
#line 643 "../src/WindowManager.vala"
	_tmp2_ = self->priv->out_group;
#line 643 "../src/WindowManager.vala"
	clutter_actor_set_easing_duration (_tmp2_, (guint) (GALA_ANIMATION_DURATION_NUDGE / 2));
#line 645 "../src/WindowManager.vala"
	_tmp3_ = self->priv->wallpaper;
#line 645 "../src/WindowManager.vala"
	clutter_actor_save_easing_state (_tmp3_);
#line 646 "../src/WindowManager.vala"
	_tmp4_ = self->priv->wallpaper;
#line 646 "../src/WindowManager.vala"
	clutter_actor_set_easing_mode (_tmp4_, _data9_->animation_mode);
#line 647 "../src/WindowManager.vala"
	_tmp5_ = self->priv->wallpaper;
#line 647 "../src/WindowManager.vala"
	clutter_actor_set_easing_duration (_tmp5_, (guint) (GALA_ANIMATION_DURATION_NUDGE / 2));
#line 649 "../src/WindowManager.vala"
	_tmp6_ = self->priv->out_group;
#line 649 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp6_, 0.0f);
#line 650 "../src/WindowManager.vala"
	_tmp7_ = self->priv->out_group;
#line 650 "../src/WindowManager.vala"
	clutter_actor_restore_easing_state (_tmp7_);
#line 652 "../src/WindowManager.vala"
	_tmp8_ = self->priv->wallpaper;
#line 652 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp8_, 0.0f);
#line 653 "../src/WindowManager.vala"
	_tmp9_ = self->priv->wallpaper;
#line 653 "../src/WindowManager.vala"
	clutter_actor_restore_easing_state (_tmp9_);
#line 655 "../src/WindowManager.vala"
	_tmp10_ = self->priv->out_group;
#line 655 "../src/WindowManager.vala"
	_tmp11_ = clutter_actor_get_transition (_tmp10_, "x");
#line 655 "../src/WindowManager.vala"
	transition = _tmp11_;
#line 656 "../src/WindowManager.vala"
	g_signal_connect_data ((ClutterTimeline*) transition, "completed", (GCallback) ___lambda161__clutter_timeline_completed, block9_data_ref (_data9_), (GClosureNotify) block9_data_unref, 0);
#line 4541 "WindowManager.c"
}

static void
___lambda160__gala_gesture_tracker_on_end (gdouble percentage,
                                           gboolean cancel_action,
                                           gint calculated_duration,
                                           gpointer self)
{
#line 640 "../src/WindowManager.vala"
	__lambda160_ (self, percentage, cancel_action, calculated_duration);
#line 4552 "WindowManager.c"
}

static void
___lambda162_ (Block9Data* _data9_)
{
	GalaWindowManagerGala* self;
#line 688 "../src/WindowManager.vala"
	self = _data9_->self;
#line 689 "../src/WindowManager.vala"
	gala_window_manager_gala_switch_workspace_animation_finished (self, _data9_->direction, FALSE, TRUE);
#line 690 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = FALSE;
#line 4565 "WindowManager.c"
}

static void
____lambda162__clutter_timeline_completed (ClutterTimeline* _sender,
                                           gpointer self)
{
#line 688 "../src/WindowManager.vala"
	___lambda162_ (self);
#line 4574 "WindowManager.c"
}

static void
_vala_GValue_array_free (GValue * array,
                         gssize array_length)
{
#line 662 "../src/WindowManager.vala"
	if (array != NULL) {
#line 4583 "WindowManager.c"
		gssize i;
#line 662 "../src/WindowManager.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 662 "../src/WindowManager.vala"
			g_value_unset (&array[i]);
#line 4589 "WindowManager.c"
		}
	}
#line 662 "../src/WindowManager.vala"
	g_free (array);
#line 4594 "WindowManager.c"
}

static void
gala_window_manager_gala_play_nudge_animation (GalaWindowManagerGala* self,
                                               MetaMotionDirection direction)
{
	Block9Data* _data9_;
	gboolean _tmp0_;
	gboolean _tmp1_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp2_;
	gint active_index = 0;
	MetaDisplay* _tmp3_;
	MetaWorkspaceManager* _tmp4_;
	gfloat monitor_scale = 0.0F;
	MetaDisplay* _tmp5_;
	MetaDisplay* _tmp6_;
	GalaGestureTrackerOnUpdate on_animation_update = NULL;
	gpointer on_animation_update_target;
	GDestroyNotify on_animation_update_target_destroy_notify;
	GalaGestureTrackerOnEnd on_animation_end = NULL;
	gpointer on_animation_end_target;
	GDestroyNotify on_animation_end_target_destroy_notify;
#line 606 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 606 "../src/WindowManager.vala"
	_data9_ = g_slice_new0 (Block9Data);
#line 606 "../src/WindowManager.vala"
	_data9_->_ref_count_ = 1;
#line 606 "../src/WindowManager.vala"
	_data9_->self = g_object_ref (self);
#line 606 "../src/WindowManager.vala"
	_data9_->direction = direction;
#line 607 "../src/WindowManager.vala"
	_tmp0_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 607 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 607 "../src/WindowManager.vala"
	if (!_tmp1_) {
#line 608 "../src/WindowManager.vala"
		block9_data_unref (_data9_);
#line 608 "../src/WindowManager.vala"
		_data9_ = NULL;
#line 608 "../src/WindowManager.vala"
		return;
#line 4640 "WindowManager.c"
	}
#line 611 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = TRUE;
#line 613 "../src/WindowManager.vala"
	_tmp2_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 613 "../src/WindowManager.vala"
	display = _tmp2_;
#line 614 "../src/WindowManager.vala"
	_tmp3_ = display;
#line 614 "../src/WindowManager.vala"
	_tmp4_ = meta_display_get_workspace_manager (_tmp3_);
#line 614 "../src/WindowManager.vala"
	active_index = meta_workspace_manager_get_active_workspace_index (_tmp4_);
#line 615 "../src/WindowManager.vala"
	gala_window_manager_gala_prepare_workspace_switch (self, active_index, active_index, _data9_->direction);
#line 617 "../src/WindowManager.vala"
	_tmp5_ = display;
#line 617 "../src/WindowManager.vala"
	_tmp6_ = display;
#line 617 "../src/WindowManager.vala"
	monitor_scale = meta_display_get_monitor_scale (_tmp5_, meta_display_get_primary_monitor (_tmp6_));
#line 619 "../src/WindowManager.vala"
	_data9_->nudge_gap = gala_internal_utils_scale_to_int (GALA_WINDOW_MANAGER_GALA_NUDGE_GAP, monitor_scale);
#line 620 "../src/WindowManager.vala"
	_data9_->dest = (gfloat) 0;
#line 621 "../src/WindowManager.vala"
	if (!self->priv->switch_workspace_with_gesture) {
#line 622 "../src/WindowManager.vala"
		_data9_->dest = (gfloat) _data9_->nudge_gap;
#line 4670 "WindowManager.c"
	} else {
		MtkRectangle workspaces_geometry = {0};
		MetaDisplay* _tmp7_;
		MtkRectangle _tmp8_ = {0};
		MtkRectangle _tmp9_;
#line 624 "../src/WindowManager.vala"
		_tmp7_ = display;
#line 624 "../src/WindowManager.vala"
		gala_internal_utils_get_workspaces_geometry (_tmp7_, &_tmp8_);
#line 624 "../src/WindowManager.vala"
		workspaces_geometry = _tmp8_;
#line 625 "../src/WindowManager.vala"
		_tmp9_ = workspaces_geometry;
#line 625 "../src/WindowManager.vala"
		_data9_->dest = (gfloat) _tmp9_.width;
#line 4686 "WindowManager.c"
	}
#line 628 "../src/WindowManager.vala"
	if (_data9_->direction == META_MOTION_RIGHT) {
#line 629 "../src/WindowManager.vala"
		_data9_->dest *= (gfloat) -1;
#line 4692 "WindowManager.c"
	}
#line 632 "../src/WindowManager.vala"
	_data9_->animation_mode = CLUTTER_EASE_OUT_CUBIC;
#line 634 "../src/WindowManager.vala"
	on_animation_update = ___lambda159__gala_gesture_tracker_on_update;
#line 634 "../src/WindowManager.vala"
	on_animation_update_target = block9_data_ref (_data9_);
#line 634 "../src/WindowManager.vala"
	on_animation_update_target_destroy_notify = block9_data_unref;
#line 640 "../src/WindowManager.vala"
	on_animation_end = ___lambda160__gala_gesture_tracker_on_end;
#line 640 "../src/WindowManager.vala"
	on_animation_end_target = block9_data_ref (_data9_);
#line 640 "../src/WindowManager.vala"
	on_animation_end_target_destroy_notify = block9_data_unref;
#line 662 "../src/WindowManager.vala"
	if (!self->priv->switch_workspace_with_gesture) {
#line 4710 "WindowManager.c"
		gdouble* keyframes = NULL;
		gdouble* _tmp10_;
		gint keyframes_length1;
		gint _keyframes_size_;
		GValue* x = NULL;
		GValue _tmp11_ = {0};
		GValue* _tmp12_;
		gint x_length1;
		gint _x_size_;
		ClutterKeyframeTransition* out_group_nudge = NULL;
		ClutterKeyframeTransition* _tmp13_ = NULL;
		ClutterKeyframeTransition* _tmp14_;
		GValue _tmp15_ = {0};
		ClutterKeyframeTransition* _tmp16_;
		GValue _tmp17_ = {0};
		ClutterKeyframeTransition* _tmp18_;
		gdouble* _tmp19_;
		gint _tmp19__length1;
		ClutterKeyframeTransition* _tmp20_;
		GValue* _tmp21_;
		gint _tmp21__length1;
		ClutterActor* _tmp22_;
		ClutterKeyframeTransition* _tmp23_;
		ClutterKeyframeTransition* wallpaper_nudge = NULL;
		ClutterKeyframeTransition* _tmp24_ = NULL;
		ClutterKeyframeTransition* _tmp25_;
		GValue _tmp26_ = {0};
		ClutterKeyframeTransition* _tmp27_;
		GValue _tmp28_ = {0};
		ClutterKeyframeTransition* _tmp29_;
		gdouble* _tmp30_;
		gint _tmp30__length1;
		ClutterKeyframeTransition* _tmp31_;
		GValue* _tmp32_;
		gint _tmp32__length1;
		ClutterActor* _tmp33_;
		ClutterKeyframeTransition* _tmp34_;
		ClutterKeyframeTransition* _tmp35_;
#line 663 "../src/WindowManager.vala"
		_tmp10_ = g_new0 (gdouble, 1);
#line 663 "../src/WindowManager.vala"
		_tmp10_[0] = 0.5;
#line 663 "../src/WindowManager.vala"
		keyframes = _tmp10_;
#line 663 "../src/WindowManager.vala"
		keyframes_length1 = 1;
#line 663 "../src/WindowManager.vala"
		_keyframes_size_ = keyframes_length1;
#line 664 "../src/WindowManager.vala"
		g_value_init (&_tmp11_, G_TYPE_FLOAT);
#line 664 "../src/WindowManager.vala"
		g_value_set_float (&_tmp11_, _data9_->dest);
#line 664 "../src/WindowManager.vala"
		_tmp12_ = g_new0 (GValue, 1);
#line 664 "../src/WindowManager.vala"
		_tmp12_[0] = _tmp11_;
#line 664 "../src/WindowManager.vala"
		x = _tmp12_;
#line 664 "../src/WindowManager.vala"
		x_length1 = 1;
#line 664 "../src/WindowManager.vala"
		_x_size_ = x_length1;
#line 666 "../src/WindowManager.vala"
		_tmp13_ = (ClutterKeyframeTransition*) clutter_keyframe_transition_new ("translation-x");
#line 666 "../src/WindowManager.vala"
		clutter_timeline_set_duration ((ClutterTimeline*) _tmp13_, (guint) GALA_ANIMATION_DURATION_NUDGE);
#line 666 "../src/WindowManager.vala"
		clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp13_, TRUE);
#line 666 "../src/WindowManager.vala"
		clutter_timeline_set_progress_mode ((ClutterTimeline*) _tmp13_, CLUTTER_EASE_IN_QUAD);
#line 666 "../src/WindowManager.vala"
		out_group_nudge = _tmp13_;
#line 671 "../src/WindowManager.vala"
		_tmp14_ = out_group_nudge;
#line 671 "../src/WindowManager.vala"
		g_value_init (&_tmp15_, G_TYPE_FLOAT);
#line 671 "../src/WindowManager.vala"
		g_value_set_float (&_tmp15_, 0.0f);
#line 671 "../src/WindowManager.vala"
		clutter_transition_set_from_value ((ClutterTransition*) _tmp14_, &_tmp15_);
#line 671 "../src/WindowManager.vala"
		G_IS_VALUE (&_tmp15_) ? (g_value_unset (&_tmp15_), NULL) : NULL;
#line 672 "../src/WindowManager.vala"
		_tmp16_ = out_group_nudge;
#line 672 "../src/WindowManager.vala"
		g_value_init (&_tmp17_, G_TYPE_FLOAT);
#line 672 "../src/WindowManager.vala"
		g_value_set_float (&_tmp17_, 0.0f);
#line 672 "../src/WindowManager.vala"
		clutter_transition_set_to_value ((ClutterTransition*) _tmp16_, &_tmp17_);
#line 672 "../src/WindowManager.vala"
		G_IS_VALUE (&_tmp17_) ? (g_value_unset (&_tmp17_), NULL) : NULL;
#line 673 "../src/WindowManager.vala"
		_tmp18_ = out_group_nudge;
#line 673 "../src/WindowManager.vala"
		_tmp19_ = keyframes;
#line 673 "../src/WindowManager.vala"
		_tmp19__length1 = keyframes_length1;
#line 673 "../src/WindowManager.vala"
		clutter_keyframe_transition_set_key_frames (_tmp18_, (guint) _tmp19__length1, _tmp19_);
#line 674 "../src/WindowManager.vala"
		_tmp20_ = out_group_nudge;
#line 674 "../src/WindowManager.vala"
		_tmp21_ = x;
#line 674 "../src/WindowManager.vala"
		_tmp21__length1 = x_length1;
#line 674 "../src/WindowManager.vala"
		clutter_keyframe_transition_set_values (_tmp20_, (guint) _tmp21__length1, _tmp21_);
#line 675 "../src/WindowManager.vala"
		_tmp22_ = self->priv->out_group;
#line 675 "../src/WindowManager.vala"
		_tmp23_ = out_group_nudge;
#line 675 "../src/WindowManager.vala"
		clutter_actor_add_transition (_tmp22_, "nudge", (ClutterTransition*) _tmp23_);
#line 677 "../src/WindowManager.vala"
		_tmp24_ = (ClutterKeyframeTransition*) clutter_keyframe_transition_new ("translation-x");
#line 677 "../src/WindowManager.vala"
		clutter_timeline_set_duration ((ClutterTimeline*) _tmp24_, (guint) GALA_ANIMATION_DURATION_NUDGE);
#line 677 "../src/WindowManager.vala"
		clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp24_, TRUE);
#line 677 "../src/WindowManager.vala"
		clutter_timeline_set_progress_mode ((ClutterTimeline*) _tmp24_, CLUTTER_EASE_IN_QUAD);
#line 677 "../src/WindowManager.vala"
		wallpaper_nudge = _tmp24_;
#line 682 "../src/WindowManager.vala"
		_tmp25_ = wallpaper_nudge;
#line 682 "../src/WindowManager.vala"
		g_value_init (&_tmp26_, G_TYPE_FLOAT);
#line 682 "../src/WindowManager.vala"
		g_value_set_float (&_tmp26_, 0.0f);
#line 682 "../src/WindowManager.vala"
		clutter_transition_set_from_value ((ClutterTransition*) _tmp25_, &_tmp26_);
#line 682 "../src/WindowManager.vala"
		G_IS_VALUE (&_tmp26_) ? (g_value_unset (&_tmp26_), NULL) : NULL;
#line 683 "../src/WindowManager.vala"
		_tmp27_ = wallpaper_nudge;
#line 683 "../src/WindowManager.vala"
		g_value_init (&_tmp28_, G_TYPE_FLOAT);
#line 683 "../src/WindowManager.vala"
		g_value_set_float (&_tmp28_, 0.0f);
#line 683 "../src/WindowManager.vala"
		clutter_transition_set_to_value ((ClutterTransition*) _tmp27_, &_tmp28_);
#line 683 "../src/WindowManager.vala"
		G_IS_VALUE (&_tmp28_) ? (g_value_unset (&_tmp28_), NULL) : NULL;
#line 684 "../src/WindowManager.vala"
		_tmp29_ = wallpaper_nudge;
#line 684 "../src/WindowManager.vala"
		_tmp30_ = keyframes;
#line 684 "../src/WindowManager.vala"
		_tmp30__length1 = keyframes_length1;
#line 684 "../src/WindowManager.vala"
		clutter_keyframe_transition_set_key_frames (_tmp29_, (guint) _tmp30__length1, _tmp30_);
#line 685 "../src/WindowManager.vala"
		_tmp31_ = wallpaper_nudge;
#line 685 "../src/WindowManager.vala"
		_tmp32_ = x;
#line 685 "../src/WindowManager.vala"
		_tmp32__length1 = x_length1;
#line 685 "../src/WindowManager.vala"
		clutter_keyframe_transition_set_values (_tmp31_, (guint) _tmp32__length1, _tmp32_);
#line 686 "../src/WindowManager.vala"
		_tmp33_ = self->priv->wallpaper;
#line 686 "../src/WindowManager.vala"
		_tmp34_ = wallpaper_nudge;
#line 686 "../src/WindowManager.vala"
		clutter_actor_add_transition (_tmp33_, "nudge", (ClutterTransition*) _tmp34_);
#line 688 "../src/WindowManager.vala"
		_tmp35_ = wallpaper_nudge;
#line 688 "../src/WindowManager.vala"
		g_signal_connect_data ((ClutterTimeline*) _tmp35_, "completed", (GCallback) ____lambda162__clutter_timeline_completed, block9_data_ref (_data9_), (GClosureNotify) block9_data_unref, 0);
#line 662 "../src/WindowManager.vala"
		_g_object_unref0 (wallpaper_nudge);
#line 662 "../src/WindowManager.vala"
		_g_object_unref0 (out_group_nudge);
#line 662 "../src/WindowManager.vala"
		x = (_vala_GValue_array_free (x, x_length1), NULL);
#line 662 "../src/WindowManager.vala"
		keyframes = (g_free (keyframes), NULL);
#line 4889 "WindowManager.c"
	} else {
		GalaGestureTracker* _tmp36_;
		GalaGestureTrackerOnUpdate _tmp37_;
		gpointer _tmp37__target;
		GDestroyNotify _tmp37__target_destroy_notify;
		GalaGestureTrackerOnEnd _tmp38_;
		gpointer _tmp38__target;
		GDestroyNotify _tmp38__target_destroy_notify;
#line 693 "../src/WindowManager.vala"
		_tmp36_ = self->priv->gesture_tracker;
#line 693 "../src/WindowManager.vala"
		_tmp37_ = on_animation_update;
#line 693 "../src/WindowManager.vala"
		_tmp37__target = on_animation_update_target;
#line 693 "../src/WindowManager.vala"
		_tmp37__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 693 "../src/WindowManager.vala"
		on_animation_update = NULL;
#line 693 "../src/WindowManager.vala"
		on_animation_update_target = NULL;
#line 693 "../src/WindowManager.vala"
		on_animation_update_target_destroy_notify = NULL;
#line 693 "../src/WindowManager.vala"
		_tmp38_ = on_animation_end;
#line 693 "../src/WindowManager.vala"
		_tmp38__target = on_animation_end_target;
#line 693 "../src/WindowManager.vala"
		_tmp38__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 693 "../src/WindowManager.vala"
		on_animation_end = NULL;
#line 693 "../src/WindowManager.vala"
		on_animation_end_target = NULL;
#line 693 "../src/WindowManager.vala"
		on_animation_end_target_destroy_notify = NULL;
#line 693 "../src/WindowManager.vala"
		gala_gesture_tracker_connect_handlers (_tmp36_, NULL, NULL, NULL, _tmp37_, _tmp37__target, _tmp37__target_destroy_notify, _tmp38_, _tmp38__target, _tmp38__target_destroy_notify);
#line 4926 "WindowManager.c"
	}
#line 606 "../src/WindowManager.vala"
	(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 606 "../src/WindowManager.vala"
	on_animation_end = NULL;
#line 606 "../src/WindowManager.vala"
	on_animation_end_target = NULL;
#line 606 "../src/WindowManager.vala"
	on_animation_end_target_destroy_notify = NULL;
#line 606 "../src/WindowManager.vala"
	(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 606 "../src/WindowManager.vala"
	on_animation_update = NULL;
#line 606 "../src/WindowManager.vala"
	on_animation_update_target = NULL;
#line 606 "../src/WindowManager.vala"
	on_animation_update_target_destroy_notify = NULL;
#line 606 "../src/WindowManager.vala"
	block9_data_unref (_data9_);
#line 606 "../src/WindowManager.vala"
	_data9_ = NULL;
#line 4948 "WindowManager.c"
}

static void
gala_window_manager_gala_update_input_area (GalaWindowManagerGala* self)
{
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp0_;
	GalaScreenSaverManager* _tmp1_;
	GError* _inner_error0_ = NULL;
#line 697 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 698 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 698 "../src/WindowManager.vala"
	display = _tmp0_;
#line 700 "../src/WindowManager.vala"
	_tmp1_ = self->priv->_screensaver;
#line 700 "../src/WindowManager.vala"
	if (_tmp1_ != NULL) {
#line 4968 "WindowManager.c"
		{
			gboolean _tmp2_ = FALSE;
			GalaScreenSaverManager* _tmp3_;
#line 702 "../src/WindowManager.vala"
			_tmp3_ = self->priv->_screensaver;
#line 702 "../src/WindowManager.vala"
			_tmp2_ = gala_screen_saver_manager_get_active (_tmp3_, &_inner_error0_);
#line 702 "../src/WindowManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 4978 "WindowManager.c"
				goto __catch0_g_error;
			}
#line 702 "../src/WindowManager.vala"
			if (_tmp2_) {
#line 4983 "WindowManager.c"
				MetaDisplay* _tmp4_;
#line 703 "../src/WindowManager.vala"
				_tmp4_ = display;
#line 703 "../src/WindowManager.vala"
				gala_internal_utils_set_input_area (_tmp4_, GALA_INPUT_AREA_NONE);
#line 704 "../src/WindowManager.vala"
				return;
#line 4991 "WindowManager.c"
			}
		}
		goto __finally0;
		__catch0_g_error:
		{
#line 701 "../src/WindowManager.vala"
			g_clear_error (&_inner_error0_);
#line 4999 "WindowManager.c"
		}
		__finally0:
#line 701 "../src/WindowManager.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 701 "../src/WindowManager.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 701 "../src/WindowManager.vala"
			g_clear_error (&_inner_error0_);
#line 701 "../src/WindowManager.vala"
			return;
#line 5010 "WindowManager.c"
		}
	}
#line 714 "../src/WindowManager.vala"
	if (gala_window_manager_is_modal ((GalaWindowManager*) self)) {
#line 5015 "WindowManager.c"
		MetaDisplay* _tmp5_;
#line 715 "../src/WindowManager.vala"
		_tmp5_ = display;
#line 715 "../src/WindowManager.vala"
		gala_internal_utils_set_input_area (_tmp5_, GALA_INPUT_AREA_FULLSCREEN);
#line 5021 "WindowManager.c"
	} else {
		MetaDisplay* _tmp6_;
#line 717 "../src/WindowManager.vala"
		_tmp6_ = display;
#line 717 "../src/WindowManager.vala"
		gala_internal_utils_set_input_area (_tmp6_, GALA_INPUT_AREA_DEFAULT);
#line 5028 "WindowManager.c"
	}
}

static Block10Data*
block10_data_ref (Block10Data* _data10_)
{
#line 720 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data10_->_ref_count_);
#line 720 "../src/WindowManager.vala"
	return _data10_;
#line 5039 "WindowManager.c"
}

static void
block10_data_unref (void * _userdata_)
{
	Block10Data* _data10_;
	_data10_ = (Block10Data*) _userdata_;
#line 720 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data10_->_ref_count_)) {
#line 5049 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 720 "../src/WindowManager.vala"
		self = _data10_->self;
#line 720 "../src/WindowManager.vala"
		_data10_->opacity = (_vala_GValue_array_free (_data10_->opacity, _data10_->opacity_length1), NULL);
#line 720 "../src/WindowManager.vala"
		_data10_->op_keyframes = (g_free (_data10_->op_keyframes), NULL);
#line 720 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 720 "../src/WindowManager.vala"
		g_slice_free (Block10Data, _data10_);
#line 5061 "WindowManager.c"
	}
}

static Block11Data*
block11_data_ref (Block11Data* _data11_)
{
#line 742 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data11_->_ref_count_);
#line 742 "../src/WindowManager.vala"
	return _data11_;
#line 5072 "WindowManager.c"
}

static void
block11_data_unref (void * _userdata_)
{
	Block11Data* _data11_;
	_data11_ = (Block11Data*) _userdata_;
#line 742 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data11_->_ref_count_)) {
#line 5082 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 742 "../src/WindowManager.vala"
		self = _data11_->_data10_->self;
#line 742 "../src/WindowManager.vala"
		block10_data_unref (_data11_->_data10_);
#line 742 "../src/WindowManager.vala"
		_data11_->_data10_ = NULL;
#line 742 "../src/WindowManager.vala"
		g_slice_free (Block11Data, _data11_);
#line 5092 "WindowManager.c"
	}
}

static gboolean
___lambda182_ (Block11Data* _data11_)
{
	Block10Data* _data10_;
	GalaWindowManagerGala* self;
	MetaWindowActor* _tmp0_;
	GValue* _tmp1_;
	gint _tmp1__length1;
	GValue _tmp2_;
	gboolean result;
#line 768 "../src/WindowManager.vala"
	_data10_ = _data11_->_data10_;
#line 768 "../src/WindowManager.vala"
	self = _data10_->self;
#line 769 "../src/WindowManager.vala"
	_tmp0_ = _data11_->actor;
#line 769 "../src/WindowManager.vala"
	_tmp1_ = _data10_->opacity;
#line 769 "../src/WindowManager.vala"
	_tmp1__length1 = _data10_->opacity_length1;
#line 769 "../src/WindowManager.vala"
	_tmp2_ = _tmp1_[0];
#line 769 "../src/WindowManager.vala"
	clutter_actor_set_opacity ((ClutterActor*) _tmp0_, g_value_get_uint (&_tmp2_));
#line 770 "../src/WindowManager.vala"
	result = G_SOURCE_REMOVE;
#line 770 "../src/WindowManager.vala"
	return result;
#line 5124 "WindowManager.c"
}

static gboolean
____lambda182__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda182_ (self);
#line 768 "../src/WindowManager.vala"
	return result;
#line 5134 "WindowManager.c"
}

static gboolean
___lambda183_ (Block11Data* _data11_)
{
	Block10Data* _data10_;
	GalaWindowManagerGala* self;
	MetaWindowActor* _tmp0_;
	gboolean result;
#line 773 "../src/WindowManager.vala"
	_data10_ = _data11_->_data10_;
#line 773 "../src/WindowManager.vala"
	self = _data10_->self;
#line 774 "../src/WindowManager.vala"
	_tmp0_ = _data11_->actor;
#line 774 "../src/WindowManager.vala"
	clutter_actor_set_opacity ((ClutterActor*) _tmp0_, 255U);
#line 775 "../src/WindowManager.vala"
	result = G_SOURCE_REMOVE;
#line 775 "../src/WindowManager.vala"
	return result;
#line 5156 "WindowManager.c"
}

static gboolean
____lambda183__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda183_ (self);
#line 773 "../src/WindowManager.vala"
	return result;
#line 5166 "WindowManager.c"
}

static void
__lambda181_ (Block10Data* _data10_,
              MetaWindow* window)
{
	GalaWindowManagerGala* self;
	Block11Data* _data11_;
	Window xwin = 0;
	MetaX11Display* _tmp0_;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	GObject* _tmp5_;
	gboolean _tmp6_;
	gboolean _tmp7_;
#line 742 "../src/WindowManager.vala"
	self = _data10_->self;
#line 742 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 742 "../src/WindowManager.vala"
	_data11_ = g_slice_new0 (Block11Data);
#line 742 "../src/WindowManager.vala"
	_data11_->_ref_count_ = 1;
#line 742 "../src/WindowManager.vala"
	_data11_->_data10_ = block10_data_ref (_data10_);
#line 744 "../src/WindowManager.vala"
	_tmp0_ = _data10_->x11display;
#line 744 "../src/WindowManager.vala"
	xwin = meta_x11_display_lookup_xwindow (_tmp0_, window);
#line 748 "../src/WindowManager.vala"
	if (xwin == _data10_->bottom_xwin) {
#line 748 "../src/WindowManager.vala"
		_tmp2_ = TRUE;
#line 5200 "WindowManager.c"
	} else {
#line 749 "../src/WindowManager.vala"
		_tmp2_ = !gala_internal_utils_get_window_is_normal (window);
#line 5204 "WindowManager.c"
	}
#line 748 "../src/WindowManager.vala"
	if (_tmp2_) {
#line 748 "../src/WindowManager.vala"
		_tmp1_ = TRUE;
#line 5210 "WindowManager.c"
	} else {
		gboolean _tmp3_;
		gboolean _tmp4_;
#line 750 "../src/WindowManager.vala"
		g_object_get (window, "minimized", &_tmp3_, NULL);
#line 750 "../src/WindowManager.vala"
		_tmp4_ = _tmp3_;
#line 750 "../src/WindowManager.vala"
		_tmp1_ = _tmp4_;
#line 5220 "WindowManager.c"
	}
#line 748 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 751 "../src/WindowManager.vala"
		block11_data_unref (_data11_);
#line 751 "../src/WindowManager.vala"
		_data11_ = NULL;
#line 751 "../src/WindowManager.vala"
		return;
#line 5230 "WindowManager.c"
	}
#line 754 "../src/WindowManager.vala"
	_tmp5_ = meta_window_get_compositor_private (window);
#line 754 "../src/WindowManager.vala"
	_data11_->actor = G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, meta_window_actor_get_type (), MetaWindowActor);
#line 755 "../src/WindowManager.vala"
	_tmp6_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 755 "../src/WindowManager.vala"
	_tmp7_ = _tmp6_;
#line 755 "../src/WindowManager.vala"
	if (_tmp7_) {
#line 5242 "WindowManager.c"
		ClutterKeyframeTransition* op_trans = NULL;
		ClutterKeyframeTransition* _tmp8_ = NULL;
		ClutterKeyframeTransition* _tmp9_;
		GValue _tmp10_ = {0};
		ClutterKeyframeTransition* _tmp11_;
		GValue _tmp12_ = {0};
		ClutterKeyframeTransition* _tmp13_;
		gdouble* _tmp14_;
		gint _tmp14__length1;
		ClutterKeyframeTransition* _tmp15_;
		GValue* _tmp16_;
		gint _tmp16__length1;
		MetaWindowActor* _tmp17_;
		ClutterKeyframeTransition* _tmp18_;
#line 756 "../src/WindowManager.vala"
		_tmp8_ = (ClutterKeyframeTransition*) clutter_keyframe_transition_new ("opacity");
#line 756 "../src/WindowManager.vala"
		clutter_timeline_set_duration ((ClutterTimeline*) _tmp8_, _data10_->fade_out_duration);
#line 756 "../src/WindowManager.vala"
		clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp8_, TRUE);
#line 756 "../src/WindowManager.vala"
		clutter_timeline_set_progress_mode ((ClutterTimeline*) _tmp8_, CLUTTER_EASE_IN_OUT_QUAD);
#line 756 "../src/WindowManager.vala"
		op_trans = _tmp8_;
#line 761 "../src/WindowManager.vala"
		_tmp9_ = op_trans;
#line 761 "../src/WindowManager.vala"
		g_value_init (&_tmp10_, G_TYPE_FLOAT);
#line 761 "../src/WindowManager.vala"
		g_value_set_float (&_tmp10_, 255.0f);
#line 761 "../src/WindowManager.vala"
		clutter_transition_set_from_value ((ClutterTransition*) _tmp9_, &_tmp10_);
#line 761 "../src/WindowManager.vala"
		G_IS_VALUE (&_tmp10_) ? (g_value_unset (&_tmp10_), NULL) : NULL;
#line 762 "../src/WindowManager.vala"
		_tmp11_ = op_trans;
#line 762 "../src/WindowManager.vala"
		g_value_init (&_tmp12_, G_TYPE_FLOAT);
#line 762 "../src/WindowManager.vala"
		g_value_set_float (&_tmp12_, 255.0f);
#line 762 "../src/WindowManager.vala"
		clutter_transition_set_to_value ((ClutterTransition*) _tmp11_, &_tmp12_);
#line 762 "../src/WindowManager.vala"
		G_IS_VALUE (&_tmp12_) ? (g_value_unset (&_tmp12_), NULL) : NULL;
#line 763 "../src/WindowManager.vala"
		_tmp13_ = op_trans;
#line 763 "../src/WindowManager.vala"
		_tmp14_ = _data10_->op_keyframes;
#line 763 "../src/WindowManager.vala"
		_tmp14__length1 = _data10_->op_keyframes_length1;
#line 763 "../src/WindowManager.vala"
		clutter_keyframe_transition_set_key_frames (_tmp13_, (guint) _tmp14__length1, _tmp14_);
#line 764 "../src/WindowManager.vala"
		_tmp15_ = op_trans;
#line 764 "../src/WindowManager.vala"
		_tmp16_ = _data10_->opacity;
#line 764 "../src/WindowManager.vala"
		_tmp16__length1 = _data10_->opacity_length1;
#line 764 "../src/WindowManager.vala"
		clutter_keyframe_transition_set_values (_tmp15_, (guint) _tmp16__length1, _tmp16_);
#line 766 "../src/WindowManager.vala"
		_tmp17_ = _data11_->actor;
#line 766 "../src/WindowManager.vala"
		_tmp18_ = op_trans;
#line 766 "../src/WindowManager.vala"
		clutter_actor_add_transition ((ClutterActor*) _tmp17_, "opacity-hide", (ClutterTransition*) _tmp18_);
#line 755 "../src/WindowManager.vala"
		_g_object_unref0 (op_trans);
#line 5311 "WindowManager.c"
	} else {
		gdouble* _tmp19_;
		gint _tmp19__length1;
		gdouble _tmp20_;
		gdouble* _tmp21_;
		gint _tmp21__length1;
		gdouble _tmp22_;
#line 768 "../src/WindowManager.vala"
		_tmp19_ = _data10_->op_keyframes;
#line 768 "../src/WindowManager.vala"
		_tmp19__length1 = _data10_->op_keyframes_length1;
#line 768 "../src/WindowManager.vala"
		_tmp20_ = _tmp19_[0];
#line 768 "../src/WindowManager.vala"
		g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) (_data10_->fade_out_duration * _tmp20_), ____lambda182__gsource_func, block11_data_ref (_data11_), block11_data_unref);
#line 773 "../src/WindowManager.vala"
		_tmp21_ = _data10_->op_keyframes;
#line 773 "../src/WindowManager.vala"
		_tmp21__length1 = _data10_->op_keyframes_length1;
#line 773 "../src/WindowManager.vala"
		_tmp22_ = _tmp21_[1];
#line 773 "../src/WindowManager.vala"
		g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) (_data10_->fade_out_duration * _tmp22_), ____lambda183__gsource_func, block11_data_ref (_data11_), block11_data_unref);
#line 5335 "WindowManager.c"
	}
#line 742 "../src/WindowManager.vala"
	block11_data_unref (_data11_);
#line 742 "../src/WindowManager.vala"
	_data11_ = NULL;
#line 5341 "WindowManager.c"
}

static void
___lambda181__gfunc (gconstpointer data,
                     gpointer self)
{
#line 742 "../src/WindowManager.vala"
	__lambda181_ (self, (MetaWindow*) data);
#line 5350 "WindowManager.c"
}

static void
gala_window_manager_gala_show_bottom_stack_window (GalaWindowManagerGala* self,
                                                   MetaWindow* bottom_window)
{
	Block10Data* _data10_;
	MetaWorkspace* workspace = NULL;
	MetaWorkspace* _tmp0_;
	MetaWorkspace* _tmp1_;
	MetaWindowActor* bottom_actor = NULL;
	GObject* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	gdouble* _tmp6_;
	GValue _tmp7_ = {0};
	GValue _tmp8_ = {0};
	GValue* _tmp9_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp10_;
	MetaDisplay* _tmp11_;
	MetaX11Display* _tmp12_;
	MetaX11Display* _tmp13_;
	MetaWorkspace* _tmp14_;
	GList* _tmp15_;
	GList* _tmp16_;
#line 720 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 720 "../src/WindowManager.vala"
	g_return_if_fail (bottom_window != NULL);
#line 720 "../src/WindowManager.vala"
	_data10_ = g_slice_new0 (Block10Data);
#line 720 "../src/WindowManager.vala"
	_data10_->_ref_count_ = 1;
#line 720 "../src/WindowManager.vala"
	_data10_->self = g_object_ref (self);
#line 721 "../src/WindowManager.vala"
	_tmp0_ = meta_window_get_workspace (bottom_window);
#line 721 "../src/WindowManager.vala"
	workspace = _tmp0_;
#line 722 "../src/WindowManager.vala"
	_tmp1_ = workspace;
#line 722 "../src/WindowManager.vala"
	if (gala_utils_get_n_windows (_tmp1_, FALSE) == ((guint) 0)) {
#line 723 "../src/WindowManager.vala"
		block10_data_unref (_data10_);
#line 723 "../src/WindowManager.vala"
		_data10_ = NULL;
#line 723 "../src/WindowManager.vala"
		return;
#line 5401 "WindowManager.c"
	}
#line 726 "../src/WindowManager.vala"
	_tmp2_ = meta_window_get_compositor_private (bottom_window);
#line 726 "../src/WindowManager.vala"
	bottom_actor = G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, meta_window_actor_get_type (), MetaWindowActor);
#line 727 "../src/WindowManager.vala"
	_tmp3_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 727 "../src/WindowManager.vala"
	_tmp4_ = _tmp3_;
#line 727 "../src/WindowManager.vala"
	if (_tmp4_) {
#line 5413 "WindowManager.c"
		MetaWindowActor* _tmp5_;
#line 728 "../src/WindowManager.vala"
		_tmp5_ = bottom_actor;
#line 728 "../src/WindowManager.vala"
		gala_window_manager_gala_animate_bottom_window_scale (self, _tmp5_);
#line 5419 "WindowManager.c"
	}
#line 731 "../src/WindowManager.vala"
	_data10_->fade_out_duration = 900U;
#line 732 "../src/WindowManager.vala"
	_tmp6_ = g_new0 (gdouble, 2);
#line 732 "../src/WindowManager.vala"
	_tmp6_[0] = 0.1;
#line 732 "../src/WindowManager.vala"
	_tmp6_[1] = 0.9;
#line 732 "../src/WindowManager.vala"
	_data10_->op_keyframes = _tmp6_;
#line 732 "../src/WindowManager.vala"
	_data10_->op_keyframes_length1 = 2;
#line 732 "../src/WindowManager.vala"
	_data10_->_op_keyframes_size_ = _data10_->op_keyframes_length1;
#line 733 "../src/WindowManager.vala"
	g_value_init (&_tmp7_, G_TYPE_UINT);
#line 733 "../src/WindowManager.vala"
	g_value_set_uint (&_tmp7_, 20U);
#line 733 "../src/WindowManager.vala"
	g_value_init (&_tmp8_, G_TYPE_UINT);
#line 733 "../src/WindowManager.vala"
	g_value_set_uint (&_tmp8_, 20U);
#line 733 "../src/WindowManager.vala"
	_tmp9_ = g_new0 (GValue, 2);
#line 733 "../src/WindowManager.vala"
	_tmp9_[0] = _tmp7_;
#line 733 "../src/WindowManager.vala"
	_tmp9_[1] = _tmp8_;
#line 733 "../src/WindowManager.vala"
	_data10_->opacity = _tmp9_;
#line 733 "../src/WindowManager.vala"
	_data10_->opacity_length1 = 2;
#line 733 "../src/WindowManager.vala"
	_data10_->_opacity_size_ = _data10_->opacity_length1;
#line 735 "../src/WindowManager.vala"
	_tmp10_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 735 "../src/WindowManager.vala"
	display = _tmp10_;
#line 736 "../src/WindowManager.vala"
	_tmp11_ = display;
#line 736 "../src/WindowManager.vala"
	_tmp12_ = meta_display_get_x11_display (_tmp11_);
#line 736 "../src/WindowManager.vala"
	_data10_->x11display = _tmp12_;
#line 737 "../src/WindowManager.vala"
	_tmp13_ = _data10_->x11display;
#line 737 "../src/WindowManager.vala"
	_data10_->bottom_xwin = meta_x11_display_lookup_xwindow (_tmp13_, bottom_window);
#line 742 "../src/WindowManager.vala"
	_tmp14_ = workspace;
#line 742 "../src/WindowManager.vala"
	_tmp15_ = meta_workspace_list_windows (_tmp14_);
#line 742 "../src/WindowManager.vala"
	_tmp16_ = _tmp15_;
#line 742 "../src/WindowManager.vala"
	g_list_foreach (_tmp16_, ___lambda181__gfunc, _data10_);
#line 742 "../src/WindowManager.vala"
	(_tmp16_ == NULL) ? NULL : (_tmp16_ = (g_list_free (_tmp16_), NULL));
#line 720 "../src/WindowManager.vala"
	block10_data_unref (_data10_);
#line 720 "../src/WindowManager.vala"
	_data10_ = NULL;
#line 5483 "WindowManager.c"
}

static void
gala_window_manager_gala_animate_bottom_window_scale (GalaWindowManagerGala* self,
                                                      MetaWindowActor* actor)
{
#line 782 "../src/WindowManager.vala"
	static const gchar* PROPS[2] = {"scale-x", "scale-y"};
#line 781 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 781 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 5496 "WindowManager.c"
	{
		const gchar** prop_collection = NULL;
		gint prop_collection_length1 = 0;
		gint _prop_collection_size_ = 0;
		gint prop_it = 0;
#line 784 "../src/WindowManager.vala"
		prop_collection = PROPS;
#line 784 "../src/WindowManager.vala"
		prop_collection_length1 = G_N_ELEMENTS (PROPS);
#line 784 "../src/WindowManager.vala"
		for (prop_it = 0; prop_it < prop_collection_length1; prop_it = prop_it + 1) {
#line 5508 "WindowManager.c"
			gchar* _tmp0_;
			gchar* prop = NULL;
#line 784 "../src/WindowManager.vala"
			_tmp0_ = g_strdup (prop_collection[prop_it]);
#line 784 "../src/WindowManager.vala"
			prop = _tmp0_;
#line 5515 "WindowManager.c"
			{
				gdouble* scale_keyframes = NULL;
				gdouble* _tmp1_;
				gint scale_keyframes_length1;
				gint _scale_keyframes_size_;
				GValue* scale = NULL;
				GValue _tmp2_ = {0};
				GValue _tmp3_ = {0};
				GValue _tmp4_ = {0};
				GValue* _tmp5_;
				gint scale_length1;
				gint _scale_size_;
				ClutterKeyframeTransition* scale_trans = NULL;
				const gchar* _tmp6_;
				ClutterKeyframeTransition* _tmp7_ = NULL;
				ClutterKeyframeTransition* _tmp8_;
				GValue _tmp9_ = {0};
				ClutterKeyframeTransition* _tmp10_;
				GValue _tmp11_ = {0};
				ClutterKeyframeTransition* _tmp12_;
				gdouble* _tmp13_;
				gint _tmp13__length1;
				ClutterKeyframeTransition* _tmp14_;
				GValue* _tmp15_;
				gint _tmp15__length1;
				const gchar* _tmp16_;
				gchar* _tmp17_;
				gchar* _tmp18_;
				ClutterKeyframeTransition* _tmp19_;
#line 785 "../src/WindowManager.vala"
				_tmp1_ = g_new0 (gdouble, 3);
#line 785 "../src/WindowManager.vala"
				_tmp1_[0] = 0.2;
#line 785 "../src/WindowManager.vala"
				_tmp1_[1] = 0.3;
#line 785 "../src/WindowManager.vala"
				_tmp1_[2] = 0.8;
#line 785 "../src/WindowManager.vala"
				scale_keyframes = _tmp1_;
#line 785 "../src/WindowManager.vala"
				scale_keyframes_length1 = 3;
#line 785 "../src/WindowManager.vala"
				_scale_keyframes_size_ = scale_keyframes_length1;
#line 786 "../src/WindowManager.vala"
				g_value_init (&_tmp2_, G_TYPE_FLOAT);
#line 786 "../src/WindowManager.vala"
				g_value_set_float (&_tmp2_, 1.0f);
#line 786 "../src/WindowManager.vala"
				g_value_init (&_tmp3_, G_TYPE_FLOAT);
#line 786 "../src/WindowManager.vala"
				g_value_set_float (&_tmp3_, 1.07f);
#line 786 "../src/WindowManager.vala"
				g_value_init (&_tmp4_, G_TYPE_FLOAT);
#line 786 "../src/WindowManager.vala"
				g_value_set_float (&_tmp4_, 1.07f);
#line 786 "../src/WindowManager.vala"
				_tmp5_ = g_new0 (GValue, 3);
#line 786 "../src/WindowManager.vala"
				_tmp5_[0] = _tmp2_;
#line 786 "../src/WindowManager.vala"
				_tmp5_[1] = _tmp3_;
#line 786 "../src/WindowManager.vala"
				_tmp5_[2] = _tmp4_;
#line 786 "../src/WindowManager.vala"
				scale = _tmp5_;
#line 786 "../src/WindowManager.vala"
				scale_length1 = 3;
#line 786 "../src/WindowManager.vala"
				_scale_size_ = scale_length1;
#line 788 "../src/WindowManager.vala"
				_tmp6_ = prop;
#line 788 "../src/WindowManager.vala"
				_tmp7_ = (ClutterKeyframeTransition*) clutter_keyframe_transition_new (_tmp6_);
#line 788 "../src/WindowManager.vala"
				clutter_timeline_set_duration ((ClutterTimeline*) _tmp7_, (guint) 500);
#line 788 "../src/WindowManager.vala"
				clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp7_, TRUE);
#line 788 "../src/WindowManager.vala"
				clutter_timeline_set_progress_mode ((ClutterTimeline*) _tmp7_, CLUTTER_EASE_IN_QUAD);
#line 788 "../src/WindowManager.vala"
				scale_trans = _tmp7_;
#line 793 "../src/WindowManager.vala"
				_tmp8_ = scale_trans;
#line 793 "../src/WindowManager.vala"
				g_value_init (&_tmp9_, G_TYPE_FLOAT);
#line 793 "../src/WindowManager.vala"
				g_value_set_float (&_tmp9_, 1.0f);
#line 793 "../src/WindowManager.vala"
				clutter_transition_set_from_value ((ClutterTransition*) _tmp8_, &_tmp9_);
#line 793 "../src/WindowManager.vala"
				G_IS_VALUE (&_tmp9_) ? (g_value_unset (&_tmp9_), NULL) : NULL;
#line 794 "../src/WindowManager.vala"
				_tmp10_ = scale_trans;
#line 794 "../src/WindowManager.vala"
				g_value_init (&_tmp11_, G_TYPE_FLOAT);
#line 794 "../src/WindowManager.vala"
				g_value_set_float (&_tmp11_, 1.0f);
#line 794 "../src/WindowManager.vala"
				clutter_transition_set_to_value ((ClutterTransition*) _tmp10_, &_tmp11_);
#line 794 "../src/WindowManager.vala"
				G_IS_VALUE (&_tmp11_) ? (g_value_unset (&_tmp11_), NULL) : NULL;
#line 795 "../src/WindowManager.vala"
				_tmp12_ = scale_trans;
#line 795 "../src/WindowManager.vala"
				_tmp13_ = scale_keyframes;
#line 795 "../src/WindowManager.vala"
				_tmp13__length1 = scale_keyframes_length1;
#line 795 "../src/WindowManager.vala"
				clutter_keyframe_transition_set_key_frames (_tmp12_, (guint) _tmp13__length1, _tmp13_);
#line 796 "../src/WindowManager.vala"
				_tmp14_ = scale_trans;
#line 796 "../src/WindowManager.vala"
				_tmp15_ = scale;
#line 796 "../src/WindowManager.vala"
				_tmp15__length1 = scale_length1;
#line 796 "../src/WindowManager.vala"
				clutter_keyframe_transition_set_values (_tmp14_, (guint) _tmp15__length1, _tmp15_);
#line 798 "../src/WindowManager.vala"
				_tmp16_ = prop;
#line 798 "../src/WindowManager.vala"
				_tmp17_ = g_strdup_printf ("magnify-%s", _tmp16_);
#line 798 "../src/WindowManager.vala"
				_tmp18_ = _tmp17_;
#line 798 "../src/WindowManager.vala"
				_tmp19_ = scale_trans;
#line 798 "../src/WindowManager.vala"
				clutter_actor_add_transition ((ClutterActor*) actor, _tmp18_, (ClutterTransition*) _tmp19_);
#line 798 "../src/WindowManager.vala"
				_g_free0 (_tmp18_);
#line 784 "../src/WindowManager.vala"
				_g_object_unref0 (scale_trans);
#line 784 "../src/WindowManager.vala"
				scale = (_vala_GValue_array_free (scale, scale_length1), NULL);
#line 784 "../src/WindowManager.vala"
				scale_keyframes = (g_free (scale_keyframes), NULL);
#line 784 "../src/WindowManager.vala"
				_g_free0 (prop);
#line 5653 "WindowManager.c"
			}
		}
	}
}

/**
         * {@inheritDoc}
         */
static void
gala_window_manager_gala_real_move_window (GalaWindowManager* base,
                                           MetaWindow* window,
                                           MetaWorkspace* workspace,
                                           guint32 timestamp)
{
	GalaWindowManagerGala * self;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp1_;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* active = NULL;
	MetaWorkspaceManager* _tmp3_;
	MetaWorkspace* _tmp4_;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	MetaWorkspace* _tmp13_;
	MetaWindow* _tmp16_;
#line 805 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 805 "../src/WindowManager.vala"
	g_return_if_fail (workspace != NULL);
#line 806 "../src/WindowManager.vala"
	if (window == NULL) {
#line 807 "../src/WindowManager.vala"
		return;
#line 5689 "WindowManager.c"
	}
#line 810 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 810 "../src/WindowManager.vala"
	display = _tmp0_;
#line 811 "../src/WindowManager.vala"
	_tmp1_ = display;
#line 811 "../src/WindowManager.vala"
	_tmp2_ = meta_display_get_workspace_manager (_tmp1_);
#line 811 "../src/WindowManager.vala"
	manager = _tmp2_;
#line 813 "../src/WindowManager.vala"
	_tmp3_ = manager;
#line 813 "../src/WindowManager.vala"
	_tmp4_ = meta_workspace_manager_get_active_workspace (_tmp3_);
#line 813 "../src/WindowManager.vala"
	active = _tmp4_;
#line 816 "../src/WindowManager.vala"
	if (meta_prefs_get_dynamic_workspaces ()) {
#line 5709 "WindowManager.c"
		MetaWorkspace* _tmp7_;
#line 816 "../src/WindowManager.vala"
		_tmp7_ = active;
#line 816 "../src/WindowManager.vala"
		_tmp6_ = gala_utils_get_n_windows (_tmp7_, FALSE) == ((guint) 1);
#line 5715 "WindowManager.c"
	} else {
#line 816 "../src/WindowManager.vala"
		_tmp6_ = FALSE;
#line 5719 "WindowManager.c"
	}
#line 816 "../src/WindowManager.vala"
	if (_tmp6_) {
#line 5723 "WindowManager.c"
		MetaWorkspaceManager* _tmp8_;
		gint _tmp9_;
		gint _tmp10_;
#line 816 "../src/WindowManager.vala"
		_tmp8_ = manager;
#line 816 "../src/WindowManager.vala"
		_tmp9_ = meta_workspace_manager_get_n_workspaces (_tmp8_);
#line 816 "../src/WindowManager.vala"
		_tmp10_ = _tmp9_;
#line 816 "../src/WindowManager.vala"
		_tmp5_ = meta_workspace_index (workspace) == (_tmp10_ - 1);
#line 5735 "WindowManager.c"
	} else {
#line 816 "../src/WindowManager.vala"
		_tmp5_ = FALSE;
#line 5739 "WindowManager.c"
	}
#line 816 "../src/WindowManager.vala"
	if (_tmp5_) {
#line 5743 "WindowManager.c"
		ClutterBackend* _tmp11_;
		ClutterSeat* _tmp12_;
#line 817 "../src/WindowManager.vala"
		_tmp11_ = clutter_get_default_backend ();
#line 817 "../src/WindowManager.vala"
		_tmp12_ = clutter_backend_get_default_seat (_tmp11_);
#line 817 "../src/WindowManager.vala"
		clutter_seat_bell_notify (_tmp12_);
#line 818 "../src/WindowManager.vala"
		return;
#line 5754 "WindowManager.c"
	}
#line 822 "../src/WindowManager.vala"
	_tmp13_ = active;
#line 822 "../src/WindowManager.vala"
	if (_tmp13_ == workspace) {
#line 5760 "WindowManager.c"
		ClutterBackend* _tmp14_;
		ClutterSeat* _tmp15_;
#line 823 "../src/WindowManager.vala"
		_tmp14_ = clutter_get_default_backend ();
#line 823 "../src/WindowManager.vala"
		_tmp15_ = clutter_backend_get_default_seat (_tmp14_);
#line 823 "../src/WindowManager.vala"
		clutter_seat_bell_notify (_tmp15_);
#line 824 "../src/WindowManager.vala"
		return;
#line 5771 "WindowManager.c"
	}
#line 827 "../src/WindowManager.vala"
	_tmp16_ = _g_object_ref0 (window);
#line 827 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->moving);
#line 827 "../src/WindowManager.vala"
	self->priv->moving = _tmp16_;
#line 829 "../src/WindowManager.vala"
	if (!meta_window_is_on_all_workspaces (window)) {
#line 830 "../src/WindowManager.vala"
		meta_window_change_workspace (window, workspace);
#line 5783 "WindowManager.c"
	}
#line 833 "../src/WindowManager.vala"
	meta_workspace_activate_with_focus (workspace, window, timestamp);
#line 5787 "WindowManager.c"
}

/**
         * {@inheritDoc}
         */
static GalaModalProxy*
gala_window_manager_gala_real_push_modal (GalaWindowManager* base,
                                          ClutterActor* actor)
{
	GalaWindowManagerGala * self;
	GalaModalProxy* proxy = NULL;
	GalaModalProxy* _tmp0_;
	GeeLinkedList* _tmp1_;
	GalaModalProxy* _tmp2_;
	GeeLinkedList* _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp6_;
	GalaModalProxy* _tmp7_;
	ClutterStage* _tmp8_;
	ClutterStage* _tmp9_;
	ClutterGrab* _tmp10_;
	ClutterGrab* _tmp11_;
	GeeLinkedList* _tmp12_;
	gint _tmp13_;
	gint _tmp14_;
	GalaModalProxy* result;
#line 839 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 839 "../src/WindowManager.vala"
	g_return_val_if_fail (actor != NULL, NULL);
#line 840 "../src/WindowManager.vala"
	_tmp0_ = gala_modal_proxy_new ();
#line 840 "../src/WindowManager.vala"
	proxy = _tmp0_;
#line 842 "../src/WindowManager.vala"
	_tmp1_ = self->priv->modal_stack;
#line 842 "../src/WindowManager.vala"
	_tmp2_ = proxy;
#line 842 "../src/WindowManager.vala"
	gee_deque_offer_head ((GeeDeque*) _tmp1_, _tmp2_);
#line 845 "../src/WindowManager.vala"
	_tmp3_ = self->priv->modal_stack;
#line 845 "../src/WindowManager.vala"
	_tmp4_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp3_);
#line 845 "../src/WindowManager.vala"
	_tmp5_ = _tmp4_;
#line 845 "../src/WindowManager.vala"
	if (_tmp5_ >= 2) {
#line 846 "../src/WindowManager.vala"
		result = proxy;
#line 846 "../src/WindowManager.vala"
		return result;
#line 5842 "WindowManager.c"
	}
#line 848 "../src/WindowManager.vala"
	_tmp6_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 848 "../src/WindowManager.vala"
	display = _tmp6_;
#line 850 "../src/WindowManager.vala"
	gala_window_manager_gala_update_input_area (self);
#line 851 "../src/WindowManager.vala"
	_tmp7_ = proxy;
#line 851 "../src/WindowManager.vala"
	_tmp8_ = gala_window_manager_get_stage ((GalaWindowManager*) self);
#line 851 "../src/WindowManager.vala"
	_tmp9_ = _tmp8_;
#line 851 "../src/WindowManager.vala"
	_tmp10_ = clutter_stage_grab (_tmp9_, actor);
#line 851 "../src/WindowManager.vala"
	_tmp11_ = _tmp10_;
#line 851 "../src/WindowManager.vala"
	gala_modal_proxy_set_grab (_tmp7_, _tmp11_);
#line 851 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp11_);
#line 853 "../src/WindowManager.vala"
	_tmp12_ = self->priv->modal_stack;
#line 853 "../src/WindowManager.vala"
	_tmp13_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp12_);
#line 853 "../src/WindowManager.vala"
	_tmp14_ = _tmp13_;
#line 853 "../src/WindowManager.vala"
	if (_tmp14_ == 1) {
#line 5872 "WindowManager.c"
		MetaDisplay* _tmp15_;
#line 854 "../src/WindowManager.vala"
		_tmp15_ = display;
#line 854 "../src/WindowManager.vala"
		meta_disable_unredirect_for_display (_tmp15_);
#line 5878 "WindowManager.c"
	}
#line 857 "../src/WindowManager.vala"
	result = proxy;
#line 857 "../src/WindowManager.vala"
	return result;
#line 5884 "WindowManager.c"
}

/**
         * {@inheritDoc}
         */
static void
gala_window_manager_gala_real_pop_modal (GalaWindowManager* base,
                                         GalaModalProxy* proxy)
{
	GalaWindowManagerGala * self;
	GeeLinkedList* _tmp0_;
	ClutterGrab* _tmp1_;
	ClutterGrab* _tmp2_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp3_;
	MetaDisplay* _tmp4_;
#line 863 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 863 "../src/WindowManager.vala"
	g_return_if_fail (proxy != NULL);
#line 864 "../src/WindowManager.vala"
	_tmp0_ = self->priv->modal_stack;
#line 864 "../src/WindowManager.vala"
	if (!gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, proxy)) {
#line 865 "../src/WindowManager.vala"
		g_warning ("WindowManager.vala:865: Attempted to remove a modal proxy that was not" \
" in the stack");
#line 866 "../src/WindowManager.vala"
		return;
#line 5913 "WindowManager.c"
	}
#line 869 "../src/WindowManager.vala"
	_tmp1_ = gala_modal_proxy_get_grab (proxy);
#line 869 "../src/WindowManager.vala"
	_tmp2_ = _tmp1_;
#line 869 "../src/WindowManager.vala"
	clutter_grab_dismiss (_tmp2_);
#line 871 "../src/WindowManager.vala"
	if (gala_window_manager_is_modal ((GalaWindowManager*) self)) {
#line 872 "../src/WindowManager.vala"
		return;
#line 5925 "WindowManager.c"
	}
#line 874 "../src/WindowManager.vala"
	gala_window_manager_gala_update_input_area (self);
#line 876 "../src/WindowManager.vala"
	_tmp3_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 876 "../src/WindowManager.vala"
	display = _tmp3_;
#line 878 "../src/WindowManager.vala"
	_tmp4_ = display;
#line 878 "../src/WindowManager.vala"
	meta_enable_unredirect_for_display (_tmp4_);
#line 5937 "WindowManager.c"
}

/**
         * {@inheritDoc}
         */
static gboolean
gala_window_manager_gala_real_is_modal (GalaWindowManager* base)
{
	GalaWindowManagerGala * self;
	GeeLinkedList* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gboolean result;
#line 884 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 885 "../src/WindowManager.vala"
	_tmp0_ = self->priv->modal_stack;
#line 885 "../src/WindowManager.vala"
	_tmp1_ = gee_collection_get_is_empty ((GeeCollection*) _tmp0_);
#line 885 "../src/WindowManager.vala"
	_tmp2_ = _tmp1_;
#line 885 "../src/WindowManager.vala"
	result = !_tmp2_;
#line 885 "../src/WindowManager.vala"
	return result;
#line 5963 "WindowManager.c"
}

/**
         * {@inheritDoc}
         */
static gboolean
gala_window_manager_gala_real_modal_proxy_valid (GalaWindowManager* base,
                                                 GalaModalProxy* proxy)
{
	GalaWindowManagerGala * self;
	GeeLinkedList* _tmp0_;
	gboolean result;
#line 891 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 891 "../src/WindowManager.vala"
	g_return_val_if_fail (proxy != NULL, FALSE);
#line 892 "../src/WindowManager.vala"
	_tmp0_ = self->priv->modal_stack;
#line 892 "../src/WindowManager.vala"
	result = gee_abstract_collection_contains ((GeeAbstractCollection*) _tmp0_, proxy);
#line 892 "../src/WindowManager.vala"
	return result;
#line 5986 "WindowManager.c"
}

static Block12Data*
block12_data_ref (Block12Data* _data12_)
{
#line 895 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data12_->_ref_count_);
#line 895 "../src/WindowManager.vala"
	return _data12_;
#line 5996 "WindowManager.c"
}

static void
block12_data_unref (void * _userdata_)
{
	Block12Data* _data12_;
	_data12_ = (Block12Data*) _userdata_;
#line 895 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data12_->_ref_count_)) {
#line 6006 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 895 "../src/WindowManager.vala"
		self = _data12_->self;
#line 895 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 895 "../src/WindowManager.vala"
		g_slice_free (Block12Data, _data12_);
#line 6014 "WindowManager.c"
	}
}

static void
__lambda184_ (Block12Data* _data12_)
{
	GalaWindowManagerGala* self;
	gboolean _tmp0_ = FALSE;
	MetaWindowActor* _tmp1_;
#line 911 "../src/WindowManager.vala"
	self = _data12_->self;
#line 912 "../src/WindowManager.vala"
	_tmp1_ = _data12_->transient_actor;
#line 912 "../src/WindowManager.vala"
	if (_tmp1_ != NULL) {
#line 6030 "WindowManager.c"
		MetaWindowActor* _tmp2_;
		ClutterEffect* _tmp3_;
#line 912 "../src/WindowManager.vala"
		_tmp2_ = _data12_->transient_actor;
#line 912 "../src/WindowManager.vala"
		_tmp3_ = clutter_actor_get_effect ((ClutterActor*) _tmp2_, "dim-parent");
#line 912 "../src/WindowManager.vala"
		_tmp0_ = _tmp3_ != NULL;
#line 6039 "WindowManager.c"
	} else {
#line 912 "../src/WindowManager.vala"
		_tmp0_ = FALSE;
#line 6043 "WindowManager.c"
	}
#line 912 "../src/WindowManager.vala"
	if (_tmp0_) {
#line 6047 "WindowManager.c"
		MetaWindowActor* _tmp4_;
#line 913 "../src/WindowManager.vala"
		_tmp4_ = _data12_->transient_actor;
#line 913 "../src/WindowManager.vala"
		clutter_actor_remove_effect_by_name ((ClutterActor*) _tmp4_, "dim-parent");
#line 6053 "WindowManager.c"
	}
}

static void
___lambda184__meta_window_unmanaged (MetaWindow* _sender,
                                     gpointer self)
{
#line 911 "../src/WindowManager.vala"
	__lambda184_ (self);
#line 6063 "WindowManager.c"
}

static void
gala_window_manager_gala_dim_parent_window (GalaWindowManagerGala* self,
                                            MetaWindow* window)
{
	Block12Data* _data12_;
	MetaWindowType _tmp0_;
	MetaWindowType _tmp1_;
	MetaWindow* transient = NULL;
	MetaWindow* _tmp2_;
	gboolean _tmp3_ = FALSE;
	MetaWindow* _tmp4_;
	MetaWindow* _tmp6_;
	GObject* _tmp7_;
	ClutterBrightnessContrastEffect* dark_effect = NULL;
	ClutterBrightnessContrastEffect* _tmp8_;
	ClutterBrightnessContrastEffect* _tmp9_;
	MetaWindowActor* _tmp10_;
	ClutterBrightnessContrastEffect* _tmp11_;
#line 895 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 895 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 895 "../src/WindowManager.vala"
	_data12_ = g_slice_new0 (Block12Data);
#line 895 "../src/WindowManager.vala"
	_data12_->_ref_count_ = 1;
#line 895 "../src/WindowManager.vala"
	_data12_->self = g_object_ref (self);
#line 896 "../src/WindowManager.vala"
	_tmp0_ = meta_window_get_window_type (window);
#line 896 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 896 "../src/WindowManager.vala"
	if (_tmp1_ != META_WINDOW_MODAL_DIALOG) {
#line 897 "../src/WindowManager.vala"
		block12_data_unref (_data12_);
#line 897 "../src/WindowManager.vala"
		_data12_ = NULL;
#line 897 "../src/WindowManager.vala"
		return;
#line 6106 "WindowManager.c"
	}
#line 900 "../src/WindowManager.vala"
	_tmp2_ = meta_window_get_transient_for (window);
#line 900 "../src/WindowManager.vala"
	transient = _tmp2_;
#line 901 "../src/WindowManager.vala"
	_tmp4_ = transient;
#line 901 "../src/WindowManager.vala"
	if (_tmp4_ == NULL) {
#line 901 "../src/WindowManager.vala"
		_tmp3_ = TRUE;
#line 6118 "WindowManager.c"
	} else {
		MetaWindow* _tmp5_;
#line 901 "../src/WindowManager.vala"
		_tmp5_ = transient;
#line 901 "../src/WindowManager.vala"
		_tmp3_ = _tmp5_ == window;
#line 6125 "WindowManager.c"
	}
#line 901 "../src/WindowManager.vala"
	if (_tmp3_) {
#line 902 "../src/WindowManager.vala"
		g_warning ("WindowManager.vala:902: No transient found");
#line 903 "../src/WindowManager.vala"
		block12_data_unref (_data12_);
#line 903 "../src/WindowManager.vala"
		_data12_ = NULL;
#line 903 "../src/WindowManager.vala"
		return;
#line 6137 "WindowManager.c"
	}
#line 906 "../src/WindowManager.vala"
	_tmp6_ = transient;
#line 906 "../src/WindowManager.vala"
	_tmp7_ = meta_window_get_compositor_private (_tmp6_);
#line 906 "../src/WindowManager.vala"
	_data12_->transient_actor = G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, meta_window_actor_get_type (), MetaWindowActor);
#line 907 "../src/WindowManager.vala"
	_tmp8_ = (ClutterBrightnessContrastEffect*) clutter_brightness_contrast_effect_new ();
#line 907 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp8_);
#line 907 "../src/WindowManager.vala"
	dark_effect = _tmp8_;
#line 908 "../src/WindowManager.vala"
	_tmp9_ = dark_effect;
#line 908 "../src/WindowManager.vala"
	clutter_brightness_contrast_effect_set_brightness (_tmp9_, -0.4f);
#line 909 "../src/WindowManager.vala"
	_tmp10_ = _data12_->transient_actor;
#line 909 "../src/WindowManager.vala"
	_tmp11_ = dark_effect;
#line 909 "../src/WindowManager.vala"
	clutter_actor_add_effect_with_name ((ClutterActor*) _tmp10_, "dim-parent", (ClutterEffect*) _tmp11_);
#line 911 "../src/WindowManager.vala"
	g_signal_connect_data (window, "unmanaged", (GCallback) ___lambda184__meta_window_unmanaged, block12_data_ref (_data12_), (GClosureNotify) block12_data_unref, 0);
#line 895 "../src/WindowManager.vala"
	_g_object_unref0 (dark_effect);
#line 895 "../src/WindowManager.vala"
	block12_data_unref (_data12_);
#line 895 "../src/WindowManager.vala"
	_data12_ = NULL;
#line 6169 "WindowManager.c"
}

/**
         * {@inheritDoc}
         */
static void
gala_window_manager_gala_real_perform_action (GalaWindowManager* base,
                                              GalaActionType type)
{
	GalaWindowManagerGala * self;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp0_;
	MetaWindow* current = NULL;
	MetaDisplay* _tmp1_;
	MetaWindow* _tmp2_;
	GError* _inner_error0_ = NULL;
#line 921 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 922 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 922 "../src/WindowManager.vala"
	display = _tmp0_;
#line 923 "../src/WindowManager.vala"
	_tmp1_ = display;
#line 923 "../src/WindowManager.vala"
	_tmp2_ = meta_display_get_focus_window (_tmp1_);
#line 923 "../src/WindowManager.vala"
	current = _tmp2_;
#line 925 "../src/WindowManager.vala"
	switch (type) {
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_SHOW_WORKSPACE_VIEW:
#line 6202 "WindowManager.c"
		{
			GalaActivatableComponent* _tmp3_;
			GalaActivatableComponent* _tmp4_;
			GalaActivatableComponent* _tmp5_;
			GalaActivatableComponent* _tmp6_;
#line 927 "../src/WindowManager.vala"
			_tmp3_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 927 "../src/WindowManager.vala"
			_tmp4_ = _tmp3_;
#line 927 "../src/WindowManager.vala"
			if (_tmp4_ == NULL) {
#line 928 "../src/WindowManager.vala"
				break;
#line 6216 "WindowManager.c"
			}
#line 930 "../src/WindowManager.vala"
			_tmp5_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 930 "../src/WindowManager.vala"
			_tmp6_ = _tmp5_;
#line 930 "../src/WindowManager.vala"
			if (gala_activatable_component_is_opened (_tmp6_)) {
#line 6224 "WindowManager.c"
				GalaActivatableComponent* _tmp7_;
				GalaActivatableComponent* _tmp8_;
#line 931 "../src/WindowManager.vala"
				_tmp7_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 931 "../src/WindowManager.vala"
				_tmp8_ = _tmp7_;
#line 931 "../src/WindowManager.vala"
				gala_activatable_component_close (_tmp8_, NULL);
#line 6233 "WindowManager.c"
			} else {
				GalaActivatableComponent* _tmp9_;
				GalaActivatableComponent* _tmp10_;
#line 933 "../src/WindowManager.vala"
				_tmp9_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 933 "../src/WindowManager.vala"
				_tmp10_ = _tmp9_;
#line 933 "../src/WindowManager.vala"
				gala_activatable_component_open (_tmp10_, NULL);
#line 6243 "WindowManager.c"
			}
#line 934 "../src/WindowManager.vala"
			break;
#line 6247 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_MAXIMIZE_CURRENT:
#line 6251 "WindowManager.c"
		{
			gboolean _tmp11_ = FALSE;
			gboolean _tmp12_ = FALSE;
			MetaWindow* _tmp13_;
			MetaMaximizeFlags maximize_flags = 0U;
			MetaWindow* _tmp18_;
			gboolean _tmp19_ = FALSE;
#line 936 "../src/WindowManager.vala"
			_tmp13_ = current;
#line 936 "../src/WindowManager.vala"
			if (_tmp13_ == NULL) {
#line 936 "../src/WindowManager.vala"
				_tmp12_ = TRUE;
#line 6265 "WindowManager.c"
			} else {
				MetaWindow* _tmp14_;
				MetaWindowType _tmp15_;
				MetaWindowType _tmp16_;
#line 936 "../src/WindowManager.vala"
				_tmp14_ = current;
#line 936 "../src/WindowManager.vala"
				_tmp15_ = meta_window_get_window_type (_tmp14_);
#line 936 "../src/WindowManager.vala"
				_tmp16_ = _tmp15_;
#line 936 "../src/WindowManager.vala"
				_tmp12_ = _tmp16_ != META_WINDOW_NORMAL;
#line 6278 "WindowManager.c"
			}
#line 936 "../src/WindowManager.vala"
			if (_tmp12_) {
#line 936 "../src/WindowManager.vala"
				_tmp11_ = TRUE;
#line 6284 "WindowManager.c"
			} else {
				MetaWindow* _tmp17_;
#line 936 "../src/WindowManager.vala"
				_tmp17_ = current;
#line 936 "../src/WindowManager.vala"
				_tmp11_ = !meta_window_can_maximize (_tmp17_);
#line 6291 "WindowManager.c"
			}
#line 936 "../src/WindowManager.vala"
			if (_tmp11_) {
#line 937 "../src/WindowManager.vala"
				break;
#line 6297 "WindowManager.c"
			}
#line 939 "../src/WindowManager.vala"
			_tmp18_ = current;
#line 939 "../src/WindowManager.vala"
			maximize_flags = meta_window_get_maximized (_tmp18_);
#line 940 "../src/WindowManager.vala"
			if ((maximize_flags & META_MAXIMIZE_VERTICAL) == META_MAXIMIZE_VERTICAL) {
#line 940 "../src/WindowManager.vala"
				_tmp19_ = TRUE;
#line 6307 "WindowManager.c"
			} else {
#line 940 "../src/WindowManager.vala"
				_tmp19_ = (maximize_flags & META_MAXIMIZE_HORIZONTAL) == META_MAXIMIZE_HORIZONTAL;
#line 6311 "WindowManager.c"
			}
#line 940 "../src/WindowManager.vala"
			if (_tmp19_) {
#line 6315 "WindowManager.c"
				MetaWindow* _tmp20_;
#line 941 "../src/WindowManager.vala"
				_tmp20_ = current;
#line 941 "../src/WindowManager.vala"
				meta_window_unmaximize (_tmp20_, META_MAXIMIZE_HORIZONTAL | META_MAXIMIZE_VERTICAL);
#line 6321 "WindowManager.c"
			} else {
				MetaWindow* _tmp21_;
#line 943 "../src/WindowManager.vala"
				_tmp21_ = current;
#line 943 "../src/WindowManager.vala"
				meta_window_maximize (_tmp21_, META_MAXIMIZE_HORIZONTAL | META_MAXIMIZE_VERTICAL);
#line 6328 "WindowManager.c"
			}
#line 944 "../src/WindowManager.vala"
			break;
#line 6332 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_HIDE_CURRENT:
#line 6336 "WindowManager.c"
		{
			gboolean _tmp22_ = FALSE;
			MetaWindow* _tmp23_;
#line 946 "../src/WindowManager.vala"
			_tmp23_ = current;
#line 946 "../src/WindowManager.vala"
			if (_tmp23_ != NULL) {
#line 6344 "WindowManager.c"
				MetaWindow* _tmp24_;
				MetaWindowType _tmp25_;
				MetaWindowType _tmp26_;
#line 946 "../src/WindowManager.vala"
				_tmp24_ = current;
#line 946 "../src/WindowManager.vala"
				_tmp25_ = meta_window_get_window_type (_tmp24_);
#line 946 "../src/WindowManager.vala"
				_tmp26_ = _tmp25_;
#line 946 "../src/WindowManager.vala"
				_tmp22_ = _tmp26_ == META_WINDOW_NORMAL;
#line 6356 "WindowManager.c"
			} else {
#line 946 "../src/WindowManager.vala"
				_tmp22_ = FALSE;
#line 6360 "WindowManager.c"
			}
#line 946 "../src/WindowManager.vala"
			if (_tmp22_) {
#line 6364 "WindowManager.c"
				MetaWindow* _tmp27_;
#line 947 "../src/WindowManager.vala"
				_tmp27_ = current;
#line 947 "../src/WindowManager.vala"
				meta_window_minimize (_tmp27_);
#line 6370 "WindowManager.c"
			}
#line 948 "../src/WindowManager.vala"
			break;
#line 6374 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_START_MOVE_CURRENT:
#line 6378 "WindowManager.c"
		{
			gboolean _tmp28_ = FALSE;
			MetaWindow* _tmp29_;
#line 950 "../src/WindowManager.vala"
			_tmp29_ = current;
#line 950 "../src/WindowManager.vala"
			if (_tmp29_ != NULL) {
#line 6386 "WindowManager.c"
				MetaWindow* _tmp30_;
#line 950 "../src/WindowManager.vala"
				_tmp30_ = current;
#line 950 "../src/WindowManager.vala"
				_tmp28_ = meta_window_allows_move (_tmp30_);
#line 6392 "WindowManager.c"
			} else {
#line 950 "../src/WindowManager.vala"
				_tmp28_ = FALSE;
#line 6396 "WindowManager.c"
			}
#line 950 "../src/WindowManager.vala"
			if (_tmp28_) {
#line 6400 "WindowManager.c"
				MetaWindow* _tmp31_;
#line 952 "../src/WindowManager.vala"
				_tmp31_ = current;
#line 952 "../src/WindowManager.vala"
				meta_window_begin_grab_op (_tmp31_, META_GRAB_OP_KEYBOARD_MOVING, NULL, NULL, gtk_get_current_event_time (), NULL);
#line 6406 "WindowManager.c"
			}
#line 958 "../src/WindowManager.vala"
			break;
#line 6410 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_START_RESIZE_CURRENT:
#line 6414 "WindowManager.c"
		{
			gboolean _tmp32_ = FALSE;
			MetaWindow* _tmp33_;
#line 960 "../src/WindowManager.vala"
			_tmp33_ = current;
#line 960 "../src/WindowManager.vala"
			if (_tmp33_ != NULL) {
#line 6422 "WindowManager.c"
				MetaWindow* _tmp34_;
#line 960 "../src/WindowManager.vala"
				_tmp34_ = current;
#line 960 "../src/WindowManager.vala"
				_tmp32_ = meta_window_allows_resize (_tmp34_);
#line 6428 "WindowManager.c"
			} else {
#line 960 "../src/WindowManager.vala"
				_tmp32_ = FALSE;
#line 6432 "WindowManager.c"
			}
#line 960 "../src/WindowManager.vala"
			if (_tmp32_) {
#line 6436 "WindowManager.c"
				MetaWindow* _tmp35_;
#line 962 "../src/WindowManager.vala"
				_tmp35_ = current;
#line 962 "../src/WindowManager.vala"
				meta_window_begin_grab_op (_tmp35_, META_GRAB_OP_KEYBOARD_RESIZING_UNKNOWN, NULL, NULL, gtk_get_current_event_time (), NULL);
#line 6442 "WindowManager.c"
			}
#line 968 "../src/WindowManager.vala"
			break;
#line 6446 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_TOGGLE_ALWAYS_ON_TOP_CURRENT:
#line 6450 "WindowManager.c"
		{
			MetaWindow* _tmp36_;
			MetaWindow* _tmp37_;
#line 970 "../src/WindowManager.vala"
			_tmp36_ = current;
#line 970 "../src/WindowManager.vala"
			if (_tmp36_ == NULL) {
#line 971 "../src/WindowManager.vala"
				break;
#line 6460 "WindowManager.c"
			}
#line 973 "../src/WindowManager.vala"
			_tmp37_ = current;
#line 973 "../src/WindowManager.vala"
			if (meta_window_is_above (_tmp37_)) {
#line 6466 "WindowManager.c"
				MetaWindow* _tmp38_;
#line 974 "../src/WindowManager.vala"
				_tmp38_ = current;
#line 974 "../src/WindowManager.vala"
				meta_window_unmake_above (_tmp38_);
#line 6472 "WindowManager.c"
			} else {
				MetaWindow* _tmp39_;
#line 976 "../src/WindowManager.vala"
				_tmp39_ = current;
#line 976 "../src/WindowManager.vala"
				meta_window_make_above (_tmp39_);
#line 6479 "WindowManager.c"
			}
#line 977 "../src/WindowManager.vala"
			break;
#line 6483 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_TOGGLE_ALWAYS_ON_VISIBLE_WORKSPACE_CURRENT:
#line 6487 "WindowManager.c"
		{
			MetaWindow* _tmp40_;
			MetaWindow* _tmp41_;
			gboolean _tmp42_;
			gboolean _tmp43_;
#line 979 "../src/WindowManager.vala"
			_tmp40_ = current;
#line 979 "../src/WindowManager.vala"
			if (_tmp40_ == NULL) {
#line 980 "../src/WindowManager.vala"
				break;
#line 6499 "WindowManager.c"
			}
#line 982 "../src/WindowManager.vala"
			_tmp41_ = current;
#line 982 "../src/WindowManager.vala"
			g_object_get (_tmp41_, "on-all-workspaces", &_tmp42_, NULL);
#line 982 "../src/WindowManager.vala"
			_tmp43_ = _tmp42_;
#line 982 "../src/WindowManager.vala"
			if (_tmp43_) {
#line 6509 "WindowManager.c"
				MetaWindow* _tmp44_;
#line 983 "../src/WindowManager.vala"
				_tmp44_ = current;
#line 983 "../src/WindowManager.vala"
				meta_window_unstick (_tmp44_);
#line 6515 "WindowManager.c"
			} else {
				MetaWindow* _tmp45_;
#line 985 "../src/WindowManager.vala"
				_tmp45_ = current;
#line 985 "../src/WindowManager.vala"
				meta_window_stick (_tmp45_);
#line 6522 "WindowManager.c"
			}
#line 986 "../src/WindowManager.vala"
			break;
#line 6526 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_SWITCH_TO_WORKSPACE_PREVIOUS:
#line 6530 "WindowManager.c"
		{
#line 988 "../src/WindowManager.vala"
			gala_window_manager_switch_to_next_workspace ((GalaWindowManager*) self, META_MOTION_LEFT, gtk_get_current_event_time ());
#line 989 "../src/WindowManager.vala"
			break;
#line 6536 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_SWITCH_TO_WORKSPACE_NEXT:
#line 6540 "WindowManager.c"
		{
#line 991 "../src/WindowManager.vala"
			gala_window_manager_switch_to_next_workspace ((GalaWindowManager*) self, META_MOTION_RIGHT, gtk_get_current_event_time ());
#line 992 "../src/WindowManager.vala"
			break;
#line 6546 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_MOVE_CURRENT_WORKSPACE_LEFT:
#line 6550 "WindowManager.c"
		{
			MetaWorkspaceManager* workspace_manager = NULL;
			MetaDisplay* _tmp46_;
			MetaWorkspaceManager* _tmp47_;
			MetaWorkspace* active_workspace = NULL;
			MetaWorkspaceManager* _tmp48_;
			MetaWorkspace* _tmp49_;
			MetaWorkspace* target_workspace = NULL;
			MetaWorkspace* _tmp50_;
			MetaWorkspace* _tmp51_;
			MetaWindow* _tmp52_;
			MetaWorkspace* _tmp53_;
#line 994 "../src/WindowManager.vala"
			_tmp46_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 994 "../src/WindowManager.vala"
			_tmp47_ = meta_display_get_workspace_manager (_tmp46_);
#line 994 "../src/WindowManager.vala"
			workspace_manager = _tmp47_;
#line 995 "../src/WindowManager.vala"
			_tmp48_ = workspace_manager;
#line 995 "../src/WindowManager.vala"
			_tmp49_ = meta_workspace_manager_get_active_workspace (_tmp48_);
#line 995 "../src/WindowManager.vala"
			active_workspace = _tmp49_;
#line 996 "../src/WindowManager.vala"
			_tmp50_ = active_workspace;
#line 996 "../src/WindowManager.vala"
			_tmp51_ = meta_workspace_get_neighbor (_tmp50_, META_MOTION_LEFT);
#line 996 "../src/WindowManager.vala"
			target_workspace = _tmp51_;
#line 997 "../src/WindowManager.vala"
			_tmp52_ = current;
#line 997 "../src/WindowManager.vala"
			_tmp53_ = target_workspace;
#line 997 "../src/WindowManager.vala"
			gala_window_manager_move_window ((GalaWindowManager*) self, _tmp52_, _tmp53_, gtk_get_current_event_time ());
#line 998 "../src/WindowManager.vala"
			break;
#line 6589 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_MOVE_CURRENT_WORKSPACE_RIGHT:
#line 6593 "WindowManager.c"
		{
			MetaWorkspaceManager* workspace_manager = NULL;
			MetaDisplay* _tmp54_;
			MetaWorkspaceManager* _tmp55_;
			MetaWorkspace* active_workspace = NULL;
			MetaWorkspaceManager* _tmp56_;
			MetaWorkspace* _tmp57_;
			MetaWorkspace* target_workspace = NULL;
			MetaWorkspace* _tmp58_;
			MetaWorkspace* _tmp59_;
			MetaWindow* _tmp60_;
			MetaWorkspace* _tmp61_;
#line 1000 "../src/WindowManager.vala"
			_tmp54_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1000 "../src/WindowManager.vala"
			_tmp55_ = meta_display_get_workspace_manager (_tmp54_);
#line 1000 "../src/WindowManager.vala"
			workspace_manager = _tmp55_;
#line 1001 "../src/WindowManager.vala"
			_tmp56_ = workspace_manager;
#line 1001 "../src/WindowManager.vala"
			_tmp57_ = meta_workspace_manager_get_active_workspace (_tmp56_);
#line 1001 "../src/WindowManager.vala"
			active_workspace = _tmp57_;
#line 1002 "../src/WindowManager.vala"
			_tmp58_ = active_workspace;
#line 1002 "../src/WindowManager.vala"
			_tmp59_ = meta_workspace_get_neighbor (_tmp58_, META_MOTION_RIGHT);
#line 1002 "../src/WindowManager.vala"
			target_workspace = _tmp59_;
#line 1003 "../src/WindowManager.vala"
			_tmp60_ = current;
#line 1003 "../src/WindowManager.vala"
			_tmp61_ = target_workspace;
#line 1003 "../src/WindowManager.vala"
			gala_window_manager_move_window ((GalaWindowManager*) self, _tmp60_, _tmp61_, gtk_get_current_event_time ());
#line 1004 "../src/WindowManager.vala"
			break;
#line 6632 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_CLOSE_CURRENT:
#line 6636 "WindowManager.c"
		{
			gboolean _tmp62_ = FALSE;
			MetaWindow* _tmp63_;
#line 1006 "../src/WindowManager.vala"
			_tmp63_ = current;
#line 1006 "../src/WindowManager.vala"
			if (_tmp63_ != NULL) {
#line 6644 "WindowManager.c"
				MetaWindow* _tmp64_;
#line 1006 "../src/WindowManager.vala"
				_tmp64_ = current;
#line 1006 "../src/WindowManager.vala"
				_tmp62_ = meta_window_can_close (_tmp64_);
#line 6650 "WindowManager.c"
			} else {
#line 1006 "../src/WindowManager.vala"
				_tmp62_ = FALSE;
#line 6654 "WindowManager.c"
			}
#line 1006 "../src/WindowManager.vala"
			if (_tmp62_) {
#line 6658 "WindowManager.c"
				MetaWindow* _tmp65_;
#line 1007 "../src/WindowManager.vala"
				_tmp65_ = current;
#line 1007 "../src/WindowManager.vala"
				meta_window_delete (_tmp65_, gtk_get_current_event_time ());
#line 6664 "WindowManager.c"
			}
#line 1008 "../src/WindowManager.vala"
			break;
#line 6668 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_OPEN_LAUNCHER:
#line 6672 "WindowManager.c"
		{
			{
				GSettings* _tmp66_;
				gchar* _tmp67_;
				gchar* _tmp68_;
#line 1011 "../src/WindowManager.vala"
				_tmp66_ = self->priv->behavior_settings;
#line 1011 "../src/WindowManager.vala"
				_tmp67_ = g_settings_get_string (_tmp66_, "panel-main-menu-action");
#line 1011 "../src/WindowManager.vala"
				_tmp68_ = _tmp67_;
#line 1011 "../src/WindowManager.vala"
				g_spawn_command_line_async (_tmp68_, &_inner_error0_);
#line 1011 "../src/WindowManager.vala"
				_g_free0 (_tmp68_);
#line 1011 "../src/WindowManager.vala"
				if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 6690 "WindowManager.c"
					goto __catch0_g_error;
				}
			}
			goto __finally0;
			__catch0_g_error:
			{
				GError* e = NULL;
				GError* _tmp69_;
				const gchar* _tmp70_;
#line 1010 "../src/WindowManager.vala"
				e = _inner_error0_;
#line 1010 "../src/WindowManager.vala"
				_inner_error0_ = NULL;
#line 1015 "../src/WindowManager.vala"
				_tmp69_ = e;
#line 1015 "../src/WindowManager.vala"
				_tmp70_ = _tmp69_->message;
#line 1015 "../src/WindowManager.vala"
				g_warning ("WindowManager.vala:1015: %s", _tmp70_);
#line 1010 "../src/WindowManager.vala"
				_g_error_free0 (e);
#line 6712 "WindowManager.c"
			}
			__finally0:
#line 1010 "../src/WindowManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1010 "../src/WindowManager.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1010 "../src/WindowManager.vala"
				g_clear_error (&_inner_error0_);
#line 1010 "../src/WindowManager.vala"
				return;
#line 6723 "WindowManager.c"
			}
#line 1017 "../src/WindowManager.vala"
			break;
#line 6727 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_WINDOW_OVERVIEW:
#line 6731 "WindowManager.c"
		{
			GalaActivatableComponent* _tmp71_;
			GalaActivatableComponent* _tmp72_;
#line 1019 "../src/WindowManager.vala"
			_tmp71_ = self->priv->_window_overview;
#line 1019 "../src/WindowManager.vala"
			if (_tmp71_ == NULL) {
#line 1020 "../src/WindowManager.vala"
				break;
#line 6741 "WindowManager.c"
			}
#line 1023 "../src/WindowManager.vala"
			_tmp72_ = self->priv->_window_overview;
#line 1023 "../src/WindowManager.vala"
			if (gala_activatable_component_is_opened (_tmp72_)) {
#line 6747 "WindowManager.c"
				GalaActivatableComponent* _tmp73_;
#line 1024 "../src/WindowManager.vala"
				_tmp73_ = self->priv->_window_overview;
#line 1024 "../src/WindowManager.vala"
				gala_activatable_component_close (_tmp73_, NULL);
#line 6753 "WindowManager.c"
			} else {
				GalaActivatableComponent* _tmp74_;
#line 1026 "../src/WindowManager.vala"
				_tmp74_ = self->priv->_window_overview;
#line 1026 "../src/WindowManager.vala"
				gala_activatable_component_open (_tmp74_, NULL);
#line 6760 "WindowManager.c"
			}
#line 1028 "../src/WindowManager.vala"
			g_critical ("WindowManager.vala:1028: Window overview is deprecated");
#line 1029 "../src/WindowManager.vala"
			break;
#line 6766 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_WINDOW_OVERVIEW_ALL:
#line 6770 "WindowManager.c"
		{
			GalaActivatableComponent* _tmp75_;
			GalaActivatableComponent* _tmp76_;
#line 1031 "../src/WindowManager.vala"
			_tmp75_ = self->priv->_window_overview;
#line 1031 "../src/WindowManager.vala"
			if (_tmp75_ == NULL) {
#line 1032 "../src/WindowManager.vala"
				break;
#line 6780 "WindowManager.c"
			}
#line 1035 "../src/WindowManager.vala"
			_tmp76_ = self->priv->_window_overview;
#line 1035 "../src/WindowManager.vala"
			if (gala_activatable_component_is_opened (_tmp76_)) {
#line 6786 "WindowManager.c"
				GalaActivatableComponent* _tmp77_;
#line 1036 "../src/WindowManager.vala"
				_tmp77_ = self->priv->_window_overview;
#line 1036 "../src/WindowManager.vala"
				gala_activatable_component_close (_tmp77_, NULL);
#line 6792 "WindowManager.c"
			} else {
				GalaActivatableComponent* _tmp78_;
#line 1038 "../src/WindowManager.vala"
				_tmp78_ = self->priv->_window_overview;
#line 1038 "../src/WindowManager.vala"
				gala_activatable_component_open (_tmp78_, NULL);
#line 6799 "WindowManager.c"
			}
#line 1040 "../src/WindowManager.vala"
			break;
#line 6803 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_SWITCH_TO_WORKSPACE_LAST:
#line 6807 "WindowManager.c"
		{
			MetaWorkspaceManager* manager = NULL;
			MetaDisplay* _tmp79_;
			MetaWorkspaceManager* _tmp80_;
			MetaWorkspace* workspace = NULL;
			MetaWorkspaceManager* _tmp81_;
			MetaWorkspaceManager* _tmp82_;
			MetaWorkspace* _tmp83_;
			MetaWorkspace* _tmp84_;
			MetaDisplay* _tmp85_;
#line 1042 "../src/WindowManager.vala"
			_tmp79_ = display;
#line 1042 "../src/WindowManager.vala"
			_tmp80_ = meta_display_get_workspace_manager (_tmp79_);
#line 1042 "../src/WindowManager.vala"
			manager = _tmp80_;
#line 1043 "../src/WindowManager.vala"
			_tmp81_ = manager;
#line 1043 "../src/WindowManager.vala"
			_tmp82_ = manager;
#line 1043 "../src/WindowManager.vala"
			_tmp83_ = meta_workspace_manager_get_workspace_by_index (_tmp81_, meta_workspace_manager_get_n_workspaces (_tmp82_) - 1);
#line 1043 "../src/WindowManager.vala"
			workspace = _tmp83_;
#line 1044 "../src/WindowManager.vala"
			_tmp84_ = workspace;
#line 1044 "../src/WindowManager.vala"
			_tmp85_ = display;
#line 1044 "../src/WindowManager.vala"
			meta_workspace_activate (_tmp84_, meta_display_get_current_time (_tmp85_));
#line 1045 "../src/WindowManager.vala"
			break;
#line 6840 "WindowManager.c"
		}
#line 925 "../src/WindowManager.vala"
		case GALA_ACTION_TYPE_SCREENSHOT_CURRENT:
#line 6844 "WindowManager.c"
		{
#line 1047 "../src/WindowManager.vala"
			gala_window_manager_gala_screenshot_current_window (self, FALSE, NULL, NULL);
#line 1048 "../src/WindowManager.vala"
			break;
#line 6850 "WindowManager.c"
		}
		default:
		{
#line 1050 "../src/WindowManager.vala"
			g_warning ("WindowManager.vala:1050: Trying to run unknown action");
#line 1051 "../src/WindowManager.vala"
			break;
#line 6858 "WindowManager.c"
		}
	}
}

static void
gala_window_manager_gala_real_show_window_menu (MetaPlugin* base,
                                                MetaWindow* window,
                                                MetaWindowMenuType menu,
                                                gint x,
                                                gint y)
{
	GalaWindowManagerGala * self;
#line 1055 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1055 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 1056 "../src/WindowManager.vala"
	switch (menu) {
#line 1056 "../src/WindowManager.vala"
		case META_WINDOW_MENU_WM:
#line 6879 "WindowManager.c"
		{
			GalaWindowFlags flags = 0U;
			MetaMaximizeFlags maximize_flags = 0U;
			gboolean _tmp1_;
			gboolean _tmp2_;
			GalaDaemonManager* _tmp3_;
#line 1058 "../src/WindowManager.vala"
			if (meta_window_get_window_type (window) == META_WINDOW_NOTIFICATION) {
#line 1059 "../src/WindowManager.vala"
				return;
#line 6890 "WindowManager.c"
			}
#line 1062 "../src/WindowManager.vala"
			flags = GALA_WINDOW_FLAGS_NONE;
#line 1063 "../src/WindowManager.vala"
			if (meta_window_can_minimize (window)) {
#line 1064 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_CAN_HIDE;
#line 6898 "WindowManager.c"
			}
#line 1066 "../src/WindowManager.vala"
			if (meta_window_can_maximize (window)) {
#line 1067 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_CAN_MAXIMIZE;
#line 6904 "WindowManager.c"
			}
#line 1069 "../src/WindowManager.vala"
			maximize_flags = meta_window_get_maximized (window);
#line 1070 "../src/WindowManager.vala"
			if (maximize_flags > 0) {
#line 6910 "WindowManager.c"
				gboolean _tmp0_ = FALSE;
#line 1071 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_IS_MAXIMIZED;
#line 1073 "../src/WindowManager.vala"
				if ((maximize_flags & META_MAXIMIZE_VERTICAL) == META_MAXIMIZE_VERTICAL) {
#line 1073 "../src/WindowManager.vala"
					_tmp0_ = !((maximize_flags & META_MAXIMIZE_HORIZONTAL) == META_MAXIMIZE_HORIZONTAL);
#line 6918 "WindowManager.c"
				} else {
#line 1073 "../src/WindowManager.vala"
					_tmp0_ = FALSE;
#line 6922 "WindowManager.c"
				}
#line 1073 "../src/WindowManager.vala"
				if (_tmp0_) {
#line 1074 "../src/WindowManager.vala"
					flags |= GALA_WINDOW_FLAGS_IS_TILED;
#line 6928 "WindowManager.c"
				}
			}
#line 1078 "../src/WindowManager.vala"
			if (meta_window_allows_move (window)) {
#line 1079 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_ALLOWS_MOVE;
#line 6935 "WindowManager.c"
			}
#line 1081 "../src/WindowManager.vala"
			if (meta_window_allows_resize (window)) {
#line 1082 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_ALLOWS_RESIZE;
#line 6941 "WindowManager.c"
			}
#line 1084 "../src/WindowManager.vala"
			if (meta_window_is_above (window)) {
#line 1085 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_ALWAYS_ON_TOP;
#line 6947 "WindowManager.c"
			}
#line 1087 "../src/WindowManager.vala"
			g_object_get (window, "on-all-workspaces", &_tmp1_, NULL);
#line 1087 "../src/WindowManager.vala"
			_tmp2_ = _tmp1_;
#line 1087 "../src/WindowManager.vala"
			if (_tmp2_) {
#line 1088 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_ON_ALL_WORKSPACES;
#line 6957 "WindowManager.c"
			}
#line 1090 "../src/WindowManager.vala"
			if (meta_window_can_close (window)) {
#line 1091 "../src/WindowManager.vala"
				flags |= GALA_WINDOW_FLAGS_CAN_CLOSE;
#line 6963 "WindowManager.c"
			}
#line 1093 "../src/WindowManager.vala"
			_tmp3_ = self->priv->daemon_manager;
#line 1093 "../src/WindowManager.vala"
			gala_daemon_manager_show_window_menu (_tmp3_, flags, x, y, NULL, NULL);
#line 1094 "../src/WindowManager.vala"
			break;
#line 6971 "WindowManager.c"
		}
#line 1056 "../src/WindowManager.vala"
		case META_WINDOW_MENU_APP:
#line 6975 "WindowManager.c"
		{
#line 1097 "../src/WindowManager.vala"
			break;
#line 6979 "WindowManager.c"
		}
		default:
#line 1056 "../src/WindowManager.vala"
		break;
#line 6984 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_real_show_tile_preview (MetaPlugin* base,
                                                 MetaWindow* window,
                                                 MtkRectangle* tile_rect,
                                                 gint tile_monitor_number)
{
	GalaWindowManagerGala * self;
	ClutterActor* _tmp0_;
	MetaWindowActor* window_actor = NULL;
	GObject* _tmp34_;
	ClutterActor* _tmp35_;
	ClutterActor* _tmp36_;
	ClutterActor* _tmp37_;
	MetaWindowActor* _tmp38_;
	guint duration = 0U;
	MtkRectangle rect = {0};
	MtkRectangle _tmp39_ = {0};
	ClutterActor* _tmp40_;
	MtkRectangle _tmp41_;
	MtkRectangle _tmp42_;
	ClutterActor* _tmp43_;
	MtkRectangle _tmp44_;
	MtkRectangle _tmp45_;
	ClutterActor* _tmp46_;
	gboolean _tmp47_;
	gboolean _tmp48_;
#line 1102 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1102 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 1102 "../src/WindowManager.vala"
	g_return_if_fail (tile_rect != NULL);
#line 1106 "../src/WindowManager.vala"
	_tmp0_ = self->priv->tile_preview;
#line 1106 "../src/WindowManager.vala"
	if (_tmp0_ == NULL) {
#line 7024 "WindowManager.c"
		ClutterActor* _tmp1_;
		GdkRGBA rgba = {0};
		GalaDrawingStyleManager* _tmp2_;
		GalaDrawingStyleManager* _tmp3_;
		GdkRGBA _tmp4_ = {0};
		GdkRGBA _tmp5_;
		GdkRGBA _tmp6_;
		ClutterActor* _tmp7_;
		GdkRGBA _tmp8_;
		GdkRGBA _tmp9_;
		GdkRGBA _tmp10_;
		GdkRGBA _tmp11_;
		ClutterColor _tmp12_ = {0};
		ClutterActor* _tmp13_;
		ClutterActor* _tmp14_;
		ClutterActor* _tmp15_;
		ClutterActor* _tmp16_;
#line 1107 "../src/WindowManager.vala"
		_tmp1_ = clutter_actor_new ();
#line 1107 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp1_);
#line 1107 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->tile_preview);
#line 1107 "../src/WindowManager.vala"
		self->priv->tile_preview = _tmp1_;
#line 1108 "../src/WindowManager.vala"
		_tmp2_ = gala_drawing_style_manager_get_instance ();
#line 1108 "../src/WindowManager.vala"
		_tmp3_ = _tmp2_;
#line 1108 "../src/WindowManager.vala"
		gala_drawing_style_manager_get_theme_accent_color (_tmp3_, &_tmp4_);
#line 1108 "../src/WindowManager.vala"
		_tmp5_ = _tmp4_;
#line 1108 "../src/WindowManager.vala"
		_tmp6_ = _tmp5_;
#line 1108 "../src/WindowManager.vala"
		_g_object_unref0 (_tmp3_);
#line 1108 "../src/WindowManager.vala"
		rgba = _tmp6_;
#line 1109 "../src/WindowManager.vala"
		_tmp7_ = self->priv->tile_preview;
#line 1109 "../src/WindowManager.vala"
		_tmp8_ = rgba;
#line 1109 "../src/WindowManager.vala"
		_tmp9_ = rgba;
#line 1109 "../src/WindowManager.vala"
		_tmp10_ = rgba;
#line 1109 "../src/WindowManager.vala"
		_tmp11_ = rgba;
#line 1109 "../src/WindowManager.vala"
		_tmp12_.red = (guint8) (255.0 * _tmp8_.red);
#line 1109 "../src/WindowManager.vala"
		_tmp12_.green = (guint8) (255.0 * _tmp9_.green);
#line 1109 "../src/WindowManager.vala"
		_tmp12_.blue = (guint8) (255.0 * _tmp10_.blue);
#line 1109 "../src/WindowManager.vala"
		_tmp12_.alpha = (guint8) (255.0 * _tmp11_.alpha);
#line 1109 "../src/WindowManager.vala"
		clutter_actor_set_background_color (_tmp7_, &_tmp12_);
#line 1115 "../src/WindowManager.vala"
		_tmp13_ = self->priv->tile_preview;
#line 1115 "../src/WindowManager.vala"
		clutter_actor_set_opacity (_tmp13_, 0U);
#line 1117 "../src/WindowManager.vala"
		_tmp14_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 1117 "../src/WindowManager.vala"
		_tmp15_ = _tmp14_;
#line 1117 "../src/WindowManager.vala"
		_tmp16_ = self->priv->tile_preview;
#line 1117 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp15_, _tmp16_);
#line 7096 "WindowManager.c"
	} else {
		ClutterActor* _tmp17_;
#line 1118 "../src/WindowManager.vala"
		_tmp17_ = self->priv->tile_preview;
#line 1118 "../src/WindowManager.vala"
		if (clutter_actor_is_visible (_tmp17_)) {
#line 7103 "WindowManager.c"
			gfloat width = 0.0F;
			gfloat height = 0.0F;
			gfloat x = 0.0F;
			gfloat y = 0.0F;
			ClutterActor* _tmp18_;
			gfloat _tmp19_ = 0.0F;
			gfloat _tmp20_ = 0.0F;
			ClutterActor* _tmp21_;
			gfloat _tmp22_ = 0.0F;
			gfloat _tmp23_ = 0.0F;
			gboolean _tmp24_ = FALSE;
			gboolean _tmp25_ = FALSE;
			gboolean _tmp26_ = FALSE;
			gboolean _tmp27_ = FALSE;
			MtkRectangle _tmp28_;
#line 1120 "../src/WindowManager.vala"
			_tmp18_ = self->priv->tile_preview;
#line 1120 "../src/WindowManager.vala"
			clutter_actor_get_position (_tmp18_, &_tmp19_, &_tmp20_);
#line 1120 "../src/WindowManager.vala"
			x = _tmp19_;
#line 1120 "../src/WindowManager.vala"
			y = _tmp20_;
#line 1121 "../src/WindowManager.vala"
			_tmp21_ = self->priv->tile_preview;
#line 1121 "../src/WindowManager.vala"
			clutter_actor_get_size (_tmp21_, &_tmp22_, &_tmp23_);
#line 1121 "../src/WindowManager.vala"
			width = _tmp22_;
#line 1121 "../src/WindowManager.vala"
			height = _tmp23_;
#line 1123 "../src/WindowManager.vala"
			_tmp28_ = *tile_rect;
#line 1123 "../src/WindowManager.vala"
			if (((gfloat) _tmp28_.width) == width) {
#line 7139 "WindowManager.c"
				MtkRectangle _tmp29_;
#line 1123 "../src/WindowManager.vala"
				_tmp29_ = *tile_rect;
#line 1123 "../src/WindowManager.vala"
				_tmp27_ = ((gfloat) _tmp29_.height) == height;
#line 7145 "WindowManager.c"
			} else {
#line 1123 "../src/WindowManager.vala"
				_tmp27_ = FALSE;
#line 7149 "WindowManager.c"
			}
#line 1123 "../src/WindowManager.vala"
			if (_tmp27_) {
#line 7153 "WindowManager.c"
				MtkRectangle _tmp30_;
#line 1123 "../src/WindowManager.vala"
				_tmp30_ = *tile_rect;
#line 1123 "../src/WindowManager.vala"
				_tmp26_ = ((gfloat) _tmp30_.x) == x;
#line 7159 "WindowManager.c"
			} else {
#line 1123 "../src/WindowManager.vala"
				_tmp26_ = FALSE;
#line 7163 "WindowManager.c"
			}
#line 1123 "../src/WindowManager.vala"
			if (_tmp26_) {
#line 7167 "WindowManager.c"
				MtkRectangle _tmp31_;
#line 1123 "../src/WindowManager.vala"
				_tmp31_ = *tile_rect;
#line 1123 "../src/WindowManager.vala"
				_tmp25_ = ((gfloat) _tmp31_.y) == y;
#line 7173 "WindowManager.c"
			} else {
#line 1123 "../src/WindowManager.vala"
				_tmp25_ = FALSE;
#line 7177 "WindowManager.c"
			}
#line 1123 "../src/WindowManager.vala"
			if (_tmp25_) {
#line 1123 "../src/WindowManager.vala"
				_tmp24_ = TRUE;
#line 7183 "WindowManager.c"
			} else {
				ClutterActor* _tmp32_;
				ClutterTransition* _tmp33_;
#line 1124 "../src/WindowManager.vala"
				_tmp32_ = self->priv->tile_preview;
#line 1124 "../src/WindowManager.vala"
				_tmp33_ = clutter_actor_get_transition (_tmp32_, "size");
#line 1124 "../src/WindowManager.vala"
				_tmp24_ = _tmp33_ != NULL;
#line 7193 "WindowManager.c"
			}
#line 1123 "../src/WindowManager.vala"
			if (_tmp24_) {
#line 1125 "../src/WindowManager.vala"
				return;
#line 7199 "WindowManager.c"
			}
		}
	}
#line 1129 "../src/WindowManager.vala"
	_tmp34_ = meta_window_get_compositor_private (window);
#line 1129 "../src/WindowManager.vala"
	window_actor = G_TYPE_CHECK_INSTANCE_TYPE (_tmp34_, meta_window_actor_get_type ()) ? ((MetaWindowActor*) _tmp34_) : NULL;
#line 1130 "../src/WindowManager.vala"
	_tmp35_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 1130 "../src/WindowManager.vala"
	_tmp36_ = _tmp35_;
#line 1130 "../src/WindowManager.vala"
	_tmp37_ = self->priv->tile_preview;
#line 1130 "../src/WindowManager.vala"
	_tmp38_ = window_actor;
#line 1130 "../src/WindowManager.vala"
	clutter_actor_set_child_below_sibling (_tmp36_, _tmp37_, (ClutterActor*) _tmp38_);
#line 1132 "../src/WindowManager.vala"
	duration = GALA_ANIMATION_DURATION_SNAP / 2U;
#line 1134 "../src/WindowManager.vala"
	meta_window_get_frame_rect (window, &_tmp39_);
#line 1134 "../src/WindowManager.vala"
	rect = _tmp39_;
#line 1135 "../src/WindowManager.vala"
	_tmp40_ = self->priv->tile_preview;
#line 1135 "../src/WindowManager.vala"
	_tmp41_ = rect;
#line 1135 "../src/WindowManager.vala"
	_tmp42_ = rect;
#line 1135 "../src/WindowManager.vala"
	clutter_actor_set_position (_tmp40_, (gfloat) _tmp41_.x, (gfloat) _tmp42_.y);
#line 1136 "../src/WindowManager.vala"
	_tmp43_ = self->priv->tile_preview;
#line 1136 "../src/WindowManager.vala"
	_tmp44_ = rect;
#line 1136 "../src/WindowManager.vala"
	_tmp45_ = rect;
#line 1136 "../src/WindowManager.vala"
	clutter_actor_set_size (_tmp43_, (gfloat) _tmp44_.width, (gfloat) _tmp45_.height);
#line 1137 "../src/WindowManager.vala"
	_tmp46_ = self->priv->tile_preview;
#line 1137 "../src/WindowManager.vala"
	clutter_actor_show (_tmp46_);
#line 1139 "../src/WindowManager.vala"
	_tmp47_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1139 "../src/WindowManager.vala"
	_tmp48_ = _tmp47_;
#line 1139 "../src/WindowManager.vala"
	if (_tmp48_) {
#line 7249 "WindowManager.c"
		ClutterActor* _tmp49_;
		ClutterActor* _tmp50_;
		ClutterActor* _tmp51_;
		ClutterActor* _tmp52_;
		ClutterActor* _tmp53_;
		MtkRectangle _tmp54_;
		MtkRectangle _tmp55_;
		ClutterActor* _tmp56_;
		MtkRectangle _tmp57_;
		MtkRectangle _tmp58_;
		ClutterActor* _tmp59_;
#line 1140 "../src/WindowManager.vala"
		_tmp49_ = self->priv->tile_preview;
#line 1140 "../src/WindowManager.vala"
		clutter_actor_save_easing_state (_tmp49_);
#line 1141 "../src/WindowManager.vala"
		_tmp50_ = self->priv->tile_preview;
#line 1141 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode (_tmp50_, CLUTTER_EASE_IN_OUT_QUAD);
#line 1142 "../src/WindowManager.vala"
		_tmp51_ = self->priv->tile_preview;
#line 1142 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration (_tmp51_, duration);
#line 1143 "../src/WindowManager.vala"
		_tmp52_ = self->priv->tile_preview;
#line 1143 "../src/WindowManager.vala"
		clutter_actor_set_opacity (_tmp52_, 255U);
#line 1144 "../src/WindowManager.vala"
		_tmp53_ = self->priv->tile_preview;
#line 1144 "../src/WindowManager.vala"
		_tmp54_ = *tile_rect;
#line 1144 "../src/WindowManager.vala"
		_tmp55_ = *tile_rect;
#line 1144 "../src/WindowManager.vala"
		clutter_actor_set_position (_tmp53_, (gfloat) _tmp54_.x, (gfloat) _tmp55_.y);
#line 1145 "../src/WindowManager.vala"
		_tmp56_ = self->priv->tile_preview;
#line 1145 "../src/WindowManager.vala"
		_tmp57_ = *tile_rect;
#line 1145 "../src/WindowManager.vala"
		_tmp58_ = *tile_rect;
#line 1145 "../src/WindowManager.vala"
		clutter_actor_set_size (_tmp56_, (gfloat) _tmp57_.width, (gfloat) _tmp58_.height);
#line 1146 "../src/WindowManager.vala"
		_tmp59_ = self->priv->tile_preview;
#line 1146 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state (_tmp59_);
#line 7297 "WindowManager.c"
	} else {
		ClutterActor* _tmp60_;
#line 1148 "../src/WindowManager.vala"
		_tmp60_ = self->priv->tile_preview;
#line 1148 "../src/WindowManager.vala"
		clutter_actor_set_opacity (_tmp60_, 255U);
#line 7304 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_real_hide_tile_preview (MetaPlugin* base)
{
	GalaWindowManagerGala * self;
	ClutterActor* _tmp0_;
#line 1152 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1153 "../src/WindowManager.vala"
	_tmp0_ = self->priv->tile_preview;
#line 1153 "../src/WindowManager.vala"
	if (_tmp0_ != NULL) {
#line 7319 "WindowManager.c"
		ClutterActor* _tmp1_;
		ClutterActor* _tmp2_;
		ClutterActor* _tmp3_;
#line 1154 "../src/WindowManager.vala"
		_tmp1_ = self->priv->tile_preview;
#line 1154 "../src/WindowManager.vala"
		clutter_actor_remove_all_transitions (_tmp1_);
#line 1155 "../src/WindowManager.vala"
		_tmp2_ = self->priv->tile_preview;
#line 1155 "../src/WindowManager.vala"
		clutter_actor_set_opacity (_tmp2_, 0U);
#line 1156 "../src/WindowManager.vala"
		_tmp3_ = self->priv->tile_preview;
#line 1156 "../src/WindowManager.vala"
		clutter_actor_hide (_tmp3_);
#line 1157 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->tile_preview);
#line 1157 "../src/WindowManager.vala"
		self->priv->tile_preview = NULL;
#line 7339 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_real_show_window_menu_for_rect (MetaPlugin* base,
                                                         MetaWindow* window,
                                                         MetaWindowMenuType menu,
                                                         MtkRectangle* rect)
{
	GalaWindowManagerGala * self;
	MtkRectangle _tmp0_;
	MtkRectangle _tmp1_;
#line 1162 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1162 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 1162 "../src/WindowManager.vala"
	g_return_if_fail (rect != NULL);
#line 1166 "../src/WindowManager.vala"
	_tmp0_ = *rect;
#line 1166 "../src/WindowManager.vala"
	_tmp1_ = *rect;
#line 1166 "../src/WindowManager.vala"
	G_TYPE_INSTANCE_GET_CLASS ((MetaPlugin*) self, meta_plugin_get_type (), MetaPluginClass)->show_window_menu ((MetaPlugin*) self, window, menu, _tmp0_.x, _tmp1_.y);
#line 7364 "WindowManager.c"
}

static void
gala_window_manager_gala_handle_fullscreen_window (GalaWindowManagerGala* self,
                                                   MetaWindow* window,
                                                   MetaSizeChange which_change)
{
	gboolean _tmp0_ = FALSE;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp2_;
	guint32 time = 0U;
	MetaDisplay* _tmp3_;
	MetaWorkspace* win_ws = NULL;
	MetaWorkspace* _tmp4_;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp5_;
	MetaWorkspaceManager* _tmp6_;
#line 1173 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 1173 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 1175 "../src/WindowManager.vala"
	if (!meta_window_is_on_primary_monitor (window)) {
#line 1175 "../src/WindowManager.vala"
		_tmp0_ = TRUE;
#line 7390 "WindowManager.c"
	} else {
		GSettings* _tmp1_;
#line 1175 "../src/WindowManager.vala"
		_tmp1_ = self->priv->behavior_settings;
#line 1175 "../src/WindowManager.vala"
		_tmp0_ = !g_settings_get_boolean (_tmp1_, "move-fullscreened-workspace");
#line 7397 "WindowManager.c"
	}
#line 1175 "../src/WindowManager.vala"
	if (_tmp0_) {
#line 1176 "../src/WindowManager.vala"
		return;
#line 7403 "WindowManager.c"
	}
#line 1181 "../src/WindowManager.vala"
	if (!meta_prefs_get_dynamic_workspaces ()) {
#line 1182 "../src/WindowManager.vala"
		return;
#line 7409 "WindowManager.c"
	}
#line 1184 "../src/WindowManager.vala"
	_tmp2_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1184 "../src/WindowManager.vala"
	display = _tmp2_;
#line 1185 "../src/WindowManager.vala"
	_tmp3_ = display;
#line 1185 "../src/WindowManager.vala"
	time = meta_display_get_current_time (_tmp3_);
#line 1186 "../src/WindowManager.vala"
	_tmp4_ = meta_window_get_workspace (window);
#line 1186 "../src/WindowManager.vala"
	win_ws = _tmp4_;
#line 1187 "../src/WindowManager.vala"
	_tmp5_ = display;
#line 1187 "../src/WindowManager.vala"
	_tmp6_ = meta_display_get_workspace_manager (_tmp5_);
#line 1187 "../src/WindowManager.vala"
	manager = _tmp6_;
#line 1189 "../src/WindowManager.vala"
	if (which_change == META_SIZE_CHANGE_FULLSCREEN) {
#line 7431 "WindowManager.c"
		MetaWorkspace* _tmp7_;
		gint old_ws_index = 0;
		MetaWorkspace* _tmp8_;
		gint new_ws_index = 0;
		MetaWorkspace* new_ws = NULL;
		MetaWorkspaceManager* _tmp9_;
		MetaWorkspace* _tmp10_;
		MetaWorkspace* _tmp11_;
		MetaWorkspace* _tmp12_;
		GHashTable* _tmp13_;
		MetaWindow* _tmp14_;
#line 1191 "../src/WindowManager.vala"
		_tmp7_ = win_ws;
#line 1191 "../src/WindowManager.vala"
		if (gala_utils_get_n_windows (_tmp7_, FALSE) <= ((guint) 1)) {
#line 1192 "../src/WindowManager.vala"
			return;
#line 7449 "WindowManager.c"
		}
#line 1194 "../src/WindowManager.vala"
		_tmp8_ = win_ws;
#line 1194 "../src/WindowManager.vala"
		old_ws_index = meta_workspace_index (_tmp8_);
#line 1195 "../src/WindowManager.vala"
		new_ws_index = old_ws_index + 1;
#line 1196 "../src/WindowManager.vala"
		gala_internal_utils_insert_workspace_with_window (new_ws_index, window);
#line 1198 "../src/WindowManager.vala"
		_tmp9_ = manager;
#line 1198 "../src/WindowManager.vala"
		_tmp10_ = meta_workspace_manager_get_workspace_by_index (_tmp9_, new_ws_index);
#line 1198 "../src/WindowManager.vala"
		new_ws = _tmp10_;
#line 1199 "../src/WindowManager.vala"
		_tmp11_ = new_ws;
#line 1199 "../src/WindowManager.vala"
		meta_window_change_workspace (window, _tmp11_);
#line 1200 "../src/WindowManager.vala"
		_tmp12_ = new_ws;
#line 1200 "../src/WindowManager.vala"
		meta_workspace_activate_with_focus (_tmp12_, window, time);
#line 1202 "../src/WindowManager.vala"
		_tmp13_ = self->priv->ws_assoc;
#line 1202 "../src/WindowManager.vala"
		_tmp14_ = _g_object_ref0 (window);
#line 1202 "../src/WindowManager.vala"
		g_hash_table_insert (_tmp13_, _tmp14_, (gpointer) ((gintptr) old_ws_index));
#line 7479 "WindowManager.c"
	} else {
		GHashTable* _tmp15_;
#line 1203 "../src/WindowManager.vala"
		_tmp15_ = self->priv->ws_assoc;
#line 1203 "../src/WindowManager.vala"
		if (g_hash_table_contains (_tmp15_, window)) {
#line 7486 "WindowManager.c"
			gint old_ws_index = 0;
			GHashTable* _tmp16_;
			gconstpointer _tmp17_;
			gint new_ws_index = 0;
			MetaWorkspace* _tmp18_;
			gboolean _tmp19_ = FALSE;
			GHashTable* _tmp25_;
#line 1204 "../src/WindowManager.vala"
			_tmp16_ = self->priv->ws_assoc;
#line 1204 "../src/WindowManager.vala"
			_tmp17_ = g_hash_table_lookup (_tmp16_, window);
#line 1204 "../src/WindowManager.vala"
			old_ws_index = (gint) ((gintptr) _tmp17_);
#line 1205 "../src/WindowManager.vala"
			_tmp18_ = win_ws;
#line 1205 "../src/WindowManager.vala"
			new_ws_index = meta_workspace_index (_tmp18_);
#line 1207 "../src/WindowManager.vala"
			if (new_ws_index != old_ws_index) {
#line 7506 "WindowManager.c"
				MetaWorkspaceManager* _tmp20_;
#line 1207 "../src/WindowManager.vala"
				_tmp20_ = manager;
#line 1207 "../src/WindowManager.vala"
				_tmp19_ = old_ws_index < meta_workspace_manager_get_n_workspaces (_tmp20_);
#line 7512 "WindowManager.c"
			} else {
#line 1207 "../src/WindowManager.vala"
				_tmp19_ = FALSE;
#line 7516 "WindowManager.c"
			}
#line 1207 "../src/WindowManager.vala"
			if (_tmp19_) {
#line 7520 "WindowManager.c"
				MetaWorkspace* old_ws = NULL;
				MetaWorkspaceManager* _tmp21_;
				MetaWorkspace* _tmp22_;
				MetaWorkspace* _tmp23_;
				MetaWorkspace* _tmp24_;
#line 1208 "../src/WindowManager.vala"
				_tmp21_ = manager;
#line 1208 "../src/WindowManager.vala"
				_tmp22_ = meta_workspace_manager_get_workspace_by_index (_tmp21_, old_ws_index);
#line 1208 "../src/WindowManager.vala"
				old_ws = _tmp22_;
#line 1209 "../src/WindowManager.vala"
				_tmp23_ = old_ws;
#line 1209 "../src/WindowManager.vala"
				meta_window_change_workspace (window, _tmp23_);
#line 1210 "../src/WindowManager.vala"
				_tmp24_ = old_ws;
#line 1210 "../src/WindowManager.vala"
				meta_workspace_activate_with_focus (_tmp24_, window, time);
#line 7540 "WindowManager.c"
			}
#line 1213 "../src/WindowManager.vala"
			_tmp25_ = self->priv->ws_assoc;
#line 1213 "../src/WindowManager.vala"
			g_hash_table_remove (_tmp25_, window);
#line 7546 "WindowManager.c"
		}
	}
}

static MetaSizeChange*
_meta_size_change_dup (MetaSizeChange* self)
{
	MetaSizeChange* dup;
#line 1224 "../src/WindowManager.vala"
	dup = g_new0 (MetaSizeChange, 1);
#line 1224 "../src/WindowManager.vala"
	memcpy (dup, self, sizeof (MetaSizeChange));
#line 1224 "../src/WindowManager.vala"
	return dup;
#line 7561 "WindowManager.c"
}

static gpointer
__meta_size_change_dup0 (gpointer self)
{
#line 1224 "../src/WindowManager.vala"
	return self ? _meta_size_change_dup (self) : NULL;
#line 7569 "WindowManager.c"
}

static void
gala_window_manager_gala_real_size_change (MetaPlugin* base,
                                           MetaWindowActor* actor,
                                           MetaSizeChange which_change_local,
                                           MtkRectangle* old_frame_rect,
                                           MtkRectangle* old_buffer_rect)
{
	GalaWindowManagerGala * self;
	MetaSizeChange* _tmp0_;
	MtkRectangle _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
#line 1220 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1220 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1220 "../src/WindowManager.vala"
	g_return_if_fail (old_frame_rect != NULL);
#line 1220 "../src/WindowManager.vala"
	g_return_if_fail (old_buffer_rect != NULL);
#line 1224 "../src/WindowManager.vala"
	_tmp0_ = __meta_size_change_dup0 (&which_change_local);
#line 1224 "../src/WindowManager.vala"
	_g_free0 (self->priv->which_change);
#line 1224 "../src/WindowManager.vala"
	self->priv->which_change = _tmp0_;
#line 1225 "../src/WindowManager.vala"
	_tmp1_ = *old_frame_rect;
#line 1225 "../src/WindowManager.vala"
	self->priv->old_rect_size_change = _tmp1_;
#line 1227 "../src/WindowManager.vala"
	_tmp2_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1227 "../src/WindowManager.vala"
	_tmp3_ = _tmp2_;
#line 1227 "../src/WindowManager.vala"
	if (_tmp3_) {
#line 7608 "WindowManager.c"
		MtkRectangle _tmp4_;
		ClutterActor* _tmp5_;
#line 1228 "../src/WindowManager.vala"
		_tmp4_ = *old_frame_rect;
#line 1228 "../src/WindowManager.vala"
		_tmp5_ = gala_utils_get_window_actor_snapshot (actor, &_tmp4_);
#line 1228 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->latest_window_snapshot);
#line 1228 "../src/WindowManager.vala"
		self->priv->latest_window_snapshot = _tmp5_;
#line 7619 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_real_size_changed (MetaPlugin* base,
                                            MetaWindowActor* actor)
{
	GalaWindowManagerGala * self;
	MetaSizeChange* _tmp0_;
	MetaSizeChange* which_change_local = NULL;
	MetaSizeChange* _tmp1_;
	MetaSizeChange* _tmp2_;
	MetaWindow* window = NULL;
	MetaWindow* _tmp3_;
	MtkRectangle new_rect = {0};
	MetaWindow* _tmp4_;
	MtkRectangle _tmp5_ = {0};
	MetaSizeChange* _tmp6_;
#line 1233 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1233 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1234 "../src/WindowManager.vala"
	_tmp0_ = self->priv->which_change;
#line 1234 "../src/WindowManager.vala"
	if (_tmp0_ == NULL) {
#line 1235 "../src/WindowManager.vala"
		return;
#line 7648 "WindowManager.c"
	}
#line 1238 "../src/WindowManager.vala"
	_tmp1_ = self->priv->which_change;
#line 1238 "../src/WindowManager.vala"
	_tmp2_ = __meta_size_change_dup0 (_tmp1_);
#line 1238 "../src/WindowManager.vala"
	which_change_local = _tmp2_;
#line 1239 "../src/WindowManager.vala"
	_g_free0 (self->priv->which_change);
#line 1239 "../src/WindowManager.vala"
	self->priv->which_change = NULL;
#line 1241 "../src/WindowManager.vala"
	_tmp3_ = meta_window_actor_get_meta_window (actor);
#line 1241 "../src/WindowManager.vala"
	window = _tmp3_;
#line 1242 "../src/WindowManager.vala"
	_tmp4_ = window;
#line 1242 "../src/WindowManager.vala"
	meta_window_get_frame_rect (_tmp4_, &_tmp5_);
#line 1242 "../src/WindowManager.vala"
	new_rect = _tmp5_;
#line 1244 "../src/WindowManager.vala"
	_tmp6_ = which_change_local;
#line 1244 "../src/WindowManager.vala"
	switch (*_tmp6_) {
#line 1244 "../src/WindowManager.vala"
		case META_SIZE_CHANGE_MAXIMIZE:
#line 7676 "WindowManager.c"
		{
			gboolean _tmp7_ = FALSE;
			MetaWindow* _tmp8_;
			MetaWindow* _tmp9_;
			MtkRectangle _tmp20_;
			MtkRectangle _tmp21_;
			MtkRectangle _tmp22_;
			MtkRectangle _tmp23_;
#line 1247 "../src/WindowManager.vala"
			_tmp8_ = window;
#line 1247 "../src/WindowManager.vala"
			_tmp9_ = meta_window_get_tile_match (_tmp8_);
#line 1247 "../src/WindowManager.vala"
			if (_tmp9_ != NULL) {
#line 7691 "WindowManager.c"
				MetaWindow* _tmp10_;
				gboolean _tmp11_;
				gboolean _tmp12_;
#line 1247 "../src/WindowManager.vala"
				_tmp10_ = window;
#line 1247 "../src/WindowManager.vala"
				g_object_get (_tmp10_, "maximized-horizontally", &_tmp11_, NULL);
#line 1247 "../src/WindowManager.vala"
				_tmp12_ = _tmp11_;
#line 1247 "../src/WindowManager.vala"
				_tmp7_ = !_tmp12_;
#line 7703 "WindowManager.c"
			} else {
#line 1247 "../src/WindowManager.vala"
				_tmp7_ = FALSE;
#line 7707 "WindowManager.c"
			}
#line 1247 "../src/WindowManager.vala"
			if (_tmp7_) {
#line 7711 "WindowManager.c"
				gint old_end = 0;
				MtkRectangle _tmp13_;
				MtkRectangle _tmp14_;
				gint new_end = 0;
				MtkRectangle _tmp15_;
				MtkRectangle _tmp16_;
				gboolean _tmp17_ = FALSE;
				MtkRectangle _tmp18_;
				MtkRectangle _tmp19_;
#line 1248 "../src/WindowManager.vala"
				_tmp13_ = self->priv->old_rect_size_change;
#line 1248 "../src/WindowManager.vala"
				_tmp14_ = self->priv->old_rect_size_change;
#line 1248 "../src/WindowManager.vala"
				old_end = _tmp13_.x + _tmp14_.width;
#line 1249 "../src/WindowManager.vala"
				_tmp15_ = new_rect;
#line 1249 "../src/WindowManager.vala"
				_tmp16_ = new_rect;
#line 1249 "../src/WindowManager.vala"
				new_end = _tmp15_.x + _tmp16_.width;
#line 1252 "../src/WindowManager.vala"
				_tmp18_ = self->priv->old_rect_size_change;
#line 1252 "../src/WindowManager.vala"
				_tmp19_ = new_rect;
#line 1252 "../src/WindowManager.vala"
				if (_tmp18_.x == _tmp19_.x) {
#line 1252 "../src/WindowManager.vala"
					_tmp17_ = TRUE;
#line 7741 "WindowManager.c"
				} else {
#line 1252 "../src/WindowManager.vala"
					_tmp17_ = old_end == new_end;
#line 7745 "WindowManager.c"
				}
#line 1252 "../src/WindowManager.vala"
				if (_tmp17_) {
#line 1253 "../src/WindowManager.vala"
					break;
#line 7751 "WindowManager.c"
				}
			}
#line 1256 "../src/WindowManager.vala"
			_tmp20_ = new_rect;
#line 1256 "../src/WindowManager.vala"
			_tmp21_ = new_rect;
#line 1256 "../src/WindowManager.vala"
			_tmp22_ = new_rect;
#line 1256 "../src/WindowManager.vala"
			_tmp23_ = new_rect;
#line 1256 "../src/WindowManager.vala"
			gala_window_manager_gala_maximize (self, actor, _tmp20_.x, _tmp21_.y, _tmp22_.width, _tmp23_.height);
#line 1257 "../src/WindowManager.vala"
			break;
#line 7766 "WindowManager.c"
		}
#line 1244 "../src/WindowManager.vala"
		case META_SIZE_CHANGE_UNMAXIMIZE:
#line 7770 "WindowManager.c"
		{
			MtkRectangle _tmp24_;
			MtkRectangle _tmp25_;
			MtkRectangle _tmp26_;
			MtkRectangle _tmp27_;
#line 1259 "../src/WindowManager.vala"
			_tmp24_ = new_rect;
#line 1259 "../src/WindowManager.vala"
			_tmp25_ = new_rect;
#line 1259 "../src/WindowManager.vala"
			_tmp26_ = new_rect;
#line 1259 "../src/WindowManager.vala"
			_tmp27_ = new_rect;
#line 1259 "../src/WindowManager.vala"
			gala_window_manager_gala_unmaximize (self, actor, _tmp24_.x, _tmp25_.y, _tmp26_.width, _tmp27_.height);
#line 1260 "../src/WindowManager.vala"
			break;
#line 7788 "WindowManager.c"
		}
#line 1244 "../src/WindowManager.vala"
		case META_SIZE_CHANGE_FULLSCREEN:
#line 1244 "../src/WindowManager.vala"
		case META_SIZE_CHANGE_UNFULLSCREEN:
#line 7794 "WindowManager.c"
		{
			MetaWindow* _tmp28_;
			MetaSizeChange* _tmp29_;
#line 1263 "../src/WindowManager.vala"
			_tmp28_ = window;
#line 1263 "../src/WindowManager.vala"
			_tmp29_ = which_change_local;
#line 1263 "../src/WindowManager.vala"
			gala_window_manager_gala_handle_fullscreen_window (self, _tmp28_, *_tmp29_);
#line 1264 "../src/WindowManager.vala"
			break;
#line 7806 "WindowManager.c"
		}
		default:
#line 1244 "../src/WindowManager.vala"
		break;
#line 7811 "WindowManager.c"
	}
#line 1267 "../src/WindowManager.vala"
	meta_plugin_size_change_completed ((MetaPlugin*) self, actor);
#line 1233 "../src/WindowManager.vala"
	_g_free0 (which_change_local);
#line 7817 "WindowManager.c"
}

static Block13Data*
block13_data_ref (Block13Data* _data13_)
{
#line 1270 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data13_->_ref_count_);
#line 1270 "../src/WindowManager.vala"
	return _data13_;
#line 7827 "WindowManager.c"
}

static void
block13_data_unref (void * _userdata_)
{
	Block13Data* _data13_;
	_data13_ = (Block13Data*) _userdata_;
#line 1270 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data13_->_ref_count_)) {
#line 7837 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1270 "../src/WindowManager.vala"
		self = _data13_->self;
#line 1270 "../src/WindowManager.vala"
		_g_object_unref0 (_data13_->actor);
#line 1270 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 1270 "../src/WindowManager.vala"
		g_slice_free (Block13Data, _data13_);
#line 7847 "WindowManager.c"
	}
}

static Block14Data*
block14_data_ref (Block14Data* _data14_)
{
#line 1291 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data14_->_ref_count_);
#line 1291 "../src/WindowManager.vala"
	return _data14_;
#line 7858 "WindowManager.c"
}

static void
block14_data_unref (void * _userdata_)
{
	Block14Data* _data14_;
	_data14_ = (Block14Data*) _userdata_;
#line 1291 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data14_->_ref_count_)) {
#line 7868 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1291 "../src/WindowManager.vala"
		self = _data14_->_data13_->self;
#line 1291 "../src/WindowManager.vala"
		block13_data_unref (_data14_->_data13_);
#line 1291 "../src/WindowManager.vala"
		_data14_->_data13_ = NULL;
#line 1291 "../src/WindowManager.vala"
		g_slice_free (Block14Data, _data14_);
#line 7878 "WindowManager.c"
	}
}

static void
___lambda190_ (Block14Data* _data14_)
{
	Block13Data* _data13_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1313 "../src/WindowManager.vala"
	_data13_ = _data14_->_data13_;
#line 1313 "../src/WindowManager.vala"
	self = _data13_->self;
#line 1314 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data13_->actor, _data14_->minimize_handler_id);
#line 1315 "../src/WindowManager.vala"
	meta_plugin_minimize_completed ((MetaPlugin*) self, _data13_->actor);
#line 1316 "../src/WindowManager.vala"
	_tmp0_ = self->priv->minimizing;
#line 1316 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data13_->actor);
#line 7900 "WindowManager.c"
}

static void
____lambda190__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1313 "../src/WindowManager.vala"
	___lambda190_ (self);
#line 7909 "WindowManager.c"
}

static Block15Data*
block15_data_ref (Block15Data* _data15_)
{
#line 1291 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data15_->_ref_count_);
#line 1291 "../src/WindowManager.vala"
	return _data15_;
#line 7919 "WindowManager.c"
}

static void
block15_data_unref (void * _userdata_)
{
	Block15Data* _data15_;
	_data15_ = (Block15Data*) _userdata_;
#line 1291 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data15_->_ref_count_)) {
#line 7929 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1291 "../src/WindowManager.vala"
		self = _data15_->_data13_->self;
#line 1291 "../src/WindowManager.vala"
		block13_data_unref (_data15_->_data13_);
#line 1291 "../src/WindowManager.vala"
		_data15_->_data13_ = NULL;
#line 1291 "../src/WindowManager.vala"
		g_slice_free (Block15Data, _data15_);
#line 7939 "WindowManager.c"
	}
}

static void
___lambda191_ (Block15Data* _data15_)
{
	Block13Data* _data13_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1330 "../src/WindowManager.vala"
	_data13_ = _data15_->_data13_;
#line 1330 "../src/WindowManager.vala"
	self = _data13_->self;
#line 1331 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data13_->actor, _data15_->minimize_handler_id);
#line 1332 "../src/WindowManager.vala"
	clutter_actor_set_pivot_point ((ClutterActor*) _data13_->actor, 0.0f, 0.0f);
#line 1333 "../src/WindowManager.vala"
	clutter_actor_set_scale ((ClutterActor*) _data13_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1334 "../src/WindowManager.vala"
	clutter_actor_set_opacity ((ClutterActor*) _data13_->actor, 255U);
#line 1335 "../src/WindowManager.vala"
	meta_plugin_minimize_completed ((MetaPlugin*) self, _data13_->actor);
#line 1336 "../src/WindowManager.vala"
	_tmp0_ = self->priv->minimizing;
#line 1336 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data13_->actor);
#line 7967 "WindowManager.c"
}

static void
____lambda191__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1330 "../src/WindowManager.vala"
	___lambda191_ (self);
#line 7976 "WindowManager.c"
}

static void
gala_window_manager_gala_real_minimize (MetaPlugin* base,
                                        MetaWindowActor* actor)
{
	GalaWindowManagerGala * self;
	Block13Data* _data13_;
	MetaWindowActor* _tmp0_;
	GalaAnimationDuration duration = 0;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_;
	gboolean _tmp4_;
	GeeHashSet* _tmp8_;
	gint width = 0;
	gint height = 0;
	MetaDisplay* _tmp9_;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	MtkRectangle icon = {0};
	MtkRectangle _tmp12_ = {0};
	MetaWindow* _tmp13_;
	MtkRectangle _tmp14_ = {0};
	gboolean _tmp15_;
#line 1270 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1270 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1270 "../src/WindowManager.vala"
	_data13_ = g_slice_new0 (Block13Data);
#line 1270 "../src/WindowManager.vala"
	_data13_->_ref_count_ = 1;
#line 1270 "../src/WindowManager.vala"
	_data13_->self = g_object_ref (self);
#line 1270 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (actor);
#line 1270 "../src/WindowManager.vala"
	_g_object_unref0 (_data13_->actor);
#line 1270 "../src/WindowManager.vala"
	_data13_->actor = _tmp0_;
#line 1271 "../src/WindowManager.vala"
	duration = GALA_ANIMATION_DURATION_HIDE;
#line 1273 "../src/WindowManager.vala"
	_tmp3_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1273 "../src/WindowManager.vala"
	_tmp4_ = _tmp3_;
#line 1273 "../src/WindowManager.vala"
	if (!_tmp4_) {
#line 1273 "../src/WindowManager.vala"
		_tmp2_ = TRUE;
#line 8028 "WindowManager.c"
	} else {
#line 1274 "../src/WindowManager.vala"
		_tmp2_ = duration == 0;
#line 8032 "WindowManager.c"
	}
#line 1273 "../src/WindowManager.vala"
	if (_tmp2_) {
#line 1273 "../src/WindowManager.vala"
		_tmp1_ = TRUE;
#line 8038 "WindowManager.c"
	} else {
		MetaWindow* _tmp5_;
		MetaWindowType _tmp6_;
		MetaWindowType _tmp7_;
#line 1275 "../src/WindowManager.vala"
		_tmp5_ = meta_window_actor_get_meta_window (_data13_->actor);
#line 1275 "../src/WindowManager.vala"
		_tmp6_ = meta_window_get_window_type (_tmp5_);
#line 1275 "../src/WindowManager.vala"
		_tmp7_ = _tmp6_;
#line 1275 "../src/WindowManager.vala"
		_tmp1_ = _tmp7_ != META_WINDOW_NORMAL;
#line 8051 "WindowManager.c"
	}
#line 1273 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 1276 "../src/WindowManager.vala"
		meta_plugin_minimize_completed ((MetaPlugin*) self, _data13_->actor);
#line 1277 "../src/WindowManager.vala"
		block13_data_unref (_data13_);
#line 1277 "../src/WindowManager.vala"
		_data13_ = NULL;
#line 1277 "../src/WindowManager.vala"
		return;
#line 8063 "WindowManager.c"
	}
#line 1280 "../src/WindowManager.vala"
	G_TYPE_INSTANCE_GET_CLASS ((MetaPlugin*) self, meta_plugin_get_type (), MetaPluginClass)->kill_window_effects ((MetaPlugin*) self, _data13_->actor);
#line 1281 "../src/WindowManager.vala"
	_tmp8_ = self->priv->minimizing;
#line 1281 "../src/WindowManager.vala"
	gee_abstract_collection_add ((GeeAbstractCollection*) _tmp8_, _data13_->actor);
#line 1284 "../src/WindowManager.vala"
	_tmp9_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1284 "../src/WindowManager.vala"
	meta_display_get_size (_tmp9_, &_tmp10_, &_tmp11_);
#line 1284 "../src/WindowManager.vala"
	width = _tmp10_;
#line 1284 "../src/WindowManager.vala"
	height = _tmp11_;
#line 1287 "../src/WindowManager.vala"
	icon = _tmp12_;
#line 1291 "../src/WindowManager.vala"
	_tmp13_ = meta_window_actor_get_meta_window (_data13_->actor);
#line 1291 "../src/WindowManager.vala"
	_tmp15_ = meta_window_get_icon_geometry (_tmp13_, &_tmp14_);
#line 1291 "../src/WindowManager.vala"
	icon = _tmp14_;
#line 1291 "../src/WindowManager.vala"
	if (_tmp15_) {
#line 8089 "WindowManager.c"
		Block14Data* _data14_;
		gfloat ui_scale = 0.0F;
		MetaDisplay* _tmp16_;
		MetaDisplay* _tmp17_;
		MtkRectangle _tmp18_;
		MtkRectangle _tmp19_;
		MtkRectangle _tmp20_;
		MtkRectangle _tmp21_;
		MtkRectangle _tmp22_;
		gfloat scale_x = 0.0F;
		MtkRectangle _tmp23_;
		gfloat _tmp24_;
		gfloat _tmp25_;
		gfloat scale_y = 0.0F;
		MtkRectangle _tmp26_;
		gfloat _tmp27_;
		gfloat _tmp28_;
		gfloat anchor_x = 0.0F;
		gfloat _tmp29_;
		gfloat _tmp30_;
		MtkRectangle _tmp31_;
		MtkRectangle _tmp32_;
		gfloat _tmp33_;
		gfloat _tmp34_;
		gfloat anchor_y = 0.0F;
		gfloat _tmp35_;
		gfloat _tmp36_;
		MtkRectangle _tmp37_;
		MtkRectangle _tmp38_;
		gfloat _tmp39_;
		gfloat _tmp40_;
		gulong _tmp41_;
#line 1291 "../src/WindowManager.vala"
		_data14_ = g_slice_new0 (Block14Data);
#line 1291 "../src/WindowManager.vala"
		_data14_->_ref_count_ = 1;
#line 1291 "../src/WindowManager.vala"
		_data14_->_data13_ = block13_data_ref (_data13_);
#line 1293 "../src/WindowManager.vala"
		_tmp16_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1293 "../src/WindowManager.vala"
		_tmp17_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1293 "../src/WindowManager.vala"
		_tmp18_ = icon;
#line 1293 "../src/WindowManager.vala"
		ui_scale = meta_display_get_monitor_scale (_tmp16_, meta_display_get_monitor_index_for_rect (_tmp17_, &_tmp18_));
#line 1294 "../src/WindowManager.vala"
		_tmp19_ = icon;
#line 1294 "../src/WindowManager.vala"
		icon.x = gala_internal_utils_scale_to_int (_tmp19_.x, ui_scale);
#line 1295 "../src/WindowManager.vala"
		_tmp20_ = icon;
#line 1295 "../src/WindowManager.vala"
		icon.y = gala_internal_utils_scale_to_int (_tmp20_.y, ui_scale);
#line 1296 "../src/WindowManager.vala"
		_tmp21_ = icon;
#line 1296 "../src/WindowManager.vala"
		icon.width = gala_internal_utils_scale_to_int (_tmp21_.width, ui_scale);
#line 1297 "../src/WindowManager.vala"
		_tmp22_ = icon;
#line 1297 "../src/WindowManager.vala"
		icon.height = gala_internal_utils_scale_to_int (_tmp22_.height, ui_scale);
#line 1299 "../src/WindowManager.vala"
		_tmp23_ = icon;
#line 1299 "../src/WindowManager.vala"
		_tmp24_ = clutter_actor_get_width ((ClutterActor*) _data13_->actor);
#line 1299 "../src/WindowManager.vala"
		_tmp25_ = _tmp24_;
#line 1299 "../src/WindowManager.vala"
		scale_x = ((gfloat) _tmp23_.width) / _tmp25_;
#line 1300 "../src/WindowManager.vala"
		_tmp26_ = icon;
#line 1300 "../src/WindowManager.vala"
		_tmp27_ = clutter_actor_get_height ((ClutterActor*) _data13_->actor);
#line 1300 "../src/WindowManager.vala"
		_tmp28_ = _tmp27_;
#line 1300 "../src/WindowManager.vala"
		scale_y = ((gfloat) _tmp26_.height) / _tmp28_;
#line 1301 "../src/WindowManager.vala"
		_tmp29_ = clutter_actor_get_x ((ClutterActor*) _data13_->actor);
#line 1301 "../src/WindowManager.vala"
		_tmp30_ = _tmp29_;
#line 1301 "../src/WindowManager.vala"
		_tmp31_ = icon;
#line 1301 "../src/WindowManager.vala"
		_tmp32_ = icon;
#line 1301 "../src/WindowManager.vala"
		_tmp33_ = clutter_actor_get_width ((ClutterActor*) _data13_->actor);
#line 1301 "../src/WindowManager.vala"
		_tmp34_ = _tmp33_;
#line 1301 "../src/WindowManager.vala"
		anchor_x = ((gfloat) (_tmp30_ - _tmp31_.x)) / (_tmp32_.width - _tmp34_);
#line 1302 "../src/WindowManager.vala"
		_tmp35_ = clutter_actor_get_y ((ClutterActor*) _data13_->actor);
#line 1302 "../src/WindowManager.vala"
		_tmp36_ = _tmp35_;
#line 1302 "../src/WindowManager.vala"
		_tmp37_ = icon;
#line 1302 "../src/WindowManager.vala"
		_tmp38_ = icon;
#line 1302 "../src/WindowManager.vala"
		_tmp39_ = clutter_actor_get_height ((ClutterActor*) _data13_->actor);
#line 1302 "../src/WindowManager.vala"
		_tmp40_ = _tmp39_;
#line 1302 "../src/WindowManager.vala"
		anchor_y = ((gfloat) (_tmp36_ - _tmp37_.y)) / (_tmp38_.height - _tmp40_);
#line 1303 "../src/WindowManager.vala"
		clutter_actor_set_pivot_point ((ClutterActor*) _data13_->actor, anchor_x, anchor_y);
#line 1305 "../src/WindowManager.vala"
		clutter_actor_save_easing_state ((ClutterActor*) _data13_->actor);
#line 1306 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode ((ClutterActor*) _data13_->actor, CLUTTER_EASE_IN_EXPO);
#line 1307 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration ((ClutterActor*) _data13_->actor, (guint) duration);
#line 1308 "../src/WindowManager.vala"
		clutter_actor_set_scale ((ClutterActor*) _data13_->actor, (gdouble) scale_x, (gdouble) scale_y);
#line 1309 "../src/WindowManager.vala"
		clutter_actor_set_opacity ((ClutterActor*) _data13_->actor, 0U);
#line 1310 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state ((ClutterActor*) _data13_->actor);
#line 1312 "../src/WindowManager.vala"
		_data14_->minimize_handler_id = 0UL;
#line 1313 "../src/WindowManager.vala"
		_tmp41_ = g_signal_connect_data ((ClutterActor*) _data13_->actor, "transitions-completed", (GCallback) ____lambda190__clutter_actor_transitions_completed, block14_data_ref (_data14_), (GClosureNotify) block14_data_unref, 0);
#line 1313 "../src/WindowManager.vala"
		_data14_->minimize_handler_id = _tmp41_;
#line 1291 "../src/WindowManager.vala"
		block14_data_unref (_data14_);
#line 1291 "../src/WindowManager.vala"
		_data14_ = NULL;
#line 8220 "WindowManager.c"
	} else {
		Block15Data* _data15_;
		gulong _tmp42_;
#line 1291 "../src/WindowManager.vala"
		_data15_ = g_slice_new0 (Block15Data);
#line 1291 "../src/WindowManager.vala"
		_data15_->_ref_count_ = 1;
#line 1291 "../src/WindowManager.vala"
		_data15_->_data13_ = block13_data_ref (_data13_);
#line 1320 "../src/WindowManager.vala"
		clutter_actor_set_pivot_point ((ClutterActor*) _data13_->actor, 0.5f, 1.0f);
#line 1322 "../src/WindowManager.vala"
		clutter_actor_save_easing_state ((ClutterActor*) _data13_->actor);
#line 1323 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode ((ClutterActor*) _data13_->actor, CLUTTER_EASE_IN_EXPO);
#line 1324 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration ((ClutterActor*) _data13_->actor, (guint) duration);
#line 1325 "../src/WindowManager.vala"
		clutter_actor_set_scale ((ClutterActor*) _data13_->actor, (gdouble) 0.0f, (gdouble) 0.0f);
#line 1326 "../src/WindowManager.vala"
		clutter_actor_set_opacity ((ClutterActor*) _data13_->actor, 0U);
#line 1327 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state ((ClutterActor*) _data13_->actor);
#line 1329 "../src/WindowManager.vala"
		_data15_->minimize_handler_id = 0UL;
#line 1330 "../src/WindowManager.vala"
		_tmp42_ = g_signal_connect_data ((ClutterActor*) _data13_->actor, "transitions-completed", (GCallback) ____lambda191__clutter_actor_transitions_completed, block15_data_ref (_data15_), (GClosureNotify) block15_data_unref, 0);
#line 1330 "../src/WindowManager.vala"
		_data15_->minimize_handler_id = _tmp42_;
#line 1291 "../src/WindowManager.vala"
		block15_data_unref (_data15_);
#line 1291 "../src/WindowManager.vala"
		_data15_ = NULL;
#line 8254 "WindowManager.c"
	}
#line 1270 "../src/WindowManager.vala"
	block13_data_unref (_data13_);
#line 1270 "../src/WindowManager.vala"
	_data13_ = NULL;
#line 8260 "WindowManager.c"
}

static Block16Data*
block16_data_ref (Block16Data* _data16_)
{
#line 1341 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data16_->_ref_count_);
#line 1341 "../src/WindowManager.vala"
	return _data16_;
#line 8270 "WindowManager.c"
}

static void
block16_data_unref (void * _userdata_)
{
	Block16Data* _data16_;
	_data16_ = (Block16Data*) _userdata_;
#line 1341 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data16_->_ref_count_)) {
#line 8280 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1341 "../src/WindowManager.vala"
		self = _data16_->self;
#line 1341 "../src/WindowManager.vala"
		_g_object_unref0 (_data16_->actor);
#line 1341 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 1341 "../src/WindowManager.vala"
		g_slice_free (Block16Data, _data16_);
#line 8290 "WindowManager.c"
	}
}

static Block17Data*
block17_data_ref (Block17Data* _data17_)
{
#line 1356 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data17_->_ref_count_);
#line 1356 "../src/WindowManager.vala"
	return _data17_;
#line 8301 "WindowManager.c"
}

static void
block17_data_unref (void * _userdata_)
{
	Block17Data* _data17_;
	_data17_ = (Block17Data*) _userdata_;
#line 1356 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data17_->_ref_count_)) {
#line 8311 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1356 "../src/WindowManager.vala"
		self = _data17_->_data16_->self;
#line 1356 "../src/WindowManager.vala"
		block16_data_unref (_data17_->_data16_);
#line 1356 "../src/WindowManager.vala"
		_data17_->_data16_ = NULL;
#line 1356 "../src/WindowManager.vala"
		g_slice_free (Block17Data, _data17_);
#line 8321 "WindowManager.c"
	}
}

static gboolean
____lambda185_ (Block17Data* _data17_)
{
	Block16Data* _data16_;
	GalaWindowManagerGala* self;
	gboolean result;
#line 1378 "../src/WindowManager.vala"
	_data16_ = _data17_->_data16_;
#line 1378 "../src/WindowManager.vala"
	self = _data16_->self;
#line 1379 "../src/WindowManager.vala"
	clutter_actor_set_opacity ((ClutterActor*) _data16_->actor, (guint) 255);
#line 1380 "../src/WindowManager.vala"
	result = FALSE;
#line 1380 "../src/WindowManager.vala"
	return result;
#line 8341 "WindowManager.c"
}

static gboolean
_____lambda185__gsource_func (gpointer self)
{
	gboolean result;
	result = ____lambda185_ (self);
#line 1378 "../src/WindowManager.vala"
	return result;
#line 8351 "WindowManager.c"
}

static void
___lambda186_ (Block17Data* _data17_)
{
	Block16Data* _data16_;
	GalaWindowManagerGala* self;
	ClutterActor* _tmp0_;
	ClutterActor* _tmp1_;
#line 1402 "../src/WindowManager.vala"
	_data16_ = _data17_->_data16_;
#line 1402 "../src/WindowManager.vala"
	self = _data16_->self;
#line 1403 "../src/WindowManager.vala"
	_tmp0_ = self->priv->latest_window_snapshot;
#line 1403 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _tmp0_, _data17_->maximize_old_handler_id);
#line 1404 "../src/WindowManager.vala"
	_tmp1_ = self->priv->latest_window_snapshot;
#line 1404 "../src/WindowManager.vala"
	clutter_actor_destroy (_tmp1_);
#line 1405 "../src/WindowManager.vala"
	clutter_actor_set_translation ((ClutterActor*) _data16_->actor, 0.0f, 0.0f, 0.0f);
#line 8375 "WindowManager.c"
}

static void
____lambda186__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1402 "../src/WindowManager.vala"
	___lambda186_ (self);
#line 8384 "WindowManager.c"
}

static void
___lambda187_ (Block17Data* _data17_)
{
	Block16Data* _data16_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1422 "../src/WindowManager.vala"
	_data16_ = _data17_->_data16_;
#line 1422 "../src/WindowManager.vala"
	self = _data16_->self;
#line 1423 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data16_->actor, _data17_->handler_id);
#line 1424 "../src/WindowManager.vala"
	_tmp0_ = self->priv->maximizing;
#line 1424 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data16_->actor);
#line 8403 "WindowManager.c"
}

static void
____lambda187__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1422 "../src/WindowManager.vala"
	___lambda187_ (self);
#line 8412 "WindowManager.c"
}

static void
gala_window_manager_gala_maximize (GalaWindowManagerGala* self,
                                   MetaWindowActor* actor,
                                   gint ex,
                                   gint ey,
                                   gint ew,
                                   gint eh)
{
	Block16Data* _data16_;
	MetaWindowActor* _tmp0_;
	GalaAnimationDuration duration = 0;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_;
	gboolean _tmp3_;
	MetaWindow* window = NULL;
	MetaWindow* _tmp4_;
	gboolean _tmp5_ = FALSE;
	MetaWindow* _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	MetaWindow* _tmp11_;
	MetaWindowType _tmp12_;
	MetaWindowType _tmp13_;
#line 1341 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 1341 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1341 "../src/WindowManager.vala"
	_data16_ = g_slice_new0 (Block16Data);
#line 1341 "../src/WindowManager.vala"
	_data16_->_ref_count_ = 1;
#line 1341 "../src/WindowManager.vala"
	_data16_->self = g_object_ref (self);
#line 1341 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (actor);
#line 1341 "../src/WindowManager.vala"
	_g_object_unref0 (_data16_->actor);
#line 1341 "../src/WindowManager.vala"
	_data16_->actor = _tmp0_;
#line 1342 "../src/WindowManager.vala"
	duration = GALA_ANIMATION_DURATION_SNAP;
#line 1344 "../src/WindowManager.vala"
	_tmp2_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1344 "../src/WindowManager.vala"
	_tmp3_ = _tmp2_;
#line 1344 "../src/WindowManager.vala"
	if (!_tmp3_) {
#line 1344 "../src/WindowManager.vala"
		_tmp1_ = TRUE;
#line 8464 "WindowManager.c"
	} else {
#line 1345 "../src/WindowManager.vala"
		_tmp1_ = duration == 0;
#line 8468 "WindowManager.c"
	}
#line 1344 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 1346 "../src/WindowManager.vala"
		block16_data_unref (_data16_);
#line 1346 "../src/WindowManager.vala"
		_data16_ = NULL;
#line 1346 "../src/WindowManager.vala"
		return;
#line 8478 "WindowManager.c"
	}
#line 1349 "../src/WindowManager.vala"
	G_TYPE_INSTANCE_GET_CLASS ((MetaPlugin*) self, meta_plugin_get_type (), MetaPluginClass)->kill_window_effects ((MetaPlugin*) self, _data16_->actor);
#line 1351 "../src/WindowManager.vala"
	_tmp4_ = meta_window_actor_get_meta_window (_data16_->actor);
#line 1351 "../src/WindowManager.vala"
	window = _tmp4_;
#line 1352 "../src/WindowManager.vala"
	_tmp6_ = window;
#line 1352 "../src/WindowManager.vala"
	g_object_get (_tmp6_, "maximized-horizontally", &_tmp7_, NULL);
#line 1352 "../src/WindowManager.vala"
	_tmp8_ = _tmp7_;
#line 1352 "../src/WindowManager.vala"
	if (_tmp8_) {
#line 8494 "WindowManager.c"
		GSettings* _tmp9_;
#line 1352 "../src/WindowManager.vala"
		_tmp9_ = self->priv->behavior_settings;
#line 1352 "../src/WindowManager.vala"
		_tmp5_ = g_settings_get_boolean (_tmp9_, "move-maximized-workspace");
#line 8500 "WindowManager.c"
	} else {
#line 1352 "../src/WindowManager.vala"
		_tmp5_ = FALSE;
#line 8504 "WindowManager.c"
	}
#line 1352 "../src/WindowManager.vala"
	if (_tmp5_) {
#line 8508 "WindowManager.c"
		MetaWindow* _tmp10_;
#line 1353 "../src/WindowManager.vala"
		_tmp10_ = window;
#line 1353 "../src/WindowManager.vala"
		gala_window_manager_gala_move_window_to_next_ws (self, _tmp10_);
#line 8514 "WindowManager.c"
	}
#line 1356 "../src/WindowManager.vala"
	_tmp11_ = window;
#line 1356 "../src/WindowManager.vala"
	_tmp12_ = meta_window_get_window_type (_tmp11_);
#line 1356 "../src/WindowManager.vala"
	_tmp13_ = _tmp12_;
#line 1356 "../src/WindowManager.vala"
	if (_tmp13_ == META_WINDOW_NORMAL) {
#line 8524 "WindowManager.c"
		Block17Data* _data17_;
		ClutterActor* _tmp14_;
		GeeHashSet* _tmp15_;
		ClutterActor* _tmp16_;
		MtkRectangle _tmp17_;
		MtkRectangle _tmp18_;
		ClutterActor* _tmp19_;
		ClutterActor* _tmp20_;
		ClutterActor* _tmp21_;
#line 1373 "../src/WindowManager.vala"
		static const gint FLASH_PREVENT_TIMEOUT = 80;
#line 8536 "WindowManager.c"
		gint delay = 0;
		gdouble scale_x = 0.0;
		MtkRectangle _tmp22_;
		gdouble scale_y = 0.0;
		MtkRectangle _tmp23_;
		ClutterActor* _tmp24_;
		ClutterActor* _tmp25_;
		ClutterActor* _tmp26_;
		ClutterActor* _tmp27_;
		ClutterActor* _tmp28_;
		ClutterActor* _tmp29_;
		ClutterActor* _tmp30_;
		ClutterActor* _tmp31_;
		ClutterActor* _tmp32_;
		ClutterActor* _tmp33_;
		ClutterActor* _tmp34_;
		gulong _tmp35_;
		ClutterActor* _tmp36_;
		MtkRectangle _tmp37_;
		MtkRectangle _tmp38_;
		gulong _tmp39_;
#line 1356 "../src/WindowManager.vala"
		_data17_ = g_slice_new0 (Block17Data);
#line 1356 "../src/WindowManager.vala"
		_data17_->_ref_count_ = 1;
#line 1356 "../src/WindowManager.vala"
		_data17_->_data16_ = block16_data_ref (_data16_);
#line 1357 "../src/WindowManager.vala"
		_tmp14_ = self->priv->latest_window_snapshot;
#line 1357 "../src/WindowManager.vala"
		if (_tmp14_ == NULL) {
#line 1358 "../src/WindowManager.vala"
			block17_data_unref (_data17_);
#line 1358 "../src/WindowManager.vala"
			_data17_ = NULL;
#line 1358 "../src/WindowManager.vala"
			block16_data_unref (_data16_);
#line 1358 "../src/WindowManager.vala"
			_data16_ = NULL;
#line 1358 "../src/WindowManager.vala"
			return;
#line 8578 "WindowManager.c"
		}
#line 1361 "../src/WindowManager.vala"
		_tmp15_ = self->priv->maximizing;
#line 1361 "../src/WindowManager.vala"
		gee_abstract_collection_add ((GeeAbstractCollection*) _tmp15_, _data16_->actor);
#line 1362 "../src/WindowManager.vala"
		_tmp16_ = self->priv->latest_window_snapshot;
#line 1362 "../src/WindowManager.vala"
		_tmp17_ = self->priv->old_rect_size_change;
#line 1362 "../src/WindowManager.vala"
		_tmp18_ = self->priv->old_rect_size_change;
#line 1362 "../src/WindowManager.vala"
		clutter_actor_set_position (_tmp16_, (gfloat) _tmp17_.x, (gfloat) _tmp18_.y);
#line 1364 "../src/WindowManager.vala"
		_tmp19_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 1364 "../src/WindowManager.vala"
		_tmp20_ = _tmp19_;
#line 1364 "../src/WindowManager.vala"
		_tmp21_ = self->priv->latest_window_snapshot;
#line 1364 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp20_, _tmp21_);
#line 1374 "../src/WindowManager.vala"
		delay = 0;
#line 1375 "../src/WindowManager.vala"
		if (FLASH_PREVENT_TIMEOUT <= ((gint) (duration / 3))) {
#line 1376 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data16_->actor, (guint) 0);
#line 1377 "../src/WindowManager.vala"
			delay = FLASH_PREVENT_TIMEOUT;
#line 1378 "../src/WindowManager.vala"
			g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) FLASH_PREVENT_TIMEOUT, _____lambda185__gsource_func, block17_data_ref (_data17_), block17_data_unref);
#line 8610 "WindowManager.c"
		}
#line 1384 "../src/WindowManager.vala"
		_tmp22_ = self->priv->old_rect_size_change;
#line 1384 "../src/WindowManager.vala"
		scale_x = ((gdouble) ew) / _tmp22_.width;
#line 1385 "../src/WindowManager.vala"
		_tmp23_ = self->priv->old_rect_size_change;
#line 1385 "../src/WindowManager.vala"
		scale_y = ((gdouble) eh) / _tmp23_.height;
#line 1387 "../src/WindowManager.vala"
		_tmp24_ = self->priv->latest_window_snapshot;
#line 1387 "../src/WindowManager.vala"
		clutter_actor_save_easing_state (_tmp24_);
#line 1388 "../src/WindowManager.vala"
		_tmp25_ = self->priv->latest_window_snapshot;
#line 1388 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode (_tmp25_, CLUTTER_EASE_IN_OUT_QUAD);
#line 1389 "../src/WindowManager.vala"
		_tmp26_ = self->priv->latest_window_snapshot;
#line 1389 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration (_tmp26_, (guint) duration);
#line 1390 "../src/WindowManager.vala"
		_tmp27_ = self->priv->latest_window_snapshot;
#line 1390 "../src/WindowManager.vala"
		clutter_actor_set_position (_tmp27_, (gfloat) ex, (gfloat) ey);
#line 1391 "../src/WindowManager.vala"
		_tmp28_ = self->priv->latest_window_snapshot;
#line 1391 "../src/WindowManager.vala"
		clutter_actor_set_scale (_tmp28_, scale_x, scale_y);
#line 1395 "../src/WindowManager.vala"
		_tmp29_ = self->priv->latest_window_snapshot;
#line 1395 "../src/WindowManager.vala"
		clutter_actor_save_easing_state (_tmp29_);
#line 1396 "../src/WindowManager.vala"
		_tmp30_ = self->priv->latest_window_snapshot;
#line 1396 "../src/WindowManager.vala"
		clutter_actor_set_easing_delay (_tmp30_, (guint) delay);
#line 1397 "../src/WindowManager.vala"
		_tmp31_ = self->priv->latest_window_snapshot;
#line 1397 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration (_tmp31_, (guint) (duration - delay));
#line 1398 "../src/WindowManager.vala"
		_tmp32_ = self->priv->latest_window_snapshot;
#line 1398 "../src/WindowManager.vala"
		clutter_actor_set_opacity (_tmp32_, (guint) 0);
#line 1399 "../src/WindowManager.vala"
		_tmp33_ = self->priv->latest_window_snapshot;
#line 1399 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state (_tmp33_);
#line 1401 "../src/WindowManager.vala"
		_data17_->maximize_old_handler_id = 0UL;
#line 1402 "../src/WindowManager.vala"
		_tmp34_ = self->priv->latest_window_snapshot;
#line 1402 "../src/WindowManager.vala"
		_tmp35_ = g_signal_connect_data (_tmp34_, "transitions-completed", (GCallback) ____lambda186__clutter_actor_transitions_completed, block17_data_ref (_data17_), (GClosureNotify) block17_data_unref, 0);
#line 1402 "../src/WindowManager.vala"
		_data17_->maximize_old_handler_id = _tmp35_;
#line 1408 "../src/WindowManager.vala"
		_tmp36_ = self->priv->latest_window_snapshot;
#line 1408 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state (_tmp36_);
#line 1410 "../src/WindowManager.vala"
		clutter_actor_set_pivot_point ((ClutterActor*) _data16_->actor, 0.0f, 0.0f);
#line 1411 "../src/WindowManager.vala"
		_tmp37_ = self->priv->old_rect_size_change;
#line 1411 "../src/WindowManager.vala"
		_tmp38_ = self->priv->old_rect_size_change;
#line 1411 "../src/WindowManager.vala"
		clutter_actor_set_translation ((ClutterActor*) _data16_->actor, (gfloat) (_tmp37_.x - ex), (gfloat) (_tmp38_.y - ey), 0.0f);
#line 1412 "../src/WindowManager.vala"
		clutter_actor_set_scale ((ClutterActor*) _data16_->actor, 1.0f / scale_x, 1.0f / scale_y);
#line 1414 "../src/WindowManager.vala"
		clutter_actor_save_easing_state ((ClutterActor*) _data16_->actor);
#line 1415 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode ((ClutterActor*) _data16_->actor, CLUTTER_EASE_IN_OUT_QUAD);
#line 1416 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration ((ClutterActor*) _data16_->actor, (guint) duration);
#line 1417 "../src/WindowManager.vala"
		clutter_actor_set_scale ((ClutterActor*) _data16_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1418 "../src/WindowManager.vala"
		clutter_actor_set_translation ((ClutterActor*) _data16_->actor, 0.0f, 0.0f, 0.0f);
#line 1419 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state ((ClutterActor*) _data16_->actor);
#line 1421 "../src/WindowManager.vala"
		_data17_->handler_id = 0UL;
#line 1422 "../src/WindowManager.vala"
		_tmp39_ = g_signal_connect_data ((ClutterActor*) _data16_->actor, "transitions-completed", (GCallback) ____lambda187__clutter_actor_transitions_completed, block17_data_ref (_data17_), (GClosureNotify) block17_data_unref, 0);
#line 1422 "../src/WindowManager.vala"
		_data17_->handler_id = _tmp39_;
#line 1356 "../src/WindowManager.vala"
		block17_data_unref (_data17_);
#line 1356 "../src/WindowManager.vala"
		_data17_ = NULL;
#line 8704 "WindowManager.c"
	}
#line 1341 "../src/WindowManager.vala"
	block16_data_unref (_data16_);
#line 1341 "../src/WindowManager.vala"
	_data16_ = NULL;
#line 8710 "WindowManager.c"
}

static Block18Data*
block18_data_ref (Block18Data* _data18_)
{
#line 1429 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data18_->_ref_count_);
#line 1429 "../src/WindowManager.vala"
	return _data18_;
#line 8720 "WindowManager.c"
}

static void
block18_data_unref (void * _userdata_)
{
	Block18Data* _data18_;
	_data18_ = (Block18Data*) _userdata_;
#line 1429 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data18_->_ref_count_)) {
#line 8730 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1429 "../src/WindowManager.vala"
		self = _data18_->self;
#line 1429 "../src/WindowManager.vala"
		_g_object_unref0 (_data18_->actor);
#line 1429 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 1429 "../src/WindowManager.vala"
		g_slice_free (Block18Data, _data18_);
#line 8740 "WindowManager.c"
	}
}

static Block19Data*
block19_data_ref (Block19Data* _data19_)
{
#line 1444 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data19_->_ref_count_);
#line 1444 "../src/WindowManager.vala"
	return _data19_;
#line 8751 "WindowManager.c"
}

static void
block19_data_unref (void * _userdata_)
{
	Block19Data* _data19_;
	_data19_ = (Block19Data*) _userdata_;
#line 1444 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data19_->_ref_count_)) {
#line 8761 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1444 "../src/WindowManager.vala"
		self = _data19_->_data18_->self;
#line 1444 "../src/WindowManager.vala"
		block18_data_unref (_data19_->_data18_);
#line 1444 "../src/WindowManager.vala"
		_data19_->_data18_ = NULL;
#line 1444 "../src/WindowManager.vala"
		g_slice_free (Block19Data, _data19_);
#line 8771 "WindowManager.c"
	}
}

static void
___lambda192_ (Block19Data* _data19_)
{
	Block18Data* _data18_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1460 "../src/WindowManager.vala"
	_data18_ = _data19_->_data18_;
#line 1460 "../src/WindowManager.vala"
	self = _data18_->self;
#line 1461 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data18_->actor, _data19_->unminimize_handler_id);
#line 1462 "../src/WindowManager.vala"
	_tmp0_ = self->priv->unminimizing;
#line 1462 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data18_->actor);
#line 1463 "../src/WindowManager.vala"
	meta_plugin_unminimize_completed ((MetaPlugin*) self, _data18_->actor);
#line 8793 "WindowManager.c"
}

static void
____lambda192__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1460 "../src/WindowManager.vala"
	___lambda192_ (self);
#line 8802 "WindowManager.c"
}

static void
gala_window_manager_gala_real_unminimize (MetaPlugin* base,
                                          MetaWindowActor* actor)
{
	GalaWindowManagerGala * self;
	Block18Data* _data18_;
	MetaWindowActor* _tmp0_;
	GalaAnimationDuration duration = 0;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_;
	gboolean _tmp3_;
	MetaWindow* window = NULL;
	MetaWindow* _tmp4_;
	MetaWindow* _tmp5_;
	MetaWindowType _tmp6_;
	MetaWindowType _tmp7_;
#line 1429 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1429 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1429 "../src/WindowManager.vala"
	_data18_ = g_slice_new0 (Block18Data);
#line 1429 "../src/WindowManager.vala"
	_data18_->_ref_count_ = 1;
#line 1429 "../src/WindowManager.vala"
	_data18_->self = g_object_ref (self);
#line 1429 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (actor);
#line 1429 "../src/WindowManager.vala"
	_g_object_unref0 (_data18_->actor);
#line 1429 "../src/WindowManager.vala"
	_data18_->actor = _tmp0_;
#line 1430 "../src/WindowManager.vala"
	duration = GALA_ANIMATION_DURATION_HIDE;
#line 1432 "../src/WindowManager.vala"
	_tmp2_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1432 "../src/WindowManager.vala"
	_tmp3_ = _tmp2_;
#line 1432 "../src/WindowManager.vala"
	if (!_tmp3_) {
#line 1432 "../src/WindowManager.vala"
		_tmp1_ = TRUE;
#line 8847 "WindowManager.c"
	} else {
#line 1433 "../src/WindowManager.vala"
		_tmp1_ = duration == 0;
#line 8851 "WindowManager.c"
	}
#line 1432 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 1434 "../src/WindowManager.vala"
		clutter_actor_show ((ClutterActor*) _data18_->actor);
#line 1435 "../src/WindowManager.vala"
		meta_plugin_unminimize_completed ((MetaPlugin*) self, _data18_->actor);
#line 1436 "../src/WindowManager.vala"
		block18_data_unref (_data18_);
#line 1436 "../src/WindowManager.vala"
		_data18_ = NULL;
#line 1436 "../src/WindowManager.vala"
		return;
#line 8865 "WindowManager.c"
	}
#line 1439 "../src/WindowManager.vala"
	_tmp4_ = meta_window_actor_get_meta_window (_data18_->actor);
#line 1439 "../src/WindowManager.vala"
	window = _tmp4_;
#line 1441 "../src/WindowManager.vala"
	clutter_actor_remove_all_transitions ((ClutterActor*) _data18_->actor);
#line 1442 "../src/WindowManager.vala"
	clutter_actor_show ((ClutterActor*) _data18_->actor);
#line 1444 "../src/WindowManager.vala"
	_tmp5_ = window;
#line 1444 "../src/WindowManager.vala"
	_tmp6_ = meta_window_get_window_type (_tmp5_);
#line 1444 "../src/WindowManager.vala"
	_tmp7_ = _tmp6_;
#line 1444 "../src/WindowManager.vala"
	switch (_tmp7_) {
#line 1444 "../src/WindowManager.vala"
		case META_WINDOW_NORMAL:
#line 8885 "WindowManager.c"
		{
			Block19Data* _data19_;
			GeeHashSet* _tmp8_;
			gulong _tmp9_;
#line 1444 "../src/WindowManager.vala"
			_data19_ = g_slice_new0 (Block19Data);
#line 1444 "../src/WindowManager.vala"
			_data19_->_ref_count_ = 1;
#line 1444 "../src/WindowManager.vala"
			_data19_->_data18_ = block18_data_ref (_data18_);
#line 1446 "../src/WindowManager.vala"
			_tmp8_ = self->priv->unminimizing;
#line 1446 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp8_, _data18_->actor);
#line 1448 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point ((ClutterActor*) _data18_->actor, 0.5f, 1.0f);
#line 1449 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data18_->actor, (gdouble) 0.01f, (gdouble) 0.1f);
#line 1450 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data18_->actor, 0U);
#line 1452 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data18_->actor);
#line 1453 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data18_->actor, CLUTTER_EASE_OUT_EXPO);
#line 1454 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data18_->actor, (guint) duration);
#line 1455 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data18_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1456 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data18_->actor, 255U);
#line 1457 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data18_->actor);
#line 1459 "../src/WindowManager.vala"
			_data19_->unminimize_handler_id = 0UL;
#line 1460 "../src/WindowManager.vala"
			_tmp9_ = g_signal_connect_data ((ClutterActor*) _data18_->actor, "transitions-completed", (GCallback) ____lambda192__clutter_actor_transitions_completed, block19_data_ref (_data19_), (GClosureNotify) block19_data_unref, 0);
#line 1460 "../src/WindowManager.vala"
			_data19_->unminimize_handler_id = _tmp9_;
#line 1466 "../src/WindowManager.vala"
			block19_data_unref (_data19_);
#line 1466 "../src/WindowManager.vala"
			_data19_ = NULL;
#line 1466 "../src/WindowManager.vala"
			break;
#line 8930 "WindowManager.c"
		}
		default:
		{
#line 1468 "../src/WindowManager.vala"
			meta_plugin_unminimize_completed ((MetaPlugin*) self, _data18_->actor);
#line 1469 "../src/WindowManager.vala"
			break;
#line 8938 "WindowManager.c"
		}
	}
#line 1429 "../src/WindowManager.vala"
	block18_data_unref (_data18_);
#line 1429 "../src/WindowManager.vala"
	_data18_ = NULL;
#line 8945 "WindowManager.c"
}

static Block20Data*
block20_data_ref (Block20Data* _data20_)
{
#line 1473 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data20_->_ref_count_);
#line 1473 "../src/WindowManager.vala"
	return _data20_;
#line 8955 "WindowManager.c"
}

static void
block20_data_unref (void * _userdata_)
{
	Block20Data* _data20_;
	_data20_ = (Block20Data*) _userdata_;
#line 1473 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data20_->_ref_count_)) {
#line 8965 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1473 "../src/WindowManager.vala"
		self = _data20_->self;
#line 1473 "../src/WindowManager.vala"
		_g_object_unref0 (_data20_->actor);
#line 1473 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 1473 "../src/WindowManager.vala"
		g_slice_free (Block20Data, _data20_);
#line 8975 "WindowManager.c"
	}
}

static Block21Data*
block21_data_ref (Block21Data* _data21_)
{
#line 1506 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data21_->_ref_count_);
#line 1506 "../src/WindowManager.vala"
	return _data21_;
#line 8986 "WindowManager.c"
}

static void
block21_data_unref (void * _userdata_)
{
	Block21Data* _data21_;
	_data21_ = (Block21Data*) _userdata_;
#line 1506 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data21_->_ref_count_)) {
#line 8996 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1506 "../src/WindowManager.vala"
		self = _data21_->_data20_->self;
#line 1506 "../src/WindowManager.vala"
		block20_data_unref (_data21_->_data20_);
#line 1506 "../src/WindowManager.vala"
		_data21_->_data20_ = NULL;
#line 1506 "../src/WindowManager.vala"
		g_slice_free (Block21Data, _data21_);
#line 9006 "WindowManager.c"
	}
}

static void
___lambda193_ (Block21Data* _data21_)
{
	Block20Data* _data20_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
	MetaWindow* _tmp1_;
#line 1533 "../src/WindowManager.vala"
	_data20_ = _data21_->_data20_;
#line 1533 "../src/WindowManager.vala"
	self = _data20_->self;
#line 1534 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data20_->actor, _data21_->map_handler_id);
#line 1535 "../src/WindowManager.vala"
	_tmp0_ = self->priv->mapping;
#line 1535 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data20_->actor);
#line 1536 "../src/WindowManager.vala"
	meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1538 "../src/WindowManager.vala"
	_tmp1_ = _data20_->window;
#line 1538 "../src/WindowManager.vala"
	if (meta_window_get_layer (_tmp1_) == META_LAYER_BOTTOM) {
#line 9033 "WindowManager.c"
		MetaWindow* _tmp2_;
#line 1539 "../src/WindowManager.vala"
		_tmp2_ = _data20_->window;
#line 1539 "../src/WindowManager.vala"
		gala_window_manager_gala_show_bottom_stack_window (self, _tmp2_);
#line 9039 "WindowManager.c"
	}
}

static void
____lambda193__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1533 "../src/WindowManager.vala"
	___lambda193_ (self);
#line 9049 "WindowManager.c"
}

static Block22Data*
block22_data_ref (Block22Data* _data22_)
{
#line 1506 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data22_->_ref_count_);
#line 1506 "../src/WindowManager.vala"
	return _data22_;
#line 9059 "WindowManager.c"
}

static void
block22_data_unref (void * _userdata_)
{
	Block22Data* _data22_;
	_data22_ = (Block22Data*) _userdata_;
#line 1506 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data22_->_ref_count_)) {
#line 9069 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1506 "../src/WindowManager.vala"
		self = _data22_->_data20_->self;
#line 1506 "../src/WindowManager.vala"
		block20_data_unref (_data22_->_data20_);
#line 1506 "../src/WindowManager.vala"
		_data22_->_data20_ = NULL;
#line 1506 "../src/WindowManager.vala"
		g_slice_free (Block22Data, _data22_);
#line 9079 "WindowManager.c"
	}
}

static void
___lambda194_ (Block22Data* _data22_)
{
	Block20Data* _data20_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1567 "../src/WindowManager.vala"
	_data20_ = _data22_->_data20_;
#line 1567 "../src/WindowManager.vala"
	self = _data20_->self;
#line 1568 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data20_->actor, _data22_->map_handler_id);
#line 1569 "../src/WindowManager.vala"
	_tmp0_ = self->priv->mapping;
#line 1569 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data20_->actor);
#line 1570 "../src/WindowManager.vala"
	meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 9101 "WindowManager.c"
}

static void
____lambda194__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1567 "../src/WindowManager.vala"
	___lambda194_ (self);
#line 9110 "WindowManager.c"
}

static Block23Data*
block23_data_ref (Block23Data* _data23_)
{
#line 1506 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data23_->_ref_count_);
#line 1506 "../src/WindowManager.vala"
	return _data23_;
#line 9120 "WindowManager.c"
}

static void
block23_data_unref (void * _userdata_)
{
	Block23Data* _data23_;
	_data23_ = (Block23Data*) _userdata_;
#line 1506 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data23_->_ref_count_)) {
#line 9130 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1506 "../src/WindowManager.vala"
		self = _data23_->_data20_->self;
#line 1506 "../src/WindowManager.vala"
		block20_data_unref (_data23_->_data20_);
#line 1506 "../src/WindowManager.vala"
		_data23_->_data20_ = NULL;
#line 1506 "../src/WindowManager.vala"
		g_slice_free (Block23Data, _data23_);
#line 9140 "WindowManager.c"
	}
}

static void
___lambda195_ (Block23Data* _data23_)
{
	Block20Data* _data20_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
	MetaWindow* _tmp1_;
#line 1590 "../src/WindowManager.vala"
	_data20_ = _data23_->_data20_;
#line 1590 "../src/WindowManager.vala"
	self = _data20_->self;
#line 1591 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data20_->actor, _data23_->map_handler_id);
#line 1592 "../src/WindowManager.vala"
	_tmp0_ = self->priv->mapping;
#line 1592 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data20_->actor);
#line 1593 "../src/WindowManager.vala"
	meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1595 "../src/WindowManager.vala"
	_tmp1_ = _data20_->window;
#line 1595 "../src/WindowManager.vala"
	if (meta_window_get_layer (_tmp1_) == META_LAYER_BOTTOM) {
#line 9167 "WindowManager.c"
		MetaWindow* _tmp2_;
#line 1596 "../src/WindowManager.vala"
		_tmp2_ = _data20_->window;
#line 1596 "../src/WindowManager.vala"
		gala_window_manager_gala_show_bottom_stack_window (self, _tmp2_);
#line 9173 "WindowManager.c"
	}
}

static void
____lambda195__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1590 "../src/WindowManager.vala"
	___lambda195_ (self);
#line 9183 "WindowManager.c"
}

static void
gala_window_manager_gala_real_map (MetaPlugin* base,
                                   MetaWindowActor* actor)
{
	GalaWindowManagerGala * self;
	Block20Data* _data20_;
	MetaWindowActor* _tmp0_;
	MetaWindow* _tmp1_;
	MetaWindow* _tmp2_;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	MetaWindow* _tmp5_;
	gboolean _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp17_ = FALSE;
	MetaWindow* _tmp18_;
	gconstpointer _tmp19_;
	gboolean _tmp27_;
	gboolean _tmp28_;
	MetaWindow* _tmp33_;
	MetaWindowType _tmp34_;
	MetaWindowType _tmp35_;
#line 1473 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1473 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1473 "../src/WindowManager.vala"
	_data20_ = g_slice_new0 (Block20Data);
#line 1473 "../src/WindowManager.vala"
	_data20_->_ref_count_ = 1;
#line 1473 "../src/WindowManager.vala"
	_data20_->self = g_object_ref (self);
#line 1473 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (actor);
#line 1473 "../src/WindowManager.vala"
	_g_object_unref0 (_data20_->actor);
#line 1473 "../src/WindowManager.vala"
	_data20_->actor = _tmp0_;
#line 1474 "../src/WindowManager.vala"
	_tmp1_ = meta_window_actor_get_meta_window (_data20_->actor);
#line 1474 "../src/WindowManager.vala"
	_data20_->window = _tmp1_;
#line 1476 "../src/WindowManager.vala"
	_tmp2_ = _data20_->window;
#line 1476 "../src/WindowManager.vala"
	gala_window_state_saver_on_map (_tmp2_);
#line 1478 "../src/WindowManager.vala"
	_tmp5_ = _data20_->window;
#line 1478 "../src/WindowManager.vala"
	g_object_get (_tmp5_, "maximized-horizontally", &_tmp6_, NULL);
#line 1478 "../src/WindowManager.vala"
	_tmp7_ = _tmp6_;
#line 1478 "../src/WindowManager.vala"
	if (_tmp7_) {
#line 9240 "WindowManager.c"
		GSettings* _tmp8_;
#line 1478 "../src/WindowManager.vala"
		_tmp8_ = self->priv->behavior_settings;
#line 1478 "../src/WindowManager.vala"
		_tmp4_ = g_settings_get_boolean (_tmp8_, "move-maximized-workspace");
#line 9246 "WindowManager.c"
	} else {
#line 1478 "../src/WindowManager.vala"
		_tmp4_ = FALSE;
#line 9250 "WindowManager.c"
	}
#line 1478 "../src/WindowManager.vala"
	if (_tmp4_) {
#line 1478 "../src/WindowManager.vala"
		_tmp3_ = TRUE;
#line 9256 "WindowManager.c"
	} else {
		gboolean _tmp9_ = FALSE;
		gboolean _tmp10_ = FALSE;
		MetaWindow* _tmp11_;
		gboolean _tmp12_;
		gboolean _tmp13_;
#line 1479 "../src/WindowManager.vala"
		_tmp11_ = _data20_->window;
#line 1479 "../src/WindowManager.vala"
		g_object_get (_tmp11_, "fullscreen", &_tmp12_, NULL);
#line 1479 "../src/WindowManager.vala"
		_tmp13_ = _tmp12_;
#line 1479 "../src/WindowManager.vala"
		if (_tmp13_) {
#line 9271 "WindowManager.c"
			MetaWindow* _tmp14_;
#line 1479 "../src/WindowManager.vala"
			_tmp14_ = _data20_->window;
#line 1479 "../src/WindowManager.vala"
			_tmp10_ = meta_window_is_on_primary_monitor (_tmp14_);
#line 9277 "WindowManager.c"
		} else {
#line 1479 "../src/WindowManager.vala"
			_tmp10_ = FALSE;
#line 9281 "WindowManager.c"
		}
#line 1479 "../src/WindowManager.vala"
		if (_tmp10_) {
#line 9285 "WindowManager.c"
			GSettings* _tmp15_;
#line 1479 "../src/WindowManager.vala"
			_tmp15_ = self->priv->behavior_settings;
#line 1479 "../src/WindowManager.vala"
			_tmp9_ = g_settings_get_boolean (_tmp15_, "move-fullscreened-workspace");
#line 9291 "WindowManager.c"
		} else {
#line 1479 "../src/WindowManager.vala"
			_tmp9_ = FALSE;
#line 9295 "WindowManager.c"
		}
#line 1479 "../src/WindowManager.vala"
		_tmp3_ = _tmp9_;
#line 9299 "WindowManager.c"
	}
#line 1478 "../src/WindowManager.vala"
	if (_tmp3_) {
#line 9303 "WindowManager.c"
		MetaWindow* _tmp16_;
#line 1480 "../src/WindowManager.vala"
		_tmp16_ = _data20_->window;
#line 1480 "../src/WindowManager.vala"
		gala_window_manager_gala_move_window_to_next_ws (self, _tmp16_);
#line 9309 "WindowManager.c"
	}
#line 1483 "../src/WindowManager.vala"
	clutter_actor_remove_all_transitions ((ClutterActor*) _data20_->actor);
#line 1484 "../src/WindowManager.vala"
	clutter_actor_show ((ClutterActor*) _data20_->actor);
#line 1488 "../src/WindowManager.vala"
	_tmp18_ = _data20_->window;
#line 1488 "../src/WindowManager.vala"
	_tmp19_ = g_object_get_data ((GObject*) _tmp18_, GALA_NOTIFICATION_DATA_KEY);
#line 1488 "../src/WindowManager.vala"
	if ((gboolean) ((gintptr) _tmp19_)) {
#line 1488 "../src/WindowManager.vala"
		_tmp17_ = TRUE;
#line 9323 "WindowManager.c"
	} else {
		MetaWindow* _tmp20_;
		MetaWindowType _tmp21_;
		MetaWindowType _tmp22_;
#line 1488 "../src/WindowManager.vala"
		_tmp20_ = _data20_->window;
#line 1488 "../src/WindowManager.vala"
		_tmp21_ = meta_window_get_window_type (_tmp20_);
#line 1488 "../src/WindowManager.vala"
		_tmp22_ = _tmp21_;
#line 1488 "../src/WindowManager.vala"
		_tmp17_ = _tmp22_ == META_WINDOW_NOTIFICATION;
#line 9336 "WindowManager.c"
	}
#line 1488 "../src/WindowManager.vala"
	if (_tmp17_) {
#line 9340 "WindowManager.c"
		ClutterActor* _tmp23_;
		GalaNotificationStack* _tmp24_;
		gboolean _tmp25_;
		gboolean _tmp26_;
#line 1489 "../src/WindowManager.vala"
		_tmp23_ = self->priv->_notification_group;
#line 1489 "../src/WindowManager.vala"
		gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _data20_->actor, _tmp23_);
#line 1490 "../src/WindowManager.vala"
		_tmp24_ = self->priv->notification_stack;
#line 1490 "../src/WindowManager.vala"
		_tmp25_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1490 "../src/WindowManager.vala"
		_tmp26_ = _tmp25_;
#line 1490 "../src/WindowManager.vala"
		gala_notification_stack_show_notification (_tmp24_, _data20_->actor, _tmp26_);
#line 1492 "../src/WindowManager.vala"
		meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1493 "../src/WindowManager.vala"
		block20_data_unref (_data20_);
#line 1493 "../src/WindowManager.vala"
		_data20_ = NULL;
#line 1493 "../src/WindowManager.vala"
		return;
#line 9365 "WindowManager.c"
	}
#line 1496 "../src/WindowManager.vala"
	_tmp27_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1496 "../src/WindowManager.vala"
	_tmp28_ = _tmp27_;
#line 1496 "../src/WindowManager.vala"
	if (!_tmp28_) {
#line 9373 "WindowManager.c"
		gboolean _tmp29_ = FALSE;
		MetaWindow* _tmp30_;
#line 1497 "../src/WindowManager.vala"
		meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1499 "../src/WindowManager.vala"
		_tmp30_ = _data20_->window;
#line 1499 "../src/WindowManager.vala"
		if (gala_internal_utils_get_window_is_normal (_tmp30_)) {
#line 9382 "WindowManager.c"
			MetaWindow* _tmp31_;
#line 1499 "../src/WindowManager.vala"
			_tmp31_ = _data20_->window;
#line 1499 "../src/WindowManager.vala"
			_tmp29_ = meta_window_get_layer (_tmp31_) == META_LAYER_BOTTOM;
#line 9388 "WindowManager.c"
		} else {
#line 1499 "../src/WindowManager.vala"
			_tmp29_ = FALSE;
#line 9392 "WindowManager.c"
		}
#line 1499 "../src/WindowManager.vala"
		if (_tmp29_) {
#line 9396 "WindowManager.c"
			MetaWindow* _tmp32_;
#line 1500 "../src/WindowManager.vala"
			_tmp32_ = _data20_->window;
#line 1500 "../src/WindowManager.vala"
			gala_window_manager_gala_show_bottom_stack_window (self, _tmp32_);
#line 9402 "WindowManager.c"
		}
#line 1503 "../src/WindowManager.vala"
		block20_data_unref (_data20_);
#line 1503 "../src/WindowManager.vala"
		_data20_ = NULL;
#line 1503 "../src/WindowManager.vala"
		return;
#line 9410 "WindowManager.c"
	}
#line 1506 "../src/WindowManager.vala"
	_tmp33_ = _data20_->window;
#line 1506 "../src/WindowManager.vala"
	_tmp34_ = meta_window_get_window_type (_tmp33_);
#line 1506 "../src/WindowManager.vala"
	_tmp35_ = _tmp34_;
#line 1506 "../src/WindowManager.vala"
	switch (_tmp35_) {
#line 1506 "../src/WindowManager.vala"
		case META_WINDOW_NORMAL:
#line 9422 "WindowManager.c"
		{
			Block21Data* _data21_;
			GalaAnimationDuration duration = 0;
			GeeHashSet* _tmp36_;
			gboolean _tmp37_ = FALSE;
			MetaWindow* _tmp38_;
			gboolean _tmp39_;
			gboolean _tmp40_;
			gulong _tmp48_;
#line 1506 "../src/WindowManager.vala"
			_data21_ = g_slice_new0 (Block21Data);
#line 1506 "../src/WindowManager.vala"
			_data21_->_ref_count_ = 1;
#line 1506 "../src/WindowManager.vala"
			_data21_->_data20_ = block20_data_ref (_data20_);
#line 1508 "../src/WindowManager.vala"
			duration = GALA_ANIMATION_DURATION_HIDE;
#line 1509 "../src/WindowManager.vala"
			if (duration == 0) {
#line 1510 "../src/WindowManager.vala"
				meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1511 "../src/WindowManager.vala"
				block21_data_unref (_data21_);
#line 1511 "../src/WindowManager.vala"
				_data21_ = NULL;
#line 1511 "../src/WindowManager.vala"
				block20_data_unref (_data20_);
#line 1511 "../src/WindowManager.vala"
				_data20_ = NULL;
#line 1511 "../src/WindowManager.vala"
				return;
#line 9454 "WindowManager.c"
			}
#line 1514 "../src/WindowManager.vala"
			_tmp36_ = self->priv->mapping;
#line 1514 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp36_, _data20_->actor);
#line 1516 "../src/WindowManager.vala"
			_tmp38_ = _data20_->window;
#line 1516 "../src/WindowManager.vala"
			g_object_get (_tmp38_, "maximized-vertically", &_tmp39_, NULL);
#line 1516 "../src/WindowManager.vala"
			_tmp40_ = _tmp39_;
#line 1516 "../src/WindowManager.vala"
			if (_tmp40_) {
#line 1516 "../src/WindowManager.vala"
				_tmp37_ = TRUE;
#line 9470 "WindowManager.c"
			} else {
				MetaWindow* _tmp41_;
				gboolean _tmp42_;
				gboolean _tmp43_;
#line 1516 "../src/WindowManager.vala"
				_tmp41_ = _data20_->window;
#line 1516 "../src/WindowManager.vala"
				g_object_get (_tmp41_, "maximized-horizontally", &_tmp42_, NULL);
#line 1516 "../src/WindowManager.vala"
				_tmp43_ = _tmp42_;
#line 1516 "../src/WindowManager.vala"
				_tmp37_ = _tmp43_;
#line 9483 "WindowManager.c"
			}
#line 1516 "../src/WindowManager.vala"
			if (_tmp37_) {
#line 9487 "WindowManager.c"
				MtkRectangle outer_rect = {0};
				MetaWindow* _tmp44_;
				MtkRectangle _tmp45_ = {0};
				MtkRectangle _tmp46_;
				MtkRectangle _tmp47_;
#line 1517 "../src/WindowManager.vala"
				_tmp44_ = _data20_->window;
#line 1517 "../src/WindowManager.vala"
				meta_window_get_frame_rect (_tmp44_, &_tmp45_);
#line 1517 "../src/WindowManager.vala"
				outer_rect = _tmp45_;
#line 1518 "../src/WindowManager.vala"
				_tmp46_ = outer_rect;
#line 1518 "../src/WindowManager.vala"
				_tmp47_ = outer_rect;
#line 1518 "../src/WindowManager.vala"
				clutter_actor_set_position ((ClutterActor*) _data20_->actor, (gfloat) _tmp46_.x, (gfloat) _tmp47_.y);
#line 9505 "WindowManager.c"
			}
#line 1521 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point ((ClutterActor*) _data20_->actor, 0.5f, 1.0f);
#line 1522 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data20_->actor, (gdouble) 0.01f, (gdouble) 0.1f);
#line 1523 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data20_->actor, (guint) 0);
#line 1525 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data20_->actor);
#line 1526 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data20_->actor, CLUTTER_EASE_OUT_EXPO);
#line 1527 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data20_->actor, (guint) duration);
#line 1528 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data20_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1529 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data20_->actor, 255U);
#line 1530 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data20_->actor);
#line 1532 "../src/WindowManager.vala"
			_data21_->map_handler_id = 0UL;
#line 1533 "../src/WindowManager.vala"
			_tmp48_ = g_signal_connect_data ((ClutterActor*) _data20_->actor, "transitions-completed", (GCallback) ____lambda193__clutter_actor_transitions_completed, block21_data_ref (_data21_), (GClosureNotify) block21_data_unref, 0);
#line 1533 "../src/WindowManager.vala"
			_data21_->map_handler_id = _tmp48_;
#line 1542 "../src/WindowManager.vala"
			block21_data_unref (_data21_);
#line 1542 "../src/WindowManager.vala"
			_data21_ = NULL;
#line 1542 "../src/WindowManager.vala"
			break;
#line 9537 "WindowManager.c"
		}
#line 1506 "../src/WindowManager.vala"
		case META_WINDOW_MENU:
#line 1506 "../src/WindowManager.vala"
		case META_WINDOW_DROPDOWN_MENU:
#line 1506 "../src/WindowManager.vala"
		case META_WINDOW_POPUP_MENU:
#line 9545 "WindowManager.c"
		{
			Block22Data* _data22_;
			GalaAnimationDuration duration = 0;
			GeeHashSet* _tmp49_;
			gulong _tmp50_;
#line 1506 "../src/WindowManager.vala"
			_data22_ = g_slice_new0 (Block22Data);
#line 1506 "../src/WindowManager.vala"
			_data22_->_ref_count_ = 1;
#line 1506 "../src/WindowManager.vala"
			_data22_->_data20_ = block20_data_ref (_data20_);
#line 1546 "../src/WindowManager.vala"
			duration = GALA_ANIMATION_DURATION_MENU_MAP;
#line 1547 "../src/WindowManager.vala"
			if (duration == 0) {
#line 1548 "../src/WindowManager.vala"
				meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1549 "../src/WindowManager.vala"
				block22_data_unref (_data22_);
#line 1549 "../src/WindowManager.vala"
				_data22_ = NULL;
#line 1549 "../src/WindowManager.vala"
				block20_data_unref (_data20_);
#line 1549 "../src/WindowManager.vala"
				_data20_ = NULL;
#line 1549 "../src/WindowManager.vala"
				return;
#line 9573 "WindowManager.c"
			}
#line 1552 "../src/WindowManager.vala"
			_tmp49_ = self->priv->mapping;
#line 1552 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp49_, _data20_->actor);
#line 1554 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point ((ClutterActor*) _data20_->actor, 0.5f, 0.5f);
#line 1555 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point_z ((ClutterActor*) _data20_->actor, 0.2f);
#line 1556 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data20_->actor, (gdouble) 0.9f, (gdouble) 0.9f);
#line 1557 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data20_->actor, (guint) 0);
#line 1559 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data20_->actor);
#line 1560 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data20_->actor, CLUTTER_EASE_OUT_QUAD);
#line 1561 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data20_->actor, (guint) duration);
#line 1562 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data20_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1563 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data20_->actor, 255U);
#line 1564 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data20_->actor);
#line 1566 "../src/WindowManager.vala"
			_data22_->map_handler_id = 0UL;
#line 1567 "../src/WindowManager.vala"
			_tmp50_ = g_signal_connect_data ((ClutterActor*) _data20_->actor, "transitions-completed", (GCallback) ____lambda194__clutter_actor_transitions_completed, block22_data_ref (_data22_), (GClosureNotify) block22_data_unref, 0);
#line 1567 "../src/WindowManager.vala"
			_data22_->map_handler_id = _tmp50_;
#line 1572 "../src/WindowManager.vala"
			block22_data_unref (_data22_);
#line 1572 "../src/WindowManager.vala"
			_data22_ = NULL;
#line 1572 "../src/WindowManager.vala"
			break;
#line 9611 "WindowManager.c"
		}
#line 1506 "../src/WindowManager.vala"
		case META_WINDOW_MODAL_DIALOG:
#line 1506 "../src/WindowManager.vala"
		case META_WINDOW_DIALOG:
#line 9617 "WindowManager.c"
		{
			Block23Data* _data23_;
			GeeHashSet* _tmp51_;
			gulong _tmp52_;
			MetaWindow* _tmp53_;
#line 1506 "../src/WindowManager.vala"
			_data23_ = g_slice_new0 (Block23Data);
#line 1506 "../src/WindowManager.vala"
			_data23_->_ref_count_ = 1;
#line 1506 "../src/WindowManager.vala"
			_data23_->_data20_ = block20_data_ref (_data20_);
#line 1576 "../src/WindowManager.vala"
			_tmp51_ = self->priv->mapping;
#line 1576 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp51_, _data20_->actor);
#line 1578 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point ((ClutterActor*) _data20_->actor, 0.5f, 0.5f);
#line 1579 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data20_->actor, (gdouble) 1.05f, (gdouble) 1.05f);
#line 1580 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data20_->actor, (guint) 0);
#line 1582 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data20_->actor);
#line 1583 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data20_->actor, CLUTTER_EASE_OUT_QUAD);
#line 1584 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data20_->actor, (guint) 200);
#line 1585 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data20_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1586 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data20_->actor, 255U);
#line 1587 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data20_->actor);
#line 1589 "../src/WindowManager.vala"
			_data23_->map_handler_id = 0UL;
#line 1590 "../src/WindowManager.vala"
			_tmp52_ = g_signal_connect_data ((ClutterActor*) _data20_->actor, "transitions-completed", (GCallback) ____lambda195__clutter_actor_transitions_completed, block23_data_ref (_data23_), (GClosureNotify) block23_data_unref, 0);
#line 1590 "../src/WindowManager.vala"
			_data23_->map_handler_id = _tmp52_;
#line 1600 "../src/WindowManager.vala"
			_tmp53_ = _data20_->window;
#line 1600 "../src/WindowManager.vala"
			gala_window_manager_gala_dim_parent_window (self, _tmp53_);
#line 1602 "../src/WindowManager.vala"
			block23_data_unref (_data23_);
#line 1602 "../src/WindowManager.vala"
			_data23_ = NULL;
#line 1602 "../src/WindowManager.vala"
			break;
#line 9667 "WindowManager.c"
		}
		default:
		{
#line 1604 "../src/WindowManager.vala"
			meta_plugin_map_completed ((MetaPlugin*) self, _data20_->actor);
#line 1605 "../src/WindowManager.vala"
			break;
#line 9675 "WindowManager.c"
		}
	}
#line 1473 "../src/WindowManager.vala"
	block20_data_unref (_data20_);
#line 1473 "../src/WindowManager.vala"
	_data20_ = NULL;
#line 9682 "WindowManager.c"
}

static Block24Data*
block24_data_ref (Block24Data* _data24_)
{
#line 1609 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data24_->_ref_count_);
#line 1609 "../src/WindowManager.vala"
	return _data24_;
#line 9692 "WindowManager.c"
}

static void
block24_data_unref (void * _userdata_)
{
	Block24Data* _data24_;
	_data24_ = (Block24Data*) _userdata_;
#line 1609 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data24_->_ref_count_)) {
#line 9702 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1609 "../src/WindowManager.vala"
		self = _data24_->self;
#line 1609 "../src/WindowManager.vala"
		_g_object_unref0 (_data24_->actor);
#line 1609 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 1609 "../src/WindowManager.vala"
		g_slice_free (Block24Data, _data24_);
#line 9712 "WindowManager.c"
	}
}

static Block25Data*
block25_data_ref (Block25Data* _data25_)
{
#line 1623 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data25_->_ref_count_);
#line 1623 "../src/WindowManager.vala"
	return _data25_;
#line 9723 "WindowManager.c"
}

static void
block25_data_unref (void * _userdata_)
{
	Block25Data* _data25_;
	_data25_ = (Block25Data*) _userdata_;
#line 1623 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data25_->_ref_count_)) {
#line 9733 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1623 "../src/WindowManager.vala"
		self = _data25_->_data24_->self;
#line 1623 "../src/WindowManager.vala"
		block24_data_unref (_data25_->_data24_);
#line 1623 "../src/WindowManager.vala"
		_data25_->_data24_ = NULL;
#line 1623 "../src/WindowManager.vala"
		g_slice_free (Block25Data, _data25_);
#line 9743 "WindowManager.c"
	}
}

static void
____lambda196_ (Block25Data* _data25_)
{
	Block24Data* _data24_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1625 "../src/WindowManager.vala"
	_data24_ = _data25_->_data24_;
#line 1625 "../src/WindowManager.vala"
	self = _data24_->self;
#line 1626 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data24_->actor, _data25_->destroy_handler_id);
#line 1627 "../src/WindowManager.vala"
	_tmp0_ = self->priv->destroying;
#line 1627 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data24_->actor);
#line 1628 "../src/WindowManager.vala"
	meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 9765 "WindowManager.c"
}

static void
_____lambda196__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                     gpointer self)
{
#line 1625 "../src/WindowManager.vala"
	____lambda196_ (self);
#line 9774 "WindowManager.c"
}

static Block26Data*
block26_data_ref (Block26Data* _data26_)
{
#line 1647 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data26_->_ref_count_);
#line 1647 "../src/WindowManager.vala"
	return _data26_;
#line 9784 "WindowManager.c"
}

static void
block26_data_unref (void * _userdata_)
{
	Block26Data* _data26_;
	_data26_ = (Block26Data*) _userdata_;
#line 1647 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data26_->_ref_count_)) {
#line 9794 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1647 "../src/WindowManager.vala"
		self = _data26_->_data24_->self;
#line 1647 "../src/WindowManager.vala"
		block24_data_unref (_data26_->_data24_);
#line 1647 "../src/WindowManager.vala"
		_data26_->_data24_ = NULL;
#line 1647 "../src/WindowManager.vala"
		g_slice_free (Block26Data, _data26_);
#line 9804 "WindowManager.c"
	}
}

static void
___lambda197_ (Block26Data* _data26_)
{
	Block24Data* _data24_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
	MetaWindow* _tmp1_;
#line 1668 "../src/WindowManager.vala"
	_data24_ = _data26_->_data24_;
#line 1668 "../src/WindowManager.vala"
	self = _data24_->self;
#line 1669 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data24_->actor, _data26_->destroy_handler_id);
#line 1670 "../src/WindowManager.vala"
	_tmp0_ = self->priv->destroying;
#line 1670 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data24_->actor);
#line 1671 "../src/WindowManager.vala"
	meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 1672 "../src/WindowManager.vala"
	_tmp1_ = _data24_->window;
#line 1672 "../src/WindowManager.vala"
	gala_utils_clear_window_cache (_tmp1_);
#line 9831 "WindowManager.c"
}

static void
____lambda197__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1668 "../src/WindowManager.vala"
	___lambda197_ (self);
#line 9840 "WindowManager.c"
}

static Block27Data*
block27_data_ref (Block27Data* _data27_)
{
#line 1647 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data27_->_ref_count_);
#line 1647 "../src/WindowManager.vala"
	return _data27_;
#line 9850 "WindowManager.c"
}

static void
block27_data_unref (void * _userdata_)
{
	Block27Data* _data27_;
	_data27_ = (Block27Data*) _userdata_;
#line 1647 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data27_->_ref_count_)) {
#line 9860 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1647 "../src/WindowManager.vala"
		self = _data27_->_data24_->self;
#line 1647 "../src/WindowManager.vala"
		block24_data_unref (_data27_->_data24_);
#line 1647 "../src/WindowManager.vala"
		_data27_->_data24_ = NULL;
#line 1647 "../src/WindowManager.vala"
		g_slice_free (Block27Data, _data27_);
#line 9870 "WindowManager.c"
	}
}

static void
___lambda198_ (Block27Data* _data27_)
{
	Block24Data* _data24_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1688 "../src/WindowManager.vala"
	_data24_ = _data27_->_data24_;
#line 1688 "../src/WindowManager.vala"
	self = _data24_->self;
#line 1689 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data24_->actor, _data27_->destroy_handler_id);
#line 1690 "../src/WindowManager.vala"
	_tmp0_ = self->priv->destroying;
#line 1690 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data24_->actor);
#line 1691 "../src/WindowManager.vala"
	meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 9892 "WindowManager.c"
}

static void
____lambda198__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1688 "../src/WindowManager.vala"
	___lambda198_ (self);
#line 9901 "WindowManager.c"
}

static Block28Data*
block28_data_ref (Block28Data* _data28_)
{
#line 1647 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data28_->_ref_count_);
#line 1647 "../src/WindowManager.vala"
	return _data28_;
#line 9911 "WindowManager.c"
}

static void
block28_data_unref (void * _userdata_)
{
	Block28Data* _data28_;
	_data28_ = (Block28Data*) _userdata_;
#line 1647 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data28_->_ref_count_)) {
#line 9921 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1647 "../src/WindowManager.vala"
		self = _data28_->_data24_->self;
#line 1647 "../src/WindowManager.vala"
		block24_data_unref (_data28_->_data24_);
#line 1647 "../src/WindowManager.vala"
		_data28_->_data24_ = NULL;
#line 1647 "../src/WindowManager.vala"
		g_slice_free (Block28Data, _data28_);
#line 9931 "WindowManager.c"
	}
}

static void
___lambda199_ (Block28Data* _data28_)
{
	Block24Data* _data24_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1713 "../src/WindowManager.vala"
	_data24_ = _data28_->_data24_;
#line 1713 "../src/WindowManager.vala"
	self = _data24_->self;
#line 1714 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data24_->actor, _data28_->destroy_handler_id);
#line 1715 "../src/WindowManager.vala"
	_tmp0_ = self->priv->destroying;
#line 1715 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data24_->actor);
#line 1716 "../src/WindowManager.vala"
	meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 9953 "WindowManager.c"
}

static void
____lambda199__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1713 "../src/WindowManager.vala"
	___lambda199_ (self);
#line 9962 "WindowManager.c"
}

static void
gala_window_manager_gala_real_destroy (MetaPlugin* base,
                                       MetaWindowActor* actor)
{
	GalaWindowManagerGala * self;
	Block24Data* _data24_;
	MetaWindowActor* _tmp0_;
	MetaWindow* _tmp1_;
	GHashTable* _tmp2_;
	MetaWindow* _tmp3_;
	gboolean _tmp4_ = FALSE;
	MetaWindow* _tmp5_;
	gconstpointer _tmp6_;
	gboolean _tmp19_;
	gboolean _tmp20_;
	MetaWindow* _tmp25_;
	MetaWindowType _tmp26_;
	MetaWindowType _tmp27_;
#line 1609 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1609 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1609 "../src/WindowManager.vala"
	_data24_ = g_slice_new0 (Block24Data);
#line 1609 "../src/WindowManager.vala"
	_data24_->_ref_count_ = 1;
#line 1609 "../src/WindowManager.vala"
	_data24_->self = g_object_ref (self);
#line 1609 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (actor);
#line 1609 "../src/WindowManager.vala"
	_g_object_unref0 (_data24_->actor);
#line 1609 "../src/WindowManager.vala"
	_data24_->actor = _tmp0_;
#line 1610 "../src/WindowManager.vala"
	_tmp1_ = meta_window_actor_get_meta_window (_data24_->actor);
#line 1610 "../src/WindowManager.vala"
	_data24_->window = _tmp1_;
#line 1612 "../src/WindowManager.vala"
	_tmp2_ = self->priv->ws_assoc;
#line 1612 "../src/WindowManager.vala"
	_tmp3_ = _data24_->window;
#line 1612 "../src/WindowManager.vala"
	g_hash_table_remove (_tmp2_, _tmp3_);
#line 1614 "../src/WindowManager.vala"
	clutter_actor_remove_all_transitions ((ClutterActor*) _data24_->actor);
#line 1616 "../src/WindowManager.vala"
	_tmp5_ = _data24_->window;
#line 1616 "../src/WindowManager.vala"
	_tmp6_ = g_object_get_data ((GObject*) _tmp5_, GALA_NOTIFICATION_DATA_KEY);
#line 1616 "../src/WindowManager.vala"
	if ((gboolean) ((gintptr) _tmp6_)) {
#line 1616 "../src/WindowManager.vala"
		_tmp4_ = TRUE;
#line 10019 "WindowManager.c"
	} else {
		MetaWindow* _tmp7_;
		MetaWindowType _tmp8_;
		MetaWindowType _tmp9_;
#line 1616 "../src/WindowManager.vala"
		_tmp7_ = _data24_->window;
#line 1616 "../src/WindowManager.vala"
		_tmp8_ = meta_window_get_window_type (_tmp7_);
#line 1616 "../src/WindowManager.vala"
		_tmp9_ = _tmp8_;
#line 1616 "../src/WindowManager.vala"
		_tmp4_ = _tmp9_ == META_WINDOW_NOTIFICATION;
#line 10032 "WindowManager.c"
	}
#line 1616 "../src/WindowManager.vala"
	if (_tmp4_) {
#line 10036 "WindowManager.c"
		gboolean _tmp10_;
		gboolean _tmp11_;
		GalaNotificationStack* _tmp13_;
		gboolean _tmp14_;
		gboolean _tmp15_;
		gboolean _tmp16_;
		gboolean _tmp17_;
#line 1617 "../src/WindowManager.vala"
		_tmp10_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1617 "../src/WindowManager.vala"
		_tmp11_ = _tmp10_;
#line 1617 "../src/WindowManager.vala"
		if (_tmp11_) {
#line 10050 "WindowManager.c"
			GeeHashSet* _tmp12_;
#line 1618 "../src/WindowManager.vala"
			_tmp12_ = self->priv->destroying;
#line 1618 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp12_, _data24_->actor);
#line 10056 "WindowManager.c"
		}
#line 1621 "../src/WindowManager.vala"
		_tmp13_ = self->priv->notification_stack;
#line 1621 "../src/WindowManager.vala"
		_tmp14_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1621 "../src/WindowManager.vala"
		_tmp15_ = _tmp14_;
#line 1621 "../src/WindowManager.vala"
		gala_notification_stack_destroy_notification (_tmp13_, _data24_->actor, _tmp15_);
#line 1623 "../src/WindowManager.vala"
		_tmp16_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1623 "../src/WindowManager.vala"
		_tmp17_ = _tmp16_;
#line 1623 "../src/WindowManager.vala"
		if (_tmp17_) {
#line 10072 "WindowManager.c"
			Block25Data* _data25_;
			gulong _tmp18_;
#line 1623 "../src/WindowManager.vala"
			_data25_ = g_slice_new0 (Block25Data);
#line 1623 "../src/WindowManager.vala"
			_data25_->_ref_count_ = 1;
#line 1623 "../src/WindowManager.vala"
			_data25_->_data24_ = block24_data_ref (_data24_);
#line 1624 "../src/WindowManager.vala"
			_data25_->destroy_handler_id = 0UL;
#line 1625 "../src/WindowManager.vala"
			_tmp18_ = g_signal_connect_data ((ClutterActor*) _data24_->actor, "transitions-completed", (GCallback) _____lambda196__clutter_actor_transitions_completed, block25_data_ref (_data25_), (GClosureNotify) block25_data_unref, 0);
#line 1625 "../src/WindowManager.vala"
			_data25_->destroy_handler_id = _tmp18_;
#line 1623 "../src/WindowManager.vala"
			block25_data_unref (_data25_);
#line 1623 "../src/WindowManager.vala"
			_data25_ = NULL;
#line 10091 "WindowManager.c"
		} else {
#line 1631 "../src/WindowManager.vala"
			meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 10095 "WindowManager.c"
		}
#line 1634 "../src/WindowManager.vala"
		block24_data_unref (_data24_);
#line 1634 "../src/WindowManager.vala"
		_data24_ = NULL;
#line 1634 "../src/WindowManager.vala"
		return;
#line 10103 "WindowManager.c"
	}
#line 1637 "../src/WindowManager.vala"
	_tmp19_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1637 "../src/WindowManager.vala"
	_tmp20_ = _tmp19_;
#line 1637 "../src/WindowManager.vala"
	if (!_tmp20_) {
#line 10111 "WindowManager.c"
		MetaWindow* _tmp21_;
		MetaWindowType _tmp22_;
		MetaWindowType _tmp23_;
#line 1638 "../src/WindowManager.vala"
		meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 1640 "../src/WindowManager.vala"
		_tmp21_ = _data24_->window;
#line 1640 "../src/WindowManager.vala"
		_tmp22_ = meta_window_get_window_type (_tmp21_);
#line 1640 "../src/WindowManager.vala"
		_tmp23_ = _tmp22_;
#line 1640 "../src/WindowManager.vala"
		if (_tmp23_ == META_WINDOW_NORMAL) {
#line 10125 "WindowManager.c"
			MetaWindow* _tmp24_;
#line 1641 "../src/WindowManager.vala"
			_tmp24_ = _data24_->window;
#line 1641 "../src/WindowManager.vala"
			gala_utils_clear_window_cache (_tmp24_);
#line 10131 "WindowManager.c"
		}
#line 1644 "../src/WindowManager.vala"
		block24_data_unref (_data24_);
#line 1644 "../src/WindowManager.vala"
		_data24_ = NULL;
#line 1644 "../src/WindowManager.vala"
		return;
#line 10139 "WindowManager.c"
	}
#line 1647 "../src/WindowManager.vala"
	_tmp25_ = _data24_->window;
#line 1647 "../src/WindowManager.vala"
	_tmp26_ = meta_window_get_window_type (_tmp25_);
#line 1647 "../src/WindowManager.vala"
	_tmp27_ = _tmp26_;
#line 1647 "../src/WindowManager.vala"
	switch (_tmp27_) {
#line 1647 "../src/WindowManager.vala"
		case META_WINDOW_NORMAL:
#line 10151 "WindowManager.c"
		{
			Block26Data* _data26_;
			GalaAnimationDuration duration = 0;
			GeeHashSet* _tmp28_;
			gulong _tmp29_;
#line 1647 "../src/WindowManager.vala"
			_data26_ = g_slice_new0 (Block26Data);
#line 1647 "../src/WindowManager.vala"
			_data26_->_ref_count_ = 1;
#line 1647 "../src/WindowManager.vala"
			_data26_->_data24_ = block24_data_ref (_data24_);
#line 1649 "../src/WindowManager.vala"
			duration = GALA_ANIMATION_DURATION_CLOSE;
#line 1650 "../src/WindowManager.vala"
			if (duration == 0) {
#line 1651 "../src/WindowManager.vala"
				meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 1652 "../src/WindowManager.vala"
				block26_data_unref (_data26_);
#line 1652 "../src/WindowManager.vala"
				_data26_ = NULL;
#line 1652 "../src/WindowManager.vala"
				block24_data_unref (_data24_);
#line 1652 "../src/WindowManager.vala"
				_data24_ = NULL;
#line 1652 "../src/WindowManager.vala"
				return;
#line 10179 "WindowManager.c"
			}
#line 1655 "../src/WindowManager.vala"
			_tmp28_ = self->priv->destroying;
#line 1655 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp28_, _data24_->actor);
#line 1657 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point ((ClutterActor*) _data24_->actor, 0.5f, 0.5f);
#line 1658 "../src/WindowManager.vala"
			clutter_actor_show ((ClutterActor*) _data24_->actor);
#line 1660 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data24_->actor);
#line 1661 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data24_->actor, CLUTTER_LINEAR);
#line 1662 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data24_->actor, (guint) duration);
#line 1663 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data24_->actor, (gdouble) 0.8f, (gdouble) 0.8f);
#line 1664 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data24_->actor, 0U);
#line 1665 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data24_->actor);
#line 1667 "../src/WindowManager.vala"
			_data26_->destroy_handler_id = 0UL;
#line 1668 "../src/WindowManager.vala"
			_tmp29_ = g_signal_connect_data ((ClutterActor*) _data24_->actor, "transitions-completed", (GCallback) ____lambda197__clutter_actor_transitions_completed, block26_data_ref (_data26_), (GClosureNotify) block26_data_unref, 0);
#line 1668 "../src/WindowManager.vala"
			_data26_->destroy_handler_id = _tmp29_;
#line 1674 "../src/WindowManager.vala"
			block26_data_unref (_data26_);
#line 1674 "../src/WindowManager.vala"
			_data26_ = NULL;
#line 1674 "../src/WindowManager.vala"
			break;
#line 10213 "WindowManager.c"
		}
#line 1647 "../src/WindowManager.vala"
		case META_WINDOW_MODAL_DIALOG:
#line 1647 "../src/WindowManager.vala"
		case META_WINDOW_DIALOG:
#line 10219 "WindowManager.c"
		{
			Block27Data* _data27_;
			GeeHashSet* _tmp30_;
			gulong _tmp31_;
#line 1647 "../src/WindowManager.vala"
			_data27_ = g_slice_new0 (Block27Data);
#line 1647 "../src/WindowManager.vala"
			_data27_->_ref_count_ = 1;
#line 1647 "../src/WindowManager.vala"
			_data27_->_data24_ = block24_data_ref (_data24_);
#line 1677 "../src/WindowManager.vala"
			_tmp30_ = self->priv->destroying;
#line 1677 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp30_, _data24_->actor);
#line 1679 "../src/WindowManager.vala"
			clutter_actor_set_pivot_point ((ClutterActor*) _data24_->actor, 0.5f, 0.5f);
#line 1680 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data24_->actor);
#line 1681 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data24_->actor, CLUTTER_EASE_OUT_QUAD);
#line 1682 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data24_->actor, (guint) 150);
#line 1683 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data24_->actor, (gdouble) 1.05f, (gdouble) 1.05f);
#line 1684 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data24_->actor, 0U);
#line 1685 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data24_->actor);
#line 1687 "../src/WindowManager.vala"
			_data27_->destroy_handler_id = 0UL;
#line 1688 "../src/WindowManager.vala"
			_tmp31_ = g_signal_connect_data ((ClutterActor*) _data24_->actor, "transitions-completed", (GCallback) ____lambda198__clutter_actor_transitions_completed, block27_data_ref (_data27_), (GClosureNotify) block27_data_unref, 0);
#line 1688 "../src/WindowManager.vala"
			_data27_->destroy_handler_id = _tmp31_;
#line 1694 "../src/WindowManager.vala"
			block27_data_unref (_data27_);
#line 1694 "../src/WindowManager.vala"
			_data27_ = NULL;
#line 1694 "../src/WindowManager.vala"
			break;
#line 10260 "WindowManager.c"
		}
#line 1647 "../src/WindowManager.vala"
		case META_WINDOW_MENU:
#line 1647 "../src/WindowManager.vala"
		case META_WINDOW_DROPDOWN_MENU:
#line 1647 "../src/WindowManager.vala"
		case META_WINDOW_POPUP_MENU:
#line 10268 "WindowManager.c"
		{
			Block28Data* _data28_;
			GalaAnimationDuration duration = 0;
			GeeHashSet* _tmp32_;
			gulong _tmp33_;
#line 1647 "../src/WindowManager.vala"
			_data28_ = g_slice_new0 (Block28Data);
#line 1647 "../src/WindowManager.vala"
			_data28_->_ref_count_ = 1;
#line 1647 "../src/WindowManager.vala"
			_data28_->_data24_ = block24_data_ref (_data24_);
#line 1698 "../src/WindowManager.vala"
			duration = GALA_ANIMATION_DURATION_MENU_MAP;
#line 1699 "../src/WindowManager.vala"
			if (duration == 0) {
#line 1700 "../src/WindowManager.vala"
				meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 1701 "../src/WindowManager.vala"
				block28_data_unref (_data28_);
#line 1701 "../src/WindowManager.vala"
				_data28_ = NULL;
#line 1701 "../src/WindowManager.vala"
				block24_data_unref (_data24_);
#line 1701 "../src/WindowManager.vala"
				_data24_ = NULL;
#line 1701 "../src/WindowManager.vala"
				return;
#line 10296 "WindowManager.c"
			}
#line 1704 "../src/WindowManager.vala"
			_tmp32_ = self->priv->destroying;
#line 1704 "../src/WindowManager.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp32_, _data24_->actor);
#line 1705 "../src/WindowManager.vala"
			clutter_actor_save_easing_state ((ClutterActor*) _data24_->actor);
#line 1706 "../src/WindowManager.vala"
			clutter_actor_set_easing_mode ((ClutterActor*) _data24_->actor, CLUTTER_EASE_OUT_QUAD);
#line 1707 "../src/WindowManager.vala"
			clutter_actor_set_easing_duration ((ClutterActor*) _data24_->actor, (guint) duration);
#line 1708 "../src/WindowManager.vala"
			clutter_actor_set_scale ((ClutterActor*) _data24_->actor, (gdouble) 0.8f, (gdouble) 0.8f);
#line 1709 "../src/WindowManager.vala"
			clutter_actor_set_opacity ((ClutterActor*) _data24_->actor, 0U);
#line 1710 "../src/WindowManager.vala"
			clutter_actor_restore_easing_state ((ClutterActor*) _data24_->actor);
#line 1712 "../src/WindowManager.vala"
			_data28_->destroy_handler_id = 0UL;
#line 1713 "../src/WindowManager.vala"
			_tmp33_ = g_signal_connect_data ((ClutterActor*) _data24_->actor, "transitions-completed", (GCallback) ____lambda199__clutter_actor_transitions_completed, block28_data_ref (_data28_), (GClosureNotify) block28_data_unref, 0);
#line 1713 "../src/WindowManager.vala"
			_data28_->destroy_handler_id = _tmp33_;
#line 1718 "../src/WindowManager.vala"
			block28_data_unref (_data28_);
#line 1718 "../src/WindowManager.vala"
			_data28_ = NULL;
#line 1718 "../src/WindowManager.vala"
			break;
#line 10326 "WindowManager.c"
		}
		default:
		{
#line 1720 "../src/WindowManager.vala"
			meta_plugin_destroy_completed ((MetaPlugin*) self, _data24_->actor);
#line 1721 "../src/WindowManager.vala"
			break;
#line 10334 "WindowManager.c"
		}
	}
#line 1609 "../src/WindowManager.vala"
	block24_data_unref (_data24_);
#line 1609 "../src/WindowManager.vala"
	_data24_ = NULL;
#line 10341 "WindowManager.c"
}

static Block29Data*
block29_data_ref (Block29Data* _data29_)
{
#line 1725 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data29_->_ref_count_);
#line 1725 "../src/WindowManager.vala"
	return _data29_;
#line 10351 "WindowManager.c"
}

static void
block29_data_unref (void * _userdata_)
{
	Block29Data* _data29_;
	_data29_ = (Block29Data*) _userdata_;
#line 1725 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data29_->_ref_count_)) {
#line 10361 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1725 "../src/WindowManager.vala"
		self = _data29_->self;
#line 1725 "../src/WindowManager.vala"
		_g_object_unref0 (_data29_->actor);
#line 1725 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 1725 "../src/WindowManager.vala"
		g_slice_free (Block29Data, _data29_);
#line 10371 "WindowManager.c"
	}
}

static Block30Data*
block30_data_ref (Block30Data* _data30_)
{
#line 1739 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data30_->_ref_count_);
#line 1739 "../src/WindowManager.vala"
	return _data30_;
#line 10382 "WindowManager.c"
}

static void
block30_data_unref (void * _userdata_)
{
	Block30Data* _data30_;
	_data30_ = (Block30Data*) _userdata_;
#line 1739 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data30_->_ref_count_)) {
#line 10392 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 1739 "../src/WindowManager.vala"
		self = _data30_->_data29_->self;
#line 1739 "../src/WindowManager.vala"
		block29_data_unref (_data30_->_data29_);
#line 1739 "../src/WindowManager.vala"
		_data30_->_data29_ = NULL;
#line 1739 "../src/WindowManager.vala"
		g_slice_free (Block30Data, _data30_);
#line 10402 "WindowManager.c"
	}
}

static void
___lambda188_ (Block30Data* _data30_)
{
	Block29Data* _data29_;
	GalaWindowManagerGala* self;
	ClutterActor* _tmp0_;
	ClutterActor* _tmp1_;
#line 1777 "../src/WindowManager.vala"
	_data29_ = _data30_->_data29_;
#line 1777 "../src/WindowManager.vala"
	self = _data29_->self;
#line 1778 "../src/WindowManager.vala"
	_tmp0_ = self->priv->latest_window_snapshot;
#line 1778 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _tmp0_, _data30_->unmaximize_old_handler_id);
#line 1779 "../src/WindowManager.vala"
	_tmp1_ = self->priv->latest_window_snapshot;
#line 1779 "../src/WindowManager.vala"
	clutter_actor_destroy (_tmp1_);
#line 10425 "WindowManager.c"
}

static void
____lambda188__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1777 "../src/WindowManager.vala"
	___lambda188_ (self);
#line 10434 "WindowManager.c"
}

static void
___lambda189_ (Block30Data* _data30_)
{
	Block29Data* _data29_;
	GalaWindowManagerGala* self;
	GeeHashSet* _tmp0_;
#line 1795 "../src/WindowManager.vala"
	_data29_ = _data30_->_data29_;
#line 1795 "../src/WindowManager.vala"
	self = _data29_->self;
#line 1796 "../src/WindowManager.vala"
	g_signal_handler_disconnect ((GObject*) _data29_->actor, _data30_->handler_id);
#line 1797 "../src/WindowManager.vala"
	_tmp0_ = self->priv->unmaximizing;
#line 1797 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp0_, _data29_->actor);
#line 10453 "WindowManager.c"
}

static void
____lambda189__clutter_actor_transitions_completed (ClutterActor* _sender,
                                                    gpointer self)
{
#line 1795 "../src/WindowManager.vala"
	___lambda189_ (self);
#line 10462 "WindowManager.c"
}

static void
gala_window_manager_gala_unmaximize (GalaWindowManagerGala* self,
                                     MetaWindowActor* actor,
                                     gint ex,
                                     gint ey,
                                     gint ew,
                                     gint eh)
{
	Block29Data* _data29_;
	MetaWindowActor* _tmp0_;
	GalaAnimationDuration duration = 0;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_;
	gboolean _tmp3_;
	MetaWindow* window = NULL;
	MetaWindow* _tmp4_;
	GSettings* _tmp5_;
	MetaWindow* _tmp7_;
	MetaWindowType _tmp8_;
	MetaWindowType _tmp9_;
#line 1725 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 1725 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1725 "../src/WindowManager.vala"
	_data29_ = g_slice_new0 (Block29Data);
#line 1725 "../src/WindowManager.vala"
	_data29_->_ref_count_ = 1;
#line 1725 "../src/WindowManager.vala"
	_data29_->self = g_object_ref (self);
#line 1725 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (actor);
#line 1725 "../src/WindowManager.vala"
	_g_object_unref0 (_data29_->actor);
#line 1725 "../src/WindowManager.vala"
	_data29_->actor = _tmp0_;
#line 1726 "../src/WindowManager.vala"
	duration = GALA_ANIMATION_DURATION_SNAP;
#line 1727 "../src/WindowManager.vala"
	_tmp2_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 1727 "../src/WindowManager.vala"
	_tmp3_ = _tmp2_;
#line 1727 "../src/WindowManager.vala"
	if (!_tmp3_) {
#line 1727 "../src/WindowManager.vala"
		_tmp1_ = TRUE;
#line 10511 "WindowManager.c"
	} else {
#line 1728 "../src/WindowManager.vala"
		_tmp1_ = duration == 0;
#line 10515 "WindowManager.c"
	}
#line 1727 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 1729 "../src/WindowManager.vala"
		block29_data_unref (_data29_);
#line 1729 "../src/WindowManager.vala"
		_data29_ = NULL;
#line 1729 "../src/WindowManager.vala"
		return;
#line 10525 "WindowManager.c"
	}
#line 1732 "../src/WindowManager.vala"
	G_TYPE_INSTANCE_GET_CLASS ((MetaPlugin*) self, meta_plugin_get_type (), MetaPluginClass)->kill_window_effects ((MetaPlugin*) self, _data29_->actor);
#line 1733 "../src/WindowManager.vala"
	_tmp4_ = meta_window_actor_get_meta_window (_data29_->actor);
#line 1733 "../src/WindowManager.vala"
	window = _tmp4_;
#line 1735 "../src/WindowManager.vala"
	_tmp5_ = self->priv->behavior_settings;
#line 1735 "../src/WindowManager.vala"
	if (g_settings_get_boolean (_tmp5_, "move-maximized-workspace")) {
#line 10537 "WindowManager.c"
		MetaWindow* _tmp6_;
#line 1736 "../src/WindowManager.vala"
		_tmp6_ = window;
#line 1736 "../src/WindowManager.vala"
		gala_window_manager_gala_move_window_to_old_ws (self, _tmp6_);
#line 10543 "WindowManager.c"
	}
#line 1739 "../src/WindowManager.vala"
	_tmp7_ = window;
#line 1739 "../src/WindowManager.vala"
	_tmp8_ = meta_window_get_window_type (_tmp7_);
#line 1739 "../src/WindowManager.vala"
	_tmp9_ = _tmp8_;
#line 1739 "../src/WindowManager.vala"
	if (_tmp9_ == META_WINDOW_NORMAL) {
#line 10553 "WindowManager.c"
		Block30Data* _data30_;
		gfloat offset_x = 0.0F;
		gfloat offset_y = 0.0F;
		GalaWindowListenerWindowGeometry* unmaximized_window_geometry = NULL;
		GalaWindowListener* _tmp10_;
		MetaWindow* _tmp11_;
		GalaWindowListenerWindowGeometry* _tmp12_;
		GalaWindowListenerWindowGeometry* _tmp13_;
		ClutterActor* _tmp22_;
		GeeHashSet* _tmp23_;
		MetaWindow* _tmp24_;
		ClutterActor* _tmp25_;
		MtkRectangle _tmp26_;
		MtkRectangle _tmp27_;
		ClutterActor* _tmp28_;
		ClutterActor* _tmp29_;
		ClutterActor* _tmp30_;
		gfloat scale_x = 0.0F;
		MtkRectangle _tmp31_;
		gfloat scale_y = 0.0F;
		MtkRectangle _tmp32_;
		ClutterActor* _tmp33_;
		ClutterActor* _tmp34_;
		ClutterActor* _tmp35_;
		ClutterActor* _tmp36_;
		ClutterActor* _tmp37_;
		ClutterActor* _tmp38_;
		ClutterActor* _tmp39_;
		ClutterActor* _tmp40_;
		gulong _tmp41_;
		MtkRectangle _tmp42_;
		MtkRectangle _tmp43_;
		gulong _tmp44_;
#line 1739 "../src/WindowManager.vala"
		_data30_ = g_slice_new0 (Block30Data);
#line 1739 "../src/WindowManager.vala"
		_data30_->_ref_count_ = 1;
#line 1739 "../src/WindowManager.vala"
		_data30_->_data29_ = block29_data_ref (_data29_);
#line 1741 "../src/WindowManager.vala"
		_tmp10_ = gala_window_listener_get_default ();
#line 1741 "../src/WindowManager.vala"
		_tmp11_ = window;
#line 1741 "../src/WindowManager.vala"
		_tmp12_ = gala_window_listener_get_unmaximized_state_geometry (_tmp10_, _tmp11_);
#line 1741 "../src/WindowManager.vala"
		unmaximized_window_geometry = _tmp12_;
#line 1743 "../src/WindowManager.vala"
		_tmp13_ = unmaximized_window_geometry;
#line 1743 "../src/WindowManager.vala"
		if (_tmp13_ != NULL) {
#line 10605 "WindowManager.c"
			GalaWindowListenerWindowGeometry* _tmp14_;
			MtkRectangle _tmp15_;
			GalaWindowListenerWindowGeometry* _tmp16_;
			MtkRectangle _tmp17_;
			GalaWindowListenerWindowGeometry* _tmp18_;
			MtkRectangle _tmp19_;
			GalaWindowListenerWindowGeometry* _tmp20_;
			MtkRectangle _tmp21_;
#line 1744 "../src/WindowManager.vala"
			_tmp14_ = unmaximized_window_geometry;
#line 1744 "../src/WindowManager.vala"
			_tmp15_ = (*_tmp14_).outer;
#line 1744 "../src/WindowManager.vala"
			_tmp16_ = unmaximized_window_geometry;
#line 1744 "../src/WindowManager.vala"
			_tmp17_ = (*_tmp16_).inner;
#line 1744 "../src/WindowManager.vala"
			offset_x = (gfloat) (_tmp15_.x - _tmp17_.x);
#line 1745 "../src/WindowManager.vala"
			_tmp18_ = unmaximized_window_geometry;
#line 1745 "../src/WindowManager.vala"
			_tmp19_ = (*_tmp18_).outer;
#line 1745 "../src/WindowManager.vala"
			_tmp20_ = unmaximized_window_geometry;
#line 1745 "../src/WindowManager.vala"
			_tmp21_ = (*_tmp20_).inner;
#line 1745 "../src/WindowManager.vala"
			offset_y = (gfloat) (_tmp19_.y - _tmp21_.y);
#line 10634 "WindowManager.c"
		} else {
#line 1747 "../src/WindowManager.vala"
			offset_x = (gfloat) 0;
#line 1748 "../src/WindowManager.vala"
			offset_y = (gfloat) 0;
#line 10640 "WindowManager.c"
		}
#line 1751 "../src/WindowManager.vala"
		_tmp22_ = self->priv->latest_window_snapshot;
#line 1751 "../src/WindowManager.vala"
		if (_tmp22_ == NULL) {
#line 1752 "../src/WindowManager.vala"
			_gala_window_listener_window_geometry_free0 (unmaximized_window_geometry);
#line 1752 "../src/WindowManager.vala"
			block30_data_unref (_data30_);
#line 1752 "../src/WindowManager.vala"
			_data30_ = NULL;
#line 1752 "../src/WindowManager.vala"
			block29_data_unref (_data29_);
#line 1752 "../src/WindowManager.vala"
			_data29_ = NULL;
#line 1752 "../src/WindowManager.vala"
			return;
#line 10658 "WindowManager.c"
		}
#line 1755 "../src/WindowManager.vala"
		_tmp23_ = self->priv->unmaximizing;
#line 1755 "../src/WindowManager.vala"
		gee_abstract_collection_add ((GeeAbstractCollection*) _tmp23_, _data29_->actor);
#line 1759 "../src/WindowManager.vala"
		_tmp24_ = window;
#line 1759 "../src/WindowManager.vala"
		meta_window_move_frame (_tmp24_, TRUE, ex, ey);
#line 1761 "../src/WindowManager.vala"
		_tmp25_ = self->priv->latest_window_snapshot;
#line 1761 "../src/WindowManager.vala"
		_tmp26_ = self->priv->old_rect_size_change;
#line 1761 "../src/WindowManager.vala"
		_tmp27_ = self->priv->old_rect_size_change;
#line 1761 "../src/WindowManager.vala"
		clutter_actor_set_position (_tmp25_, (gfloat) _tmp26_.x, (gfloat) _tmp27_.y);
#line 1763 "../src/WindowManager.vala"
		_tmp28_ = gala_window_manager_get_ui_group ((GalaWindowManager*) self);
#line 1763 "../src/WindowManager.vala"
		_tmp29_ = _tmp28_;
#line 1763 "../src/WindowManager.vala"
		_tmp30_ = self->priv->latest_window_snapshot;
#line 1763 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp29_, _tmp30_);
#line 1765 "../src/WindowManager.vala"
		_tmp31_ = self->priv->old_rect_size_change;
#line 1765 "../src/WindowManager.vala"
		scale_x = ((gfloat) ew) / _tmp31_.width;
#line 1766 "../src/WindowManager.vala"
		_tmp32_ = self->priv->old_rect_size_change;
#line 1766 "../src/WindowManager.vala"
		scale_y = ((gfloat) eh) / _tmp32_.height;
#line 1768 "../src/WindowManager.vala"
		_tmp33_ = self->priv->latest_window_snapshot;
#line 1768 "../src/WindowManager.vala"
		clutter_actor_save_easing_state (_tmp33_);
#line 1769 "../src/WindowManager.vala"
		_tmp34_ = self->priv->latest_window_snapshot;
#line 1769 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode (_tmp34_, CLUTTER_EASE_IN_OUT_QUAD);
#line 1770 "../src/WindowManager.vala"
		_tmp35_ = self->priv->latest_window_snapshot;
#line 1770 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration (_tmp35_, (guint) duration);
#line 1771 "../src/WindowManager.vala"
		_tmp36_ = self->priv->latest_window_snapshot;
#line 1771 "../src/WindowManager.vala"
		clutter_actor_set_position (_tmp36_, (gfloat) ex, (gfloat) ey);
#line 1772 "../src/WindowManager.vala"
		_tmp37_ = self->priv->latest_window_snapshot;
#line 1772 "../src/WindowManager.vala"
		clutter_actor_set_scale (_tmp37_, (gdouble) scale_x, (gdouble) scale_y);
#line 1773 "../src/WindowManager.vala"
		_tmp38_ = self->priv->latest_window_snapshot;
#line 1773 "../src/WindowManager.vala"
		clutter_actor_set_opacity (_tmp38_, 0U);
#line 1774 "../src/WindowManager.vala"
		_tmp39_ = self->priv->latest_window_snapshot;
#line 1774 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state (_tmp39_);
#line 1776 "../src/WindowManager.vala"
		_data30_->unmaximize_old_handler_id = 0UL;
#line 1777 "../src/WindowManager.vala"
		_tmp40_ = self->priv->latest_window_snapshot;
#line 1777 "../src/WindowManager.vala"
		_tmp41_ = g_signal_connect_data (_tmp40_, "transitions-completed", (GCallback) ____lambda188__clutter_actor_transitions_completed, block30_data_ref (_data30_), (GClosureNotify) block30_data_unref, 0);
#line 1777 "../src/WindowManager.vala"
		_data30_->unmaximize_old_handler_id = _tmp41_;
#line 1782 "../src/WindowManager.vala"
		clutter_actor_set_pivot_point ((ClutterActor*) _data29_->actor, 0.0f, 0.0f);
#line 1783 "../src/WindowManager.vala"
		clutter_actor_set_position ((ClutterActor*) _data29_->actor, (gfloat) ex, (gfloat) ey);
#line 1784 "../src/WindowManager.vala"
		_tmp42_ = self->priv->old_rect_size_change;
#line 1784 "../src/WindowManager.vala"
		_tmp43_ = self->priv->old_rect_size_change;
#line 1784 "../src/WindowManager.vala"
		clutter_actor_set_translation ((ClutterActor*) _data29_->actor, ((-ex) + (offset_x * ((1.0f / scale_x) - 1.0f))) + _tmp42_.x, ((-ey) + (offset_y * ((1.0f / scale_y) - 1.0f))) + _tmp43_.y, 0.0f);
#line 1785 "../src/WindowManager.vala"
		clutter_actor_set_scale ((ClutterActor*) _data29_->actor, (gdouble) (1.0f / scale_x), (gdouble) (1.0f / scale_y));
#line 1787 "../src/WindowManager.vala"
		clutter_actor_save_easing_state ((ClutterActor*) _data29_->actor);
#line 1788 "../src/WindowManager.vala"
		clutter_actor_set_easing_mode ((ClutterActor*) _data29_->actor, CLUTTER_EASE_IN_OUT_QUAD);
#line 1789 "../src/WindowManager.vala"
		clutter_actor_set_easing_duration ((ClutterActor*) _data29_->actor, (guint) duration);
#line 1790 "../src/WindowManager.vala"
		clutter_actor_set_scale ((ClutterActor*) _data29_->actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1791 "../src/WindowManager.vala"
		clutter_actor_set_translation ((ClutterActor*) _data29_->actor, 0.0f, 0.0f, 0.0f);
#line 1792 "../src/WindowManager.vala"
		clutter_actor_restore_easing_state ((ClutterActor*) _data29_->actor);
#line 1794 "../src/WindowManager.vala"
		_data30_->handler_id = 0UL;
#line 1795 "../src/WindowManager.vala"
		_tmp44_ = g_signal_connect_data ((ClutterActor*) _data29_->actor, "transitions-completed", (GCallback) ____lambda189__clutter_actor_transitions_completed, block30_data_ref (_data30_), (GClosureNotify) block30_data_unref, 0);
#line 1795 "../src/WindowManager.vala"
		_data30_->handler_id = _tmp44_;
#line 1739 "../src/WindowManager.vala"
		_gala_window_listener_window_geometry_free0 (unmaximized_window_geometry);
#line 1739 "../src/WindowManager.vala"
		block30_data_unref (_data30_);
#line 1739 "../src/WindowManager.vala"
		_data30_ = NULL;
#line 10764 "WindowManager.c"
	}
#line 1725 "../src/WindowManager.vala"
	block29_data_unref (_data29_);
#line 1725 "../src/WindowManager.vala"
	_data29_ = NULL;
#line 10770 "WindowManager.c"
}

static void
gala_window_manager_gala_move_window_to_next_ws (GalaWindowManagerGala* self,
                                                 MetaWindow* window)
{
	MetaWorkspace* win_ws = NULL;
	MetaWorkspace* _tmp0_;
	MetaWorkspace* _tmp1_;
	gint old_ws_index = 0;
	MetaWorkspace* _tmp2_;
	gint new_ws_index = 0;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp3_;
	guint32 time = 0U;
	MetaDisplay* _tmp4_;
	MetaWorkspace* new_ws = NULL;
	MetaDisplay* _tmp5_;
	MetaWorkspaceManager* _tmp6_;
	MetaWorkspace* _tmp7_;
	MetaWorkspace* _tmp8_;
	MetaWorkspace* _tmp9_;
	GHashTable* _tmp10_;
	MetaWindow* _tmp11_;
#line 1802 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 1802 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 1803 "../src/WindowManager.vala"
	_tmp0_ = meta_window_get_workspace (window);
#line 1803 "../src/WindowManager.vala"
	win_ws = _tmp0_;
#line 1806 "../src/WindowManager.vala"
	_tmp1_ = win_ws;
#line 1806 "../src/WindowManager.vala"
	if (gala_utils_get_n_windows (_tmp1_, FALSE) <= ((guint) 1)) {
#line 1807 "../src/WindowManager.vala"
		return;
#line 10809 "WindowManager.c"
	}
#line 1811 "../src/WindowManager.vala"
	if (!meta_window_is_on_primary_monitor (window)) {
#line 1812 "../src/WindowManager.vala"
		return;
#line 10815 "WindowManager.c"
	}
#line 1815 "../src/WindowManager.vala"
	_tmp2_ = win_ws;
#line 1815 "../src/WindowManager.vala"
	old_ws_index = meta_workspace_index (_tmp2_);
#line 1816 "../src/WindowManager.vala"
	new_ws_index = old_ws_index + 1;
#line 1817 "../src/WindowManager.vala"
	gala_internal_utils_insert_workspace_with_window (new_ws_index, window);
#line 1819 "../src/WindowManager.vala"
	_tmp3_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1819 "../src/WindowManager.vala"
	display = _tmp3_;
#line 1820 "../src/WindowManager.vala"
	_tmp4_ = display;
#line 1820 "../src/WindowManager.vala"
	time = meta_display_get_current_time (_tmp4_);
#line 1821 "../src/WindowManager.vala"
	_tmp5_ = display;
#line 1821 "../src/WindowManager.vala"
	_tmp6_ = meta_display_get_workspace_manager (_tmp5_);
#line 1821 "../src/WindowManager.vala"
	_tmp7_ = meta_workspace_manager_get_workspace_by_index (_tmp6_, new_ws_index);
#line 1821 "../src/WindowManager.vala"
	new_ws = _tmp7_;
#line 1822 "../src/WindowManager.vala"
	_tmp8_ = new_ws;
#line 1822 "../src/WindowManager.vala"
	meta_window_change_workspace (window, _tmp8_);
#line 1823 "../src/WindowManager.vala"
	_tmp9_ = new_ws;
#line 1823 "../src/WindowManager.vala"
	meta_workspace_activate_with_focus (_tmp9_, window, time);
#line 1825 "../src/WindowManager.vala"
	_tmp10_ = self->priv->ws_assoc;
#line 1825 "../src/WindowManager.vala"
	_tmp11_ = _g_object_ref0 (window);
#line 1825 "../src/WindowManager.vala"
	g_hash_table_insert (_tmp10_, _tmp11_, (gpointer) ((gintptr) old_ws_index));
#line 10855 "WindowManager.c"
}

static void
gala_window_manager_gala_move_window_to_old_ws (GalaWindowManagerGala* self,
                                                MetaWindow* window)
{
	MetaWorkspace* win_ws = NULL;
	MetaWorkspace* _tmp0_;
	MetaWorkspace* _tmp1_;
	GHashTable* _tmp2_;
	gint old_ws_index = 0;
	GHashTable* _tmp3_;
	gconstpointer _tmp4_;
	gint new_ws_index = 0;
	MetaWorkspace* _tmp5_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp6_;
	MetaWorkspaceManager* workspace_manager = NULL;
	MetaDisplay* _tmp7_;
	MetaWorkspaceManager* _tmp8_;
	gboolean _tmp9_ = FALSE;
	GHashTable* _tmp16_;
#line 1828 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 1828 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 1829 "../src/WindowManager.vala"
	_tmp0_ = meta_window_get_workspace (window);
#line 1829 "../src/WindowManager.vala"
	win_ws = _tmp0_;
#line 1832 "../src/WindowManager.vala"
	_tmp1_ = win_ws;
#line 1832 "../src/WindowManager.vala"
	if (gala_utils_get_n_windows (_tmp1_, FALSE) > ((guint) 1)) {
#line 1833 "../src/WindowManager.vala"
		return;
#line 10892 "WindowManager.c"
	}
#line 1836 "../src/WindowManager.vala"
	_tmp2_ = self->priv->ws_assoc;
#line 1836 "../src/WindowManager.vala"
	if (!g_hash_table_contains (_tmp2_, window)) {
#line 1837 "../src/WindowManager.vala"
		return;
#line 10900 "WindowManager.c"
	}
#line 1840 "../src/WindowManager.vala"
	_tmp3_ = self->priv->ws_assoc;
#line 1840 "../src/WindowManager.vala"
	_tmp4_ = g_hash_table_lookup (_tmp3_, window);
#line 1840 "../src/WindowManager.vala"
	old_ws_index = (gint) ((gintptr) _tmp4_);
#line 1841 "../src/WindowManager.vala"
	_tmp5_ = win_ws;
#line 1841 "../src/WindowManager.vala"
	new_ws_index = meta_workspace_index (_tmp5_);
#line 1843 "../src/WindowManager.vala"
	_tmp6_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1843 "../src/WindowManager.vala"
	display = _tmp6_;
#line 1844 "../src/WindowManager.vala"
	_tmp7_ = display;
#line 1844 "../src/WindowManager.vala"
	_tmp8_ = meta_display_get_workspace_manager (_tmp7_);
#line 1844 "../src/WindowManager.vala"
	workspace_manager = _tmp8_;
#line 1845 "../src/WindowManager.vala"
	if (new_ws_index != old_ws_index) {
#line 10924 "WindowManager.c"
		MetaWorkspaceManager* _tmp10_;
#line 1845 "../src/WindowManager.vala"
		_tmp10_ = workspace_manager;
#line 1845 "../src/WindowManager.vala"
		_tmp9_ = old_ws_index < meta_workspace_manager_get_n_workspaces (_tmp10_);
#line 10930 "WindowManager.c"
	} else {
#line 1845 "../src/WindowManager.vala"
		_tmp9_ = FALSE;
#line 10934 "WindowManager.c"
	}
#line 1845 "../src/WindowManager.vala"
	if (_tmp9_) {
#line 10938 "WindowManager.c"
		guint time = 0U;
		MetaDisplay* _tmp11_;
		MetaWorkspace* old_ws = NULL;
		MetaWorkspaceManager* _tmp12_;
		MetaWorkspace* _tmp13_;
		MetaWorkspace* _tmp14_;
		MetaWorkspace* _tmp15_;
#line 1846 "../src/WindowManager.vala"
		_tmp11_ = display;
#line 1846 "../src/WindowManager.vala"
		time = (guint) meta_display_get_current_time (_tmp11_);
#line 1847 "../src/WindowManager.vala"
		_tmp12_ = workspace_manager;
#line 1847 "../src/WindowManager.vala"
		_tmp13_ = meta_workspace_manager_get_workspace_by_index (_tmp12_, old_ws_index);
#line 1847 "../src/WindowManager.vala"
		old_ws = _tmp13_;
#line 1848 "../src/WindowManager.vala"
		_tmp14_ = old_ws;
#line 1848 "../src/WindowManager.vala"
		meta_window_change_workspace (window, _tmp14_);
#line 1849 "../src/WindowManager.vala"
		_tmp15_ = old_ws;
#line 1849 "../src/WindowManager.vala"
		meta_workspace_activate_with_focus (_tmp15_, window, (guint32) time);
#line 10964 "WindowManager.c"
	}
#line 1852 "../src/WindowManager.vala"
	_tmp16_ = self->priv->ws_assoc;
#line 1852 "../src/WindowManager.vala"
	g_hash_table_remove (_tmp16_, window);
#line 10970 "WindowManager.c"
}

static gboolean
gala_window_manager_gala_end_animation (GalaWindowManagerGala* self,
                                        GeeHashSet** list,
                                        MetaWindowActor* actor)
{
	gboolean result;
#line 1856 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 1856 "../src/WindowManager.vala"
	g_return_val_if_fail (*list != NULL, FALSE);
#line 1856 "../src/WindowManager.vala"
	g_return_val_if_fail (actor != NULL, FALSE);
#line 1857 "../src/WindowManager.vala"
	if (!gee_abstract_collection_contains ((GeeAbstractCollection*) (*list), actor)) {
#line 1858 "../src/WindowManager.vala"
		result = FALSE;
#line 1858 "../src/WindowManager.vala"
		return result;
#line 10991 "WindowManager.c"
	}
#line 1860 "../src/WindowManager.vala"
	if (meta_window_actor_is_destroyed (actor)) {
#line 1861 "../src/WindowManager.vala"
		gee_abstract_collection_remove ((GeeAbstractCollection*) (*list), actor);
#line 1862 "../src/WindowManager.vala"
		result = FALSE;
#line 1862 "../src/WindowManager.vala"
		return result;
#line 11001 "WindowManager.c"
	}
#line 1865 "../src/WindowManager.vala"
	clutter_actor_remove_all_transitions ((ClutterActor*) actor);
#line 1866 "../src/WindowManager.vala"
	clutter_actor_set_opacity ((ClutterActor*) actor, 255U);
#line 1867 "../src/WindowManager.vala"
	clutter_actor_set_scale ((ClutterActor*) actor, (gdouble) 1.0f, (gdouble) 1.0f);
#line 1868 "../src/WindowManager.vala"
	g_object_set ((ClutterActor*) actor, "rotation-angle-x", (gdouble) 0.0f, NULL);
#line 1869 "../src/WindowManager.vala"
	clutter_actor_set_pivot_point ((ClutterActor*) actor, 0.0f, 0.0f);
#line 1871 "../src/WindowManager.vala"
	gee_abstract_collection_remove ((GeeAbstractCollection*) (*list), actor);
#line 1872 "../src/WindowManager.vala"
	result = TRUE;
#line 1872 "../src/WindowManager.vala"
	return result;
#line 11019 "WindowManager.c"
}

static void
gala_window_manager_gala_real_kill_window_effects (MetaPlugin* base,
                                                   MetaWindowActor* actor)
{
	GalaWindowManagerGala * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
#line 1875 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 1875 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 1876 "../src/WindowManager.vala"
	_tmp0_ = gala_window_manager_gala_end_animation (self, &self->priv->mapping, actor);
#line 1876 "../src/WindowManager.vala"
	if (_tmp0_) {
#line 1877 "../src/WindowManager.vala"
		meta_plugin_map_completed ((MetaPlugin*) self, actor);
#line 11041 "WindowManager.c"
	}
#line 1878 "../src/WindowManager.vala"
	_tmp1_ = gala_window_manager_gala_end_animation (self, &self->priv->unminimizing, actor);
#line 1878 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 1879 "../src/WindowManager.vala"
		meta_plugin_unminimize_completed ((MetaPlugin*) self, actor);
#line 11049 "WindowManager.c"
	}
#line 1880 "../src/WindowManager.vala"
	_tmp2_ = gala_window_manager_gala_end_animation (self, &self->priv->minimizing, actor);
#line 1880 "../src/WindowManager.vala"
	if (_tmp2_) {
#line 1881 "../src/WindowManager.vala"
		meta_plugin_minimize_completed ((MetaPlugin*) self, actor);
#line 11057 "WindowManager.c"
	}
#line 1882 "../src/WindowManager.vala"
	_tmp3_ = gala_window_manager_gala_end_animation (self, &self->priv->destroying, actor);
#line 1882 "../src/WindowManager.vala"
	if (_tmp3_) {
#line 1883 "../src/WindowManager.vala"
		meta_plugin_destroy_completed ((MetaPlugin*) self, actor);
#line 11065 "WindowManager.c"
	}
#line 1885 "../src/WindowManager.vala"
	gala_window_manager_gala_end_animation (self, &self->priv->unmaximizing, actor);
#line 1886 "../src/WindowManager.vala"
	gala_window_manager_gala_end_animation (self, &self->priv->maximizing, actor);
#line 11071 "WindowManager.c"
}

static void
gala_window_manager_gala_prepare_workspace_switch (GalaWindowManagerGala* self,
                                                   gint from,
                                                   gint to,
                                                   MetaMotionDirection direction)
{
	gfloat screen_width = 0.0F;
	gfloat screen_height = 0.0F;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp0_;
	gint primary = 0;
	MetaDisplay* _tmp1_;
	gboolean move_primary_only = FALSE;
	MtkRectangle monitor_geom = {0};
	MetaDisplay* _tmp2_;
	MtkRectangle _tmp3_ = {0};
	gfloat _tmp4_ = 0.0F;
	gfloat clone_offset_x = 0.0F;
	gfloat _tmp6_ = 0.0F;
	gfloat clone_offset_y = 0.0F;
	MetaDisplay* _tmp8_;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp11_;
	MetaWorkspaceManager* _tmp12_;
	MetaWorkspace* workspace_from = NULL;
	MetaWorkspaceManager* _tmp13_;
	MetaWorkspace* _tmp14_;
	MetaWorkspace* _tmp15_ = NULL;
	MetaWorkspace* workspace_to = NULL;
	ClutterActor* main_container = NULL;
	ClutterActor* _tmp18_;
	ClutterClone* background_actor = NULL;
	GalaSystemBackground* _tmp19_;
	MetaBackgroundActor* _tmp20_;
	MetaBackgroundActor* _tmp21_;
	ClutterClone* _tmp22_;
	ClutterActor* static_windows = NULL;
	ClutterActor* _tmp23_;
	MetaWorkspace* _tmp24_;
	ClutterActor* _tmp26_;
	ClutterActor* _tmp27_;
	ClutterActor* _tmp28_;
	ClutterClone* _tmp29_;
	ClutterActor* _tmp30_;
	ClutterActor* _tmp31_;
	ClutterActor* _tmp34_;
	ClutterActor* _tmp35_;
	ClutterActor* _tmp36_;
	ClutterActor* _tmp37_;
	ClutterActor* _tmp38_;
	ClutterActor* _tmp39_;
	ClutterActor* _tmp40_;
	ClutterActor* _tmp54_;
	GalaShadowEffect* _tmp55_;
	GalaShadowEffect* _tmp56_;
	ClutterActor* _tmp57_;
	ClutterActor* _tmp58_;
	MetaWorkspace* _tmp59_;
	ClutterActor* _tmp67_;
	ClutterClone* _tmp68_;
	ClutterActor* _tmp69_;
	ClutterActor* _tmp70_;
	ClutterActor* _tmp71_;
	ClutterActor* _tmp74_;
	ClutterActor* _tmp75_;
	ClutterActor* _tmp76_;
	ClutterActor* _tmp79_;
	ClutterActor* _tmp80_;
	MetaWindow* _tmp81_;
	MetaWindow* grabbed_window = NULL;
	GalaWindowGrabTracker* _tmp92_;
	MetaWindow* _tmp93_;
	MetaWindow* _tmp94_;
	MetaWindow* _tmp95_;
	gboolean to_has_fullscreened = FALSE;
	gboolean from_has_fullscreened = FALSE;
	MetaDisplay* _tmp106_;
	GList* _tmp107_;
	ClutterActor* _tmp172_;
	gfloat _tmp173_ = 0.0F;
	ClutterActor* _tmp175_;
	gfloat _tmp176_ = 0.0F;
	ClutterActor* _tmp178_;
	gfloat _tmp179_ = 0.0F;
	ClutterActor* _tmp181_;
	gfloat _tmp182_ = 0.0F;
	ClutterActor* _tmp184_;
	gfloat monitor_scale = 0.0F;
	MetaDisplay* _tmp185_;
	gfloat _tmp186_ = 0.0F;
	gfloat x2 = 0.0F;
	MetaWorkspace* _tmp188_;
	ClutterActor* _tmp189_;
	ClutterActor* _tmp190_;
	ClutterActor* _tmp191_;
	ClutterActor* _tmp192_;
	gfloat _tmp193_;
	gfloat _tmp194_;
	ClutterActor* _tmp195_;
	gboolean _tmp196_ = FALSE;
	ClutterActor* _tmp197_;
	ClutterActor* _tmp211_;
	gfloat _tmp212_ = 0.0F;
	ClutterActor* _tmp214_;
	gfloat _tmp215_ = 0.0F;
	ClutterActor* _tmp217_;
	ClutterActor* _tmp218_;
#line 1899 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 1901 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 1901 "../src/WindowManager.vala"
	display = _tmp0_;
#line 1902 "../src/WindowManager.vala"
	_tmp1_ = display;
#line 1902 "../src/WindowManager.vala"
	primary = meta_display_get_primary_monitor (_tmp1_);
#line 1903 "../src/WindowManager.vala"
	move_primary_only = gala_internal_utils_workspaces_only_on_primary ();
#line 1904 "../src/WindowManager.vala"
	_tmp2_ = display;
#line 1904 "../src/WindowManager.vala"
	meta_display_get_monitor_geometry (_tmp2_, primary, &_tmp3_);
#line 1904 "../src/WindowManager.vala"
	monitor_geom = _tmp3_;
#line 1905 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 11203 "WindowManager.c"
		MtkRectangle _tmp5_;
#line 1905 "../src/WindowManager.vala"
		_tmp5_ = monitor_geom;
#line 1905 "../src/WindowManager.vala"
		_tmp4_ = (gfloat) _tmp5_.x;
#line 11209 "WindowManager.c"
	} else {
#line 1905 "../src/WindowManager.vala"
		_tmp4_ = 0.0f;
#line 11213 "WindowManager.c"
	}
#line 1905 "../src/WindowManager.vala"
	clone_offset_x = _tmp4_;
#line 1906 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 11219 "WindowManager.c"
		MtkRectangle _tmp7_;
#line 1906 "../src/WindowManager.vala"
		_tmp7_ = monitor_geom;
#line 1906 "../src/WindowManager.vala"
		_tmp6_ = (gfloat) _tmp7_.y;
#line 11225 "WindowManager.c"
	} else {
#line 1906 "../src/WindowManager.vala"
		_tmp6_ = 0.0f;
#line 11229 "WindowManager.c"
	}
#line 1906 "../src/WindowManager.vala"
	clone_offset_y = _tmp6_;
#line 1908 "../src/WindowManager.vala"
	_tmp8_ = display;
#line 1908 "../src/WindowManager.vala"
	meta_display_get_size (_tmp8_, &_tmp9_, &_tmp10_);
#line 1908 "../src/WindowManager.vala"
	screen_width = (gfloat) _tmp9_;
#line 1908 "../src/WindowManager.vala"
	screen_height = (gfloat) _tmp10_;
#line 1910 "../src/WindowManager.vala"
	_tmp11_ = display;
#line 1910 "../src/WindowManager.vala"
	_tmp12_ = meta_display_get_workspace_manager (_tmp11_);
#line 1910 "../src/WindowManager.vala"
	manager = _tmp12_;
#line 1911 "../src/WindowManager.vala"
	_tmp13_ = manager;
#line 1911 "../src/WindowManager.vala"
	_tmp14_ = meta_workspace_manager_get_workspace_by_index (_tmp13_, from);
#line 1911 "../src/WindowManager.vala"
	workspace_from = _tmp14_;
#line 1912 "../src/WindowManager.vala"
	if (from != to) {
#line 11255 "WindowManager.c"
		MetaWorkspaceManager* _tmp16_;
		MetaWorkspace* _tmp17_;
#line 1912 "../src/WindowManager.vala"
		_tmp16_ = manager;
#line 1912 "../src/WindowManager.vala"
		_tmp17_ = meta_workspace_manager_get_workspace_by_index (_tmp16_, to);
#line 1912 "../src/WindowManager.vala"
		_tmp15_ = _tmp17_;
#line 11264 "WindowManager.c"
	} else {
#line 1912 "../src/WindowManager.vala"
		_tmp15_ = NULL;
#line 11268 "WindowManager.c"
	}
#line 1912 "../src/WindowManager.vala"
	workspace_to = _tmp15_;
#line 1914 "../src/WindowManager.vala"
	_tmp18_ = clutter_actor_new ();
#line 1914 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp18_);
#line 1914 "../src/WindowManager.vala"
	main_container = _tmp18_;
#line 1915 "../src/WindowManager.vala"
	_tmp19_ = self->priv->system_background;
#line 1915 "../src/WindowManager.vala"
	_tmp20_ = gala_system_background_get_background_actor (_tmp19_);
#line 1915 "../src/WindowManager.vala"
	_tmp21_ = _tmp20_;
#line 1915 "../src/WindowManager.vala"
	_tmp22_ = (ClutterClone*) clutter_clone_new ((ClutterActor*) _tmp21_);
#line 1915 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp22_);
#line 1915 "../src/WindowManager.vala"
	background_actor = _tmp22_;
#line 1916 "../src/WindowManager.vala"
	_tmp23_ = clutter_actor_new ();
#line 1916 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp23_);
#line 1916 "../src/WindowManager.vala"
	static_windows = _tmp23_;
#line 1917 "../src/WindowManager.vala"
	_tmp24_ = workspace_to;
#line 1917 "../src/WindowManager.vala"
	if (_tmp24_ != NULL) {
#line 11300 "WindowManager.c"
		ClutterActor* _tmp25_;
#line 1918 "../src/WindowManager.vala"
		_tmp25_ = clutter_actor_new ();
#line 1918 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp25_);
#line 1918 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->in_group);
#line 1918 "../src/WindowManager.vala"
		self->priv->in_group = _tmp25_;
#line 11310 "WindowManager.c"
	}
#line 1920 "../src/WindowManager.vala"
	_tmp26_ = clutter_actor_new ();
#line 1920 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp26_);
#line 1920 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->out_group);
#line 1920 "../src/WindowManager.vala"
	self->priv->out_group = _tmp26_;
#line 1921 "../src/WindowManager.vala"
	(self->priv->windows == NULL) ? NULL : (self->priv->windows = (_g_list_free__g_object_unref0_ (self->priv->windows), NULL));
#line 1921 "../src/WindowManager.vala"
	self->priv->windows = NULL;
#line 1922 "../src/WindowManager.vala"
	(self->priv->parents == NULL) ? NULL : (self->priv->parents = (_g_list_free__g_object_unref0_ (self->priv->parents), NULL));
#line 1922 "../src/WindowManager.vala"
	self->priv->parents = NULL;
#line 1923 "../src/WindowManager.vala"
	(self->priv->tmp_actors == NULL) ? NULL : (self->priv->tmp_actors = (_g_list_free__g_object_unref0_ (self->priv->tmp_actors), NULL));
#line 1923 "../src/WindowManager.vala"
	self->priv->tmp_actors = NULL;
#line 1925 "../src/WindowManager.vala"
	_tmp27_ = main_container;
#line 1925 "../src/WindowManager.vala"
	_tmp28_ = _g_object_ref0 (_tmp27_);
#line 1925 "../src/WindowManager.vala"
	self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp28_);
#line 1926 "../src/WindowManager.vala"
	_tmp29_ = background_actor;
#line 1926 "../src/WindowManager.vala"
	_tmp30_ = _g_object_ref0 ((ClutterActor*) _tmp29_);
#line 1926 "../src/WindowManager.vala"
	self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp30_);
#line 1927 "../src/WindowManager.vala"
	_tmp31_ = self->priv->in_group;
#line 1927 "../src/WindowManager.vala"
	if (_tmp31_ != NULL) {
#line 11348 "WindowManager.c"
		ClutterActor* _tmp32_;
		ClutterActor* _tmp33_;
#line 1928 "../src/WindowManager.vala"
		_tmp32_ = self->priv->in_group;
#line 1928 "../src/WindowManager.vala"
		_tmp33_ = _g_object_ref0 (_tmp32_);
#line 1928 "../src/WindowManager.vala"
		self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp33_);
#line 11357 "WindowManager.c"
	}
#line 1930 "../src/WindowManager.vala"
	_tmp34_ = self->priv->out_group;
#line 1930 "../src/WindowManager.vala"
	_tmp35_ = _g_object_ref0 (_tmp34_);
#line 1930 "../src/WindowManager.vala"
	self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp35_);
#line 1931 "../src/WindowManager.vala"
	_tmp36_ = static_windows;
#line 1931 "../src/WindowManager.vala"
	_tmp37_ = _g_object_ref0 (_tmp36_);
#line 1931 "../src/WindowManager.vala"
	self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp37_);
#line 1933 "../src/WindowManager.vala"
	_tmp38_ = gala_window_manager_get_window_group ((GalaWindowManager*) self);
#line 1933 "../src/WindowManager.vala"
	_tmp39_ = _tmp38_;
#line 1933 "../src/WindowManager.vala"
	_tmp40_ = main_container;
#line 1933 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp39_, _tmp40_);
#line 1936 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 11381 "WindowManager.c"
		ClutterActor* background = NULL;
		MetaBackgroundGroup* _tmp41_;
		MetaBackgroundGroup* _tmp42_;
		ClutterActor* _tmp43_;
		ClutterActor* _tmp44_;
		ClutterActor* _tmp45_;
		ClutterClone* _tmp46_;
#line 1937 "../src/WindowManager.vala"
		_tmp41_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 1937 "../src/WindowManager.vala"
		_tmp42_ = _tmp41_;
#line 1937 "../src/WindowManager.vala"
		_tmp43_ = clutter_actor_get_child_at_index ((ClutterActor*) _tmp42_, primary);
#line 1937 "../src/WindowManager.vala"
		background = _tmp43_;
#line 1938 "../src/WindowManager.vala"
		_tmp44_ = background;
#line 1938 "../src/WindowManager.vala"
		clutter_actor_hide (_tmp44_);
#line 1939 "../src/WindowManager.vala"
		_tmp45_ = background;
#line 1939 "../src/WindowManager.vala"
		_tmp46_ = (ClutterClone*) clutter_clone_new (_tmp45_);
#line 1939 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp46_);
#line 1939 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->wallpaper);
#line 1939 "../src/WindowManager.vala"
		self->priv->wallpaper = (ClutterActor*) _tmp46_;
#line 11411 "WindowManager.c"
	} else {
		MetaBackgroundGroup* _tmp47_;
		MetaBackgroundGroup* _tmp48_;
		MetaBackgroundGroup* _tmp49_;
		MetaBackgroundGroup* _tmp50_;
		MetaBackgroundGroup* _tmp51_;
		MetaBackgroundGroup* _tmp52_;
		ClutterClone* _tmp53_;
#line 1941 "../src/WindowManager.vala"
		_tmp47_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 1941 "../src/WindowManager.vala"
		_tmp48_ = _tmp47_;
#line 1941 "../src/WindowManager.vala"
		clutter_actor_hide ((ClutterActor*) _tmp48_);
#line 1942 "../src/WindowManager.vala"
		_tmp49_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 1942 "../src/WindowManager.vala"
		_tmp50_ = _tmp49_;
#line 1942 "../src/WindowManager.vala"
		gala_background_container_set_black_background (G_TYPE_CHECK_INSTANCE_CAST (_tmp50_, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer), FALSE);
#line 1943 "../src/WindowManager.vala"
		_tmp51_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 1943 "../src/WindowManager.vala"
		_tmp52_ = _tmp51_;
#line 1943 "../src/WindowManager.vala"
		_tmp53_ = (ClutterClone*) clutter_clone_new ((ClutterActor*) _tmp52_);
#line 1943 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp53_);
#line 1943 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->wallpaper);
#line 1943 "../src/WindowManager.vala"
		self->priv->wallpaper = (ClutterActor*) _tmp53_;
#line 11444 "WindowManager.c"
	}
#line 1945 "../src/WindowManager.vala"
	_tmp54_ = self->priv->wallpaper;
#line 1945 "../src/WindowManager.vala"
	_tmp55_ = gala_shadow_effect_new ("workspace");
#line 1945 "../src/WindowManager.vala"
	g_object_ref_sink (_tmp55_);
#line 1945 "../src/WindowManager.vala"
	_tmp56_ = _tmp55_;
#line 1945 "../src/WindowManager.vala"
	clutter_actor_add_effect (_tmp54_, (ClutterEffect*) _tmp56_);
#line 1945 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp56_);
#line 1946 "../src/WindowManager.vala"
	_tmp57_ = self->priv->wallpaper;
#line 1946 "../src/WindowManager.vala"
	_tmp58_ = _g_object_ref0 (_tmp57_);
#line 1946 "../src/WindowManager.vala"
	self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp58_);
#line 1948 "../src/WindowManager.vala"
	_tmp59_ = workspace_to;
#line 1948 "../src/WindowManager.vala"
	if (_tmp59_ != NULL) {
#line 11468 "WindowManager.c"
		ClutterActor* _tmp60_;
		ClutterClone* _tmp61_;
		ClutterActor* _tmp62_;
		GalaShadowEffect* _tmp63_;
		GalaShadowEffect* _tmp64_;
		ClutterActor* _tmp65_;
		ClutterActor* _tmp66_;
#line 1949 "../src/WindowManager.vala"
		_tmp60_ = self->priv->wallpaper;
#line 1949 "../src/WindowManager.vala"
		_tmp61_ = (ClutterClone*) clutter_clone_new (_tmp60_);
#line 1949 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp61_);
#line 1949 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->wallpaper_clone);
#line 1949 "../src/WindowManager.vala"
		self->priv->wallpaper_clone = (ClutterActor*) _tmp61_;
#line 1950 "../src/WindowManager.vala"
		_tmp62_ = self->priv->wallpaper_clone;
#line 1950 "../src/WindowManager.vala"
		_tmp63_ = gala_shadow_effect_new ("workspace");
#line 1950 "../src/WindowManager.vala"
		g_object_ref_sink (_tmp63_);
#line 1950 "../src/WindowManager.vala"
		_tmp64_ = _tmp63_;
#line 1950 "../src/WindowManager.vala"
		clutter_actor_add_effect (_tmp62_, (ClutterEffect*) _tmp64_);
#line 1950 "../src/WindowManager.vala"
		_g_object_unref0 (_tmp64_);
#line 1951 "../src/WindowManager.vala"
		_tmp65_ = self->priv->wallpaper_clone;
#line 1951 "../src/WindowManager.vala"
		_tmp66_ = _g_object_ref0 (_tmp65_);
#line 1951 "../src/WindowManager.vala"
		self->priv->tmp_actors = g_list_prepend (self->priv->tmp_actors, _tmp66_);
#line 11504 "WindowManager.c"
	}
#line 1955 "../src/WindowManager.vala"
	_tmp67_ = main_container;
#line 1955 "../src/WindowManager.vala"
	_tmp68_ = background_actor;
#line 1955 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp67_, (ClutterActor*) _tmp68_);
#line 1956 "../src/WindowManager.vala"
	_tmp69_ = main_container;
#line 1956 "../src/WindowManager.vala"
	_tmp70_ = self->priv->wallpaper;
#line 1956 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp69_, _tmp70_);
#line 1957 "../src/WindowManager.vala"
	_tmp71_ = self->priv->wallpaper_clone;
#line 1957 "../src/WindowManager.vala"
	if (_tmp71_ != NULL) {
#line 11522 "WindowManager.c"
		ClutterActor* _tmp72_;
		ClutterActor* _tmp73_;
#line 1958 "../src/WindowManager.vala"
		_tmp72_ = main_container;
#line 1958 "../src/WindowManager.vala"
		_tmp73_ = self->priv->wallpaper_clone;
#line 1958 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp72_, _tmp73_);
#line 11531 "WindowManager.c"
	}
#line 1960 "../src/WindowManager.vala"
	_tmp74_ = main_container;
#line 1960 "../src/WindowManager.vala"
	_tmp75_ = self->priv->out_group;
#line 1960 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp74_, _tmp75_);
#line 1961 "../src/WindowManager.vala"
	_tmp76_ = self->priv->in_group;
#line 1961 "../src/WindowManager.vala"
	if (_tmp76_ != NULL) {
#line 11543 "WindowManager.c"
		ClutterActor* _tmp77_;
		ClutterActor* _tmp78_;
#line 1962 "../src/WindowManager.vala"
		_tmp77_ = main_container;
#line 1962 "../src/WindowManager.vala"
		_tmp78_ = self->priv->in_group;
#line 1962 "../src/WindowManager.vala"
		clutter_actor_add_child (_tmp77_, _tmp78_);
#line 11552 "WindowManager.c"
	}
#line 1964 "../src/WindowManager.vala"
	_tmp79_ = main_container;
#line 1964 "../src/WindowManager.vala"
	_tmp80_ = static_windows;
#line 1964 "../src/WindowManager.vala"
	clutter_actor_add_child (_tmp79_, _tmp80_);
#line 1967 "../src/WindowManager.vala"
	_tmp81_ = self->priv->moving;
#line 1967 "../src/WindowManager.vala"
	if (_tmp81_ != NULL) {
#line 11564 "WindowManager.c"
		MetaWindowActor* moving_actor = NULL;
		MetaWindow* _tmp82_;
		GObject* _tmp83_;
		MetaWindowActor* _tmp84_;
		ClutterActor* _tmp85_;
		MetaWindowActor* _tmp86_;
		ClutterActor* _tmp87_;
		ClutterActor* _tmp88_;
		MetaWindowActor* _tmp89_;
		MetaWindowActor* _tmp90_;
		ClutterActor* _tmp91_;
#line 1968 "../src/WindowManager.vala"
		_tmp82_ = self->priv->moving;
#line 1968 "../src/WindowManager.vala"
		_tmp83_ = meta_window_get_compositor_private (_tmp82_);
#line 1968 "../src/WindowManager.vala"
		moving_actor = G_TYPE_CHECK_INSTANCE_CAST (_tmp83_, meta_window_actor_get_type (), MetaWindowActor);
#line 1970 "../src/WindowManager.vala"
		_tmp84_ = moving_actor;
#line 1970 "../src/WindowManager.vala"
		_tmp85_ = _g_object_ref0 ((ClutterActor*) _tmp84_);
#line 1970 "../src/WindowManager.vala"
		self->priv->windows = g_list_prepend (self->priv->windows, _tmp85_);
#line 1971 "../src/WindowManager.vala"
		_tmp86_ = moving_actor;
#line 1971 "../src/WindowManager.vala"
		_tmp87_ = clutter_actor_get_parent ((ClutterActor*) _tmp86_);
#line 1971 "../src/WindowManager.vala"
		_tmp88_ = _g_object_ref0 (_tmp87_);
#line 1971 "../src/WindowManager.vala"
		self->priv->parents = g_list_prepend (self->priv->parents, _tmp88_);
#line 1973 "../src/WindowManager.vala"
		_tmp89_ = moving_actor;
#line 1973 "../src/WindowManager.vala"
		clutter_actor_set_translation ((ClutterActor*) _tmp89_, -clone_offset_x, -clone_offset_y, (gfloat) 0);
#line 1974 "../src/WindowManager.vala"
		_tmp90_ = moving_actor;
#line 1974 "../src/WindowManager.vala"
		_tmp91_ = static_windows;
#line 1974 "../src/WindowManager.vala"
		gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _tmp90_, _tmp91_);
#line 11606 "WindowManager.c"
	}
#line 1977 "../src/WindowManager.vala"
	_tmp92_ = self->priv->window_grab_tracker;
#line 1977 "../src/WindowManager.vala"
	_tmp93_ = gala_window_grab_tracker_get_current_window (_tmp92_);
#line 1977 "../src/WindowManager.vala"
	_tmp94_ = _tmp93_;
#line 1977 "../src/WindowManager.vala"
	grabbed_window = _tmp94_;
#line 1979 "../src/WindowManager.vala"
	_tmp95_ = grabbed_window;
#line 1979 "../src/WindowManager.vala"
	if (_tmp95_ != NULL) {
#line 11620 "WindowManager.c"
		MetaWindowActor* moving_actor = NULL;
		MetaWindow* _tmp96_;
		GObject* _tmp97_;
		MetaWindowActor* _tmp98_;
		ClutterActor* _tmp99_;
		MetaWindowActor* _tmp100_;
		ClutterActor* _tmp101_;
		ClutterActor* _tmp102_;
		MetaWindowActor* _tmp103_;
		MetaWindowActor* _tmp104_;
		ClutterActor* _tmp105_;
#line 1980 "../src/WindowManager.vala"
		_tmp96_ = grabbed_window;
#line 1980 "../src/WindowManager.vala"
		_tmp97_ = meta_window_get_compositor_private (_tmp96_);
#line 1980 "../src/WindowManager.vala"
		moving_actor = G_TYPE_CHECK_INSTANCE_CAST (_tmp97_, meta_window_actor_get_type (), MetaWindowActor);
#line 1982 "../src/WindowManager.vala"
		_tmp98_ = moving_actor;
#line 1982 "../src/WindowManager.vala"
		_tmp99_ = _g_object_ref0 ((ClutterActor*) _tmp98_);
#line 1982 "../src/WindowManager.vala"
		self->priv->windows = g_list_prepend (self->priv->windows, _tmp99_);
#line 1983 "../src/WindowManager.vala"
		_tmp100_ = moving_actor;
#line 1983 "../src/WindowManager.vala"
		_tmp101_ = clutter_actor_get_parent ((ClutterActor*) _tmp100_);
#line 1983 "../src/WindowManager.vala"
		_tmp102_ = _g_object_ref0 (_tmp101_);
#line 1983 "../src/WindowManager.vala"
		self->priv->parents = g_list_prepend (self->priv->parents, _tmp102_);
#line 1985 "../src/WindowManager.vala"
		_tmp103_ = moving_actor;
#line 1985 "../src/WindowManager.vala"
		clutter_actor_set_translation ((ClutterActor*) _tmp103_, -clone_offset_x, -clone_offset_y, (gfloat) 0);
#line 1986 "../src/WindowManager.vala"
		_tmp104_ = moving_actor;
#line 1986 "../src/WindowManager.vala"
		_tmp105_ = static_windows;
#line 1986 "../src/WindowManager.vala"
		gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _tmp104_, _tmp105_);
#line 11662 "WindowManager.c"
	}
#line 1989 "../src/WindowManager.vala"
	to_has_fullscreened = FALSE;
#line 1990 "../src/WindowManager.vala"
	from_has_fullscreened = FALSE;
#line 1993 "../src/WindowManager.vala"
	_tmp106_ = display;
#line 1993 "../src/WindowManager.vala"
	_tmp107_ = meta_get_window_actors (_tmp106_);
#line 11672 "WindowManager.c"
	{
		GList* actor_collection = NULL;
		GList* actor_it = NULL;
#line 1993 "../src/WindowManager.vala"
		actor_collection = _tmp107_;
#line 1993 "../src/WindowManager.vala"
		for (actor_it = actor_collection; actor_it != NULL; actor_it = actor_it->next) {
#line 11680 "WindowManager.c"
			MetaWindowActor* actor = NULL;
#line 1993 "../src/WindowManager.vala"
			actor = (MetaWindowActor*) actor_it->data;
#line 11684 "WindowManager.c"
			{
				MetaWindowActor* _tmp108_;
				MetaWindow* window = NULL;
				MetaWindowActor* _tmp109_;
				MetaWindow* _tmp110_;
				gboolean _tmp111_ = FALSE;
				gboolean _tmp112_ = FALSE;
				gboolean _tmp113_ = FALSE;
				MetaWindow* _tmp114_;
				MetaWindow* _tmp121_;
				gboolean _tmp122_;
				gboolean _tmp123_;
				MetaWindow* _tmp142_;
				MetaWorkspace* _tmp143_;
				MetaWorkspace* _tmp144_;
#line 1994 "../src/WindowManager.vala"
				_tmp108_ = actor;
#line 1994 "../src/WindowManager.vala"
				if (meta_window_actor_is_destroyed (_tmp108_)) {
#line 1995 "../src/WindowManager.vala"
					continue;
#line 11706 "WindowManager.c"
				}
#line 1998 "../src/WindowManager.vala"
				_tmp109_ = actor;
#line 1998 "../src/WindowManager.vala"
				_tmp110_ = meta_window_actor_get_meta_window (_tmp109_);
#line 1998 "../src/WindowManager.vala"
				window = _tmp110_;
#line 2000 "../src/WindowManager.vala"
				_tmp114_ = window;
#line 2000 "../src/WindowManager.vala"
				if (!meta_window_showing_on_its_workspace (_tmp114_)) {
#line 2000 "../src/WindowManager.vala"
					_tmp113_ = TRUE;
#line 11720 "WindowManager.c"
				} else {
					gboolean _tmp115_ = FALSE;
#line 2001 "../src/WindowManager.vala"
					if (move_primary_only) {
#line 11725 "WindowManager.c"
						MetaWindow* _tmp116_;
#line 2001 "../src/WindowManager.vala"
						_tmp116_ = window;
#line 2001 "../src/WindowManager.vala"
						_tmp115_ = !meta_window_is_on_primary_monitor (_tmp116_);
#line 11731 "WindowManager.c"
					} else {
#line 2001 "../src/WindowManager.vala"
						_tmp115_ = FALSE;
#line 11735 "WindowManager.c"
					}
#line 2001 "../src/WindowManager.vala"
					_tmp113_ = _tmp115_;
#line 11739 "WindowManager.c"
				}
#line 2000 "../src/WindowManager.vala"
				if (_tmp113_) {
#line 2000 "../src/WindowManager.vala"
					_tmp112_ = TRUE;
#line 11745 "WindowManager.c"
				} else {
					MetaWindow* _tmp117_;
					MetaWindow* _tmp118_;
#line 2002 "../src/WindowManager.vala"
					_tmp117_ = window;
#line 2002 "../src/WindowManager.vala"
					_tmp118_ = self->priv->moving;
#line 2002 "../src/WindowManager.vala"
					_tmp112_ = _tmp117_ == _tmp118_;
#line 11755 "WindowManager.c"
				}
#line 2000 "../src/WindowManager.vala"
				if (_tmp112_) {
#line 2000 "../src/WindowManager.vala"
					_tmp111_ = TRUE;
#line 11761 "WindowManager.c"
				} else {
					MetaWindow* _tmp119_;
					MetaWindow* _tmp120_;
#line 2003 "../src/WindowManager.vala"
					_tmp119_ = window;
#line 2003 "../src/WindowManager.vala"
					_tmp120_ = grabbed_window;
#line 2003 "../src/WindowManager.vala"
					_tmp111_ = _tmp119_ == _tmp120_;
#line 11771 "WindowManager.c"
				}
#line 2000 "../src/WindowManager.vala"
				if (_tmp111_) {
#line 2005 "../src/WindowManager.vala"
					continue;
#line 11777 "WindowManager.c"
				}
#line 2008 "../src/WindowManager.vala"
				_tmp121_ = window;
#line 2008 "../src/WindowManager.vala"
				g_object_get (_tmp121_, "on-all-workspaces", &_tmp122_, NULL);
#line 2008 "../src/WindowManager.vala"
				_tmp123_ = _tmp122_;
#line 2008 "../src/WindowManager.vala"
				if (_tmp123_) {
#line 11787 "WindowManager.c"
					MetaWindow* _tmp124_;
					MetaWindowType _tmp125_;
					MetaWindowType _tmp126_;
					MetaWindowActor* _tmp127_;
					ClutterActor* _tmp128_;
					MetaWindowActor* _tmp129_;
					ClutterActor* _tmp130_;
					ClutterActor* _tmp131_;
					MetaWindowActor* _tmp132_;
					ClutterActor* _tmp133_;
					MetaWindowActor* _tmp134_;
					MetaWindow* _tmp135_;
					MetaWindowType _tmp136_;
					MetaWindowType _tmp137_;
					MetaWindowActor* _tmp138_;
					MetaWindowActor* _tmp139_;
					MetaWindowActor* _tmp140_;
					MetaWindowActor* _tmp141_;
#line 2010 "../src/WindowManager.vala"
					_tmp124_ = window;
#line 2010 "../src/WindowManager.vala"
					_tmp125_ = meta_window_get_window_type (_tmp124_);
#line 2010 "../src/WindowManager.vala"
					_tmp126_ = _tmp125_;
#line 2010 "../src/WindowManager.vala"
					if (_tmp126_ == META_WINDOW_NOTIFICATION) {
#line 2011 "../src/WindowManager.vala"
						continue;
#line 11816 "WindowManager.c"
					}
#line 2014 "../src/WindowManager.vala"
					_tmp127_ = actor;
#line 2014 "../src/WindowManager.vala"
					_tmp128_ = _g_object_ref0 ((ClutterActor*) _tmp127_);
#line 2014 "../src/WindowManager.vala"
					self->priv->windows = g_list_prepend (self->priv->windows, _tmp128_);
#line 2015 "../src/WindowManager.vala"
					_tmp129_ = actor;
#line 2015 "../src/WindowManager.vala"
					_tmp130_ = clutter_actor_get_parent ((ClutterActor*) _tmp129_);
#line 2015 "../src/WindowManager.vala"
					_tmp131_ = _g_object_ref0 (_tmp130_);
#line 2015 "../src/WindowManager.vala"
					self->priv->parents = g_list_prepend (self->priv->parents, _tmp131_);
#line 2017 "../src/WindowManager.vala"
					_tmp132_ = actor;
#line 2017 "../src/WindowManager.vala"
					_tmp133_ = static_windows;
#line 2017 "../src/WindowManager.vala"
					gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _tmp132_, _tmp133_);
#line 2018 "../src/WindowManager.vala"
					_tmp134_ = actor;
#line 2018 "../src/WindowManager.vala"
					clutter_actor_set_translation ((ClutterActor*) _tmp134_, -clone_offset_x, -clone_offset_y, (gfloat) 0);
#line 2021 "../src/WindowManager.vala"
					_tmp135_ = window;
#line 2021 "../src/WindowManager.vala"
					_tmp136_ = meta_window_get_window_type (_tmp135_);
#line 2021 "../src/WindowManager.vala"
					_tmp137_ = _tmp136_;
#line 2021 "../src/WindowManager.vala"
					if (_tmp137_ == META_WINDOW_DOCK) {
#line 2022 "../src/WindowManager.vala"
						continue;
#line 11852 "WindowManager.c"
					}
#line 2026 "../src/WindowManager.vala"
					_tmp138_ = actor;
#line 2026 "../src/WindowManager.vala"
					clutter_actor_save_easing_state ((ClutterActor*) _tmp138_);
#line 2027 "../src/WindowManager.vala"
					_tmp139_ = actor;
#line 2027 "../src/WindowManager.vala"
					clutter_actor_set_easing_duration ((ClutterActor*) _tmp139_, (guint) 300);
#line 2028 "../src/WindowManager.vala"
					_tmp140_ = actor;
#line 2028 "../src/WindowManager.vala"
					clutter_actor_set_opacity ((ClutterActor*) _tmp140_, (guint) 0);
#line 2029 "../src/WindowManager.vala"
					_tmp141_ = actor;
#line 2029 "../src/WindowManager.vala"
					clutter_actor_restore_easing_state ((ClutterActor*) _tmp141_);
#line 2031 "../src/WindowManager.vala"
					continue;
#line 11872 "WindowManager.c"
				}
#line 2034 "../src/WindowManager.vala"
				_tmp142_ = window;
#line 2034 "../src/WindowManager.vala"
				_tmp143_ = meta_window_get_workspace (_tmp142_);
#line 2034 "../src/WindowManager.vala"
				_tmp144_ = workspace_from;
#line 2034 "../src/WindowManager.vala"
				if (_tmp143_ == _tmp144_) {
#line 11882 "WindowManager.c"
					MetaWindowActor* _tmp145_;
					ClutterActor* _tmp146_;
					MetaWindowActor* _tmp147_;
					ClutterActor* _tmp148_;
					ClutterActor* _tmp149_;
					MetaWindowActor* _tmp150_;
					MetaWindowActor* _tmp151_;
					ClutterActor* _tmp152_;
					MetaWindow* _tmp153_;
					gboolean _tmp154_;
					gboolean _tmp155_;
#line 2035 "../src/WindowManager.vala"
					_tmp145_ = actor;
#line 2035 "../src/WindowManager.vala"
					_tmp146_ = _g_object_ref0 ((ClutterActor*) _tmp145_);
#line 2035 "../src/WindowManager.vala"
					self->priv->windows = g_list_append (self->priv->windows, _tmp146_);
#line 2036 "../src/WindowManager.vala"
					_tmp147_ = actor;
#line 2036 "../src/WindowManager.vala"
					_tmp148_ = clutter_actor_get_parent ((ClutterActor*) _tmp147_);
#line 2036 "../src/WindowManager.vala"
					_tmp149_ = _g_object_ref0 (_tmp148_);
#line 2036 "../src/WindowManager.vala"
					self->priv->parents = g_list_append (self->priv->parents, _tmp149_);
#line 2037 "../src/WindowManager.vala"
					_tmp150_ = actor;
#line 2037 "../src/WindowManager.vala"
					clutter_actor_set_translation ((ClutterActor*) _tmp150_, -clone_offset_x, -clone_offset_y, (gfloat) 0);
#line 2038 "../src/WindowManager.vala"
					_tmp151_ = actor;
#line 2038 "../src/WindowManager.vala"
					_tmp152_ = self->priv->out_group;
#line 2038 "../src/WindowManager.vala"
					gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _tmp151_, _tmp152_);
#line 2040 "../src/WindowManager.vala"
					_tmp153_ = window;
#line 2040 "../src/WindowManager.vala"
					g_object_get (_tmp153_, "fullscreen", &_tmp154_, NULL);
#line 2040 "../src/WindowManager.vala"
					_tmp155_ = _tmp154_;
#line 2040 "../src/WindowManager.vala"
					if (_tmp155_) {
#line 2041 "../src/WindowManager.vala"
						from_has_fullscreened = TRUE;
#line 11928 "WindowManager.c"
					}
				} else {
					gboolean _tmp156_ = FALSE;
					MetaWorkspace* _tmp157_;
#line 2043 "../src/WindowManager.vala"
					_tmp157_ = workspace_to;
#line 2043 "../src/WindowManager.vala"
					if (_tmp157_ != NULL) {
#line 11937 "WindowManager.c"
						MetaWindow* _tmp158_;
						MetaWorkspace* _tmp159_;
						MetaWorkspace* _tmp160_;
#line 2043 "../src/WindowManager.vala"
						_tmp158_ = window;
#line 2043 "../src/WindowManager.vala"
						_tmp159_ = meta_window_get_workspace (_tmp158_);
#line 2043 "../src/WindowManager.vala"
						_tmp160_ = workspace_to;
#line 2043 "../src/WindowManager.vala"
						_tmp156_ = _tmp159_ == _tmp160_;
#line 11949 "WindowManager.c"
					} else {
#line 2043 "../src/WindowManager.vala"
						_tmp156_ = FALSE;
#line 11953 "WindowManager.c"
					}
#line 2043 "../src/WindowManager.vala"
					if (_tmp156_) {
#line 11957 "WindowManager.c"
						MetaWindowActor* _tmp161_;
						ClutterActor* _tmp162_;
						MetaWindowActor* _tmp163_;
						ClutterActor* _tmp164_;
						ClutterActor* _tmp165_;
						MetaWindowActor* _tmp166_;
						MetaWindowActor* _tmp167_;
						ClutterActor* _tmp168_;
						MetaWindow* _tmp169_;
						gboolean _tmp170_;
						gboolean _tmp171_;
#line 2044 "../src/WindowManager.vala"
						_tmp161_ = actor;
#line 2044 "../src/WindowManager.vala"
						_tmp162_ = _g_object_ref0 ((ClutterActor*) _tmp161_);
#line 2044 "../src/WindowManager.vala"
						self->priv->windows = g_list_append (self->priv->windows, _tmp162_);
#line 2045 "../src/WindowManager.vala"
						_tmp163_ = actor;
#line 2045 "../src/WindowManager.vala"
						_tmp164_ = clutter_actor_get_parent ((ClutterActor*) _tmp163_);
#line 2045 "../src/WindowManager.vala"
						_tmp165_ = _g_object_ref0 (_tmp164_);
#line 2045 "../src/WindowManager.vala"
						self->priv->parents = g_list_append (self->priv->parents, _tmp165_);
#line 2046 "../src/WindowManager.vala"
						_tmp166_ = actor;
#line 2046 "../src/WindowManager.vala"
						clutter_actor_set_translation ((ClutterActor*) _tmp166_, -clone_offset_x, -clone_offset_y, (gfloat) 0);
#line 2047 "../src/WindowManager.vala"
						_tmp167_ = actor;
#line 2047 "../src/WindowManager.vala"
						_tmp168_ = self->priv->in_group;
#line 2047 "../src/WindowManager.vala"
						gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _tmp167_, _tmp168_);
#line 2049 "../src/WindowManager.vala"
						_tmp169_ = window;
#line 2049 "../src/WindowManager.vala"
						g_object_get (_tmp169_, "fullscreen", &_tmp170_, NULL);
#line 2049 "../src/WindowManager.vala"
						_tmp171_ = _tmp170_;
#line 2049 "../src/WindowManager.vala"
						if (_tmp171_) {
#line 2050 "../src/WindowManager.vala"
							to_has_fullscreened = TRUE;
#line 12003 "WindowManager.c"
						}
					}
				}
			}
		}
	}
#line 2055 "../src/WindowManager.vala"
	_tmp172_ = main_container;
#line 2055 "../src/WindowManager.vala"
	clutter_actor_set_clip_to_allocation (_tmp172_, TRUE);
#line 2056 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12016 "WindowManager.c"
		MtkRectangle _tmp174_;
#line 2056 "../src/WindowManager.vala"
		_tmp174_ = monitor_geom;
#line 2056 "../src/WindowManager.vala"
		_tmp173_ = (gfloat) _tmp174_.x;
#line 12022 "WindowManager.c"
	} else {
#line 2056 "../src/WindowManager.vala"
		_tmp173_ = 0.0f;
#line 12026 "WindowManager.c"
	}
#line 2056 "../src/WindowManager.vala"
	_tmp175_ = main_container;
#line 2056 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp175_, _tmp173_);
#line 2057 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12034 "WindowManager.c"
		MtkRectangle _tmp177_;
#line 2057 "../src/WindowManager.vala"
		_tmp177_ = monitor_geom;
#line 2057 "../src/WindowManager.vala"
		_tmp176_ = (gfloat) _tmp177_.y;
#line 12040 "WindowManager.c"
	} else {
#line 2057 "../src/WindowManager.vala"
		_tmp176_ = 0.0f;
#line 12044 "WindowManager.c"
	}
#line 2057 "../src/WindowManager.vala"
	_tmp178_ = main_container;
#line 2057 "../src/WindowManager.vala"
	clutter_actor_set_y (_tmp178_, _tmp176_);
#line 2058 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12052 "WindowManager.c"
		MtkRectangle _tmp180_;
#line 2058 "../src/WindowManager.vala"
		_tmp180_ = monitor_geom;
#line 2058 "../src/WindowManager.vala"
		_tmp179_ = (gfloat) _tmp180_.width;
#line 12058 "WindowManager.c"
	} else {
#line 2058 "../src/WindowManager.vala"
		_tmp179_ = screen_width;
#line 12062 "WindowManager.c"
	}
#line 2058 "../src/WindowManager.vala"
	_tmp181_ = main_container;
#line 2058 "../src/WindowManager.vala"
	clutter_actor_set_width (_tmp181_, _tmp179_);
#line 2059 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12070 "WindowManager.c"
		MtkRectangle _tmp183_;
#line 2059 "../src/WindowManager.vala"
		_tmp183_ = monitor_geom;
#line 2059 "../src/WindowManager.vala"
		_tmp182_ = (gfloat) _tmp183_.height;
#line 12076 "WindowManager.c"
	} else {
#line 2059 "../src/WindowManager.vala"
		_tmp182_ = screen_height;
#line 12080 "WindowManager.c"
	}
#line 2059 "../src/WindowManager.vala"
	_tmp184_ = main_container;
#line 2059 "../src/WindowManager.vala"
	clutter_actor_set_height (_tmp184_, _tmp182_);
#line 2061 "../src/WindowManager.vala"
	_tmp185_ = display;
#line 2061 "../src/WindowManager.vala"
	monitor_scale = meta_display_get_monitor_scale (_tmp185_, primary);
#line 2062 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12092 "WindowManager.c"
		MtkRectangle _tmp187_;
#line 2062 "../src/WindowManager.vala"
		_tmp187_ = monitor_geom;
#line 2062 "../src/WindowManager.vala"
		_tmp186_ = (gfloat) _tmp187_.width;
#line 12098 "WindowManager.c"
	} else {
#line 2062 "../src/WindowManager.vala"
		_tmp186_ = screen_width;
#line 12102 "WindowManager.c"
	}
#line 2062 "../src/WindowManager.vala"
	x2 = _tmp186_;
#line 2063 "../src/WindowManager.vala"
	_tmp188_ = workspace_to;
#line 2063 "../src/WindowManager.vala"
	if (_tmp188_ != NULL) {
#line 2064 "../src/WindowManager.vala"
		x2 += GALA_WINDOW_MANAGER_GALA_WORKSPACE_GAP * monitor_scale;
#line 12112 "WindowManager.c"
	}
#line 2066 "../src/WindowManager.vala"
	if (direction == META_MOTION_RIGHT) {
#line 2067 "../src/WindowManager.vala"
		x2 = -x2;
#line 12118 "WindowManager.c"
	}
#line 2070 "../src/WindowManager.vala"
	_tmp189_ = self->priv->out_group;
#line 2070 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp189_, 0.0f);
#line 2071 "../src/WindowManager.vala"
	_tmp190_ = self->priv->wallpaper;
#line 2071 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp190_, 0.0f);
#line 2072 "../src/WindowManager.vala"
	_tmp191_ = self->priv->wallpaper;
#line 2072 "../src/WindowManager.vala"
	_tmp192_ = self->priv->wallpaper;
#line 2072 "../src/WindowManager.vala"
	_tmp193_ = clutter_actor_get_y (_tmp192_);
#line 2072 "../src/WindowManager.vala"
	_tmp194_ = _tmp193_;
#line 2072 "../src/WindowManager.vala"
	clutter_actor_set_y (_tmp192_, _tmp194_ + clone_offset_y);
#line 2073 "../src/WindowManager.vala"
	_tmp195_ = self->priv->wallpaper;
#line 2073 "../src/WindowManager.vala"
	clutter_actor_set_translation (_tmp195_, -clone_offset_x, 0.0f, 0.0f);
#line 2075 "../src/WindowManager.vala"
	_tmp197_ = self->priv->in_group;
#line 2075 "../src/WindowManager.vala"
	if (_tmp197_ != NULL) {
#line 12146 "WindowManager.c"
		ClutterActor* _tmp198_;
#line 2075 "../src/WindowManager.vala"
		_tmp198_ = self->priv->wallpaper_clone;
#line 2075 "../src/WindowManager.vala"
		_tmp196_ = _tmp198_ != NULL;
#line 12152 "WindowManager.c"
	} else {
#line 2075 "../src/WindowManager.vala"
		_tmp196_ = FALSE;
#line 12156 "WindowManager.c"
	}
#line 2075 "../src/WindowManager.vala"
	if (_tmp196_) {
#line 12160 "WindowManager.c"
		ClutterActor* _tmp199_;
		ClutterActor* _tmp200_;
		ClutterActor* _tmp201_;
		ClutterActor* _tmp202_;
		gfloat _tmp203_;
		gfloat _tmp204_;
		ClutterActor* _tmp205_;
#line 2076 "../src/WindowManager.vala"
		_tmp199_ = self->priv->in_group;
#line 2076 "../src/WindowManager.vala"
		clutter_actor_set_x (_tmp199_, -x2);
#line 2077 "../src/WindowManager.vala"
		_tmp200_ = self->priv->wallpaper_clone;
#line 2077 "../src/WindowManager.vala"
		clutter_actor_set_x (_tmp200_, -x2);
#line 2078 "../src/WindowManager.vala"
		_tmp201_ = self->priv->wallpaper_clone;
#line 2078 "../src/WindowManager.vala"
		_tmp202_ = self->priv->wallpaper_clone;
#line 2078 "../src/WindowManager.vala"
		_tmp203_ = clutter_actor_get_y (_tmp202_);
#line 2078 "../src/WindowManager.vala"
		_tmp204_ = _tmp203_;
#line 2078 "../src/WindowManager.vala"
		clutter_actor_set_y (_tmp202_, _tmp204_ + clone_offset_y);
#line 2079 "../src/WindowManager.vala"
		_tmp205_ = self->priv->wallpaper_clone;
#line 2079 "../src/WindowManager.vala"
		clutter_actor_set_translation (_tmp205_, -clone_offset_x, 0.0f, 0.0f);
#line 12190 "WindowManager.c"
	}
#line 2084 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12194 "WindowManager.c"
		ClutterActor* _tmp206_;
		MtkRectangle _tmp207_;
		ClutterActor* _tmp208_;
#line 2085 "../src/WindowManager.vala"
		_tmp206_ = self->priv->wallpaper;
#line 2085 "../src/WindowManager.vala"
		_tmp207_ = monitor_geom;
#line 2085 "../src/WindowManager.vala"
		clutter_actor_set_y (_tmp206_, (gfloat) (-_tmp207_.y));
#line 2086 "../src/WindowManager.vala"
		_tmp208_ = self->priv->wallpaper_clone;
#line 2086 "../src/WindowManager.vala"
		if (_tmp208_ != NULL) {
#line 12208 "WindowManager.c"
			ClutterActor* _tmp209_;
			MtkRectangle _tmp210_;
#line 2087 "../src/WindowManager.vala"
			_tmp209_ = self->priv->wallpaper_clone;
#line 2087 "../src/WindowManager.vala"
			_tmp210_ = monitor_geom;
#line 2087 "../src/WindowManager.vala"
			clutter_actor_set_y (_tmp209_, (gfloat) (-_tmp210_.y));
#line 12217 "WindowManager.c"
		}
	}
#line 2091 "../src/WindowManager.vala"
	_tmp211_ = self->priv->out_group;
#line 2091 "../src/WindowManager.vala"
	clutter_actor_set_clip_to_allocation (_tmp211_, TRUE);
#line 2092 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12226 "WindowManager.c"
		MtkRectangle _tmp213_;
#line 2092 "../src/WindowManager.vala"
		_tmp213_ = monitor_geom;
#line 2092 "../src/WindowManager.vala"
		_tmp212_ = (gfloat) _tmp213_.width;
#line 12232 "WindowManager.c"
	} else {
#line 2092 "../src/WindowManager.vala"
		_tmp212_ = screen_width;
#line 12236 "WindowManager.c"
	}
#line 2092 "../src/WindowManager.vala"
	_tmp214_ = self->priv->out_group;
#line 2092 "../src/WindowManager.vala"
	clutter_actor_set_width (_tmp214_, _tmp212_);
#line 2093 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 12244 "WindowManager.c"
		MtkRectangle _tmp216_;
#line 2093 "../src/WindowManager.vala"
		_tmp216_ = monitor_geom;
#line 2093 "../src/WindowManager.vala"
		_tmp215_ = (gfloat) _tmp216_.height;
#line 12250 "WindowManager.c"
	} else {
#line 2093 "../src/WindowManager.vala"
		_tmp215_ = screen_height;
#line 12254 "WindowManager.c"
	}
#line 2093 "../src/WindowManager.vala"
	_tmp217_ = self->priv->out_group;
#line 2093 "../src/WindowManager.vala"
	clutter_actor_set_height (_tmp217_, _tmp215_);
#line 2095 "../src/WindowManager.vala"
	_tmp218_ = self->priv->in_group;
#line 2095 "../src/WindowManager.vala"
	if (_tmp218_ != NULL) {
#line 12264 "WindowManager.c"
		ClutterActor* _tmp219_;
		ClutterActor* _tmp220_;
		gboolean _tmp221_;
		gboolean _tmp222_;
		ClutterActor* _tmp223_;
		ClutterActor* _tmp224_;
		gfloat _tmp225_;
		gfloat _tmp226_;
		ClutterActor* _tmp227_;
		ClutterActor* _tmp228_;
		gfloat _tmp229_;
		gfloat _tmp230_;
#line 2096 "../src/WindowManager.vala"
		_tmp219_ = self->priv->in_group;
#line 2096 "../src/WindowManager.vala"
		_tmp220_ = self->priv->out_group;
#line 2096 "../src/WindowManager.vala"
		_tmp221_ = clutter_actor_get_clip_to_allocation (_tmp220_);
#line 2096 "../src/WindowManager.vala"
		_tmp222_ = _tmp221_;
#line 2096 "../src/WindowManager.vala"
		clutter_actor_set_clip_to_allocation (_tmp219_, _tmp222_);
#line 2097 "../src/WindowManager.vala"
		_tmp223_ = self->priv->in_group;
#line 2097 "../src/WindowManager.vala"
		_tmp224_ = self->priv->out_group;
#line 2097 "../src/WindowManager.vala"
		_tmp225_ = clutter_actor_get_width (_tmp224_);
#line 2097 "../src/WindowManager.vala"
		_tmp226_ = _tmp225_;
#line 2097 "../src/WindowManager.vala"
		clutter_actor_set_width (_tmp223_, _tmp226_);
#line 2098 "../src/WindowManager.vala"
		_tmp227_ = self->priv->in_group;
#line 2098 "../src/WindowManager.vala"
		_tmp228_ = self->priv->out_group;
#line 2098 "../src/WindowManager.vala"
		_tmp229_ = clutter_actor_get_height (_tmp228_);
#line 2098 "../src/WindowManager.vala"
		_tmp230_ = _tmp229_;
#line 2098 "../src/WindowManager.vala"
		clutter_actor_set_height (_tmp227_, _tmp230_);
#line 12307 "WindowManager.c"
	}
#line 1899 "../src/WindowManager.vala"
	_g_object_unref0 (static_windows);
#line 1899 "../src/WindowManager.vala"
	_g_object_unref0 (background_actor);
#line 1899 "../src/WindowManager.vala"
	_g_object_unref0 (main_container);
#line 12315 "WindowManager.c"
}

static Block31Data*
block31_data_ref (Block31Data* _data31_)
{
#line 2102 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data31_->_ref_count_);
#line 2102 "../src/WindowManager.vala"
	return _data31_;
#line 12325 "WindowManager.c"
}

static void
block31_data_unref (void * _userdata_)
{
	Block31Data* _data31_;
	_data31_ = (Block31Data*) _userdata_;
#line 2102 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data31_->_ref_count_)) {
#line 12335 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 2102 "../src/WindowManager.vala"
		self = _data31_->self;
#line 2102 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 2102 "../src/WindowManager.vala"
		g_slice_free (Block31Data, _data31_);
#line 12343 "WindowManager.c"
	}
}

static void
__lambda200_ (GalaWindowManagerGala* self,
              MetaWindow* window)
{
	MetaWindowType _tmp0_;
	MetaWindowType _tmp1_;
#line 2120 "../src/WindowManager.vala"
	g_return_if_fail (window != NULL);
#line 2121 "../src/WindowManager.vala"
	_tmp0_ = meta_window_get_window_type (window);
#line 2121 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 2121 "../src/WindowManager.vala"
	if (_tmp1_ == META_WINDOW_NOTIFICATION) {
#line 12361 "WindowManager.c"
		MetaWindowActor* actor = NULL;
		GObject* _tmp2_;
		MetaWindowActor* _tmp3_;
		ClutterActor* _tmp4_;
		GalaNotificationStack* _tmp5_;
		MetaWindowActor* _tmp6_;
		gboolean _tmp7_;
		gboolean _tmp8_;
#line 2122 "../src/WindowManager.vala"
		_tmp2_ = meta_window_get_compositor_private (window);
#line 2122 "../src/WindowManager.vala"
		actor = G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, meta_window_actor_get_type (), MetaWindowActor);
#line 2123 "../src/WindowManager.vala"
		_tmp3_ = actor;
#line 2123 "../src/WindowManager.vala"
		_tmp4_ = self->priv->_notification_group;
#line 2123 "../src/WindowManager.vala"
		gala_window_manager_gala_clutter_actor_reparent ((ClutterActor*) _tmp3_, _tmp4_);
#line 2124 "../src/WindowManager.vala"
		_tmp5_ = self->priv->notification_stack;
#line 2124 "../src/WindowManager.vala"
		_tmp6_ = actor;
#line 2124 "../src/WindowManager.vala"
		_tmp7_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 2124 "../src/WindowManager.vala"
		_tmp8_ = _tmp7_;
#line 2124 "../src/WindowManager.vala"
		gala_notification_stack_show_notification (_tmp5_, _tmp6_, _tmp8_);
#line 12390 "WindowManager.c"
	}
}

static void
___lambda200__gala_window_manager_gala_window_created (GalaWindowManagerGala* _sender,
                                                       MetaWindow* window,
                                                       gpointer self)
{
#line 2120 "../src/WindowManager.vala"
	__lambda200_ ((GalaWindowManagerGala*) self, window);
#line 12401 "WindowManager.c"
}

static void
__lambda201_ (Block31Data* _data31_,
              gdouble percentage)
{
	GalaWindowManagerGala* self;
	gfloat x_out = 0.0F;
	gfloat x_in = 0.0F;
	ClutterActor* _tmp0_;
	ClutterActor* _tmp1_;
	ClutterActor* _tmp2_;
	ClutterActor* _tmp3_;
#line 2131 "../src/WindowManager.vala"
	self = _data31_->self;
#line 2132 "../src/WindowManager.vala"
	x_out = gala_gesture_tracker_animation_value (0.0f, _data31_->x2, percentage, TRUE);
#line 2133 "../src/WindowManager.vala"
	x_in = gala_gesture_tracker_animation_value (-_data31_->x2, 0.0f, percentage, TRUE);
#line 2135 "../src/WindowManager.vala"
	_tmp0_ = self->priv->out_group;
#line 2135 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp0_, x_out);
#line 2136 "../src/WindowManager.vala"
	_tmp1_ = self->priv->in_group;
#line 2136 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp1_, x_in);
#line 2138 "../src/WindowManager.vala"
	_tmp2_ = self->priv->wallpaper;
#line 2138 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp2_, x_out);
#line 2139 "../src/WindowManager.vala"
	_tmp3_ = self->priv->wallpaper_clone;
#line 2139 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp3_, x_in);
#line 12437 "WindowManager.c"
}

static void
___lambda201__gala_gesture_tracker_on_update (gdouble percentage,
                                              gpointer self)
{
#line 2131 "../src/WindowManager.vala"
	__lambda201_ (self, percentage);
#line 12446 "WindowManager.c"
}

static Block32Data*
block32_data_ref (Block32Data* _data32_)
{
#line 2142 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data32_->_ref_count_);
#line 2142 "../src/WindowManager.vala"
	return _data32_;
#line 12456 "WindowManager.c"
}

static void
block32_data_unref (void * _userdata_)
{
	Block32Data* _data32_;
	_data32_ = (Block32Data*) _userdata_;
#line 2142 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data32_->_ref_count_)) {
#line 12466 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 2142 "../src/WindowManager.vala"
		self = _data32_->_data31_->self;
#line 2142 "../src/WindowManager.vala"
		block31_data_unref (_data32_->_data31_);
#line 2142 "../src/WindowManager.vala"
		_data32_->_data31_ = NULL;
#line 2142 "../src/WindowManager.vala"
		g_slice_free (Block32Data, _data32_);
#line 12476 "WindowManager.c"
	}
}

static void
___lambda203_ (Block32Data* _data32_)
{
	Block31Data* _data31_;
	GalaWindowManagerGala* self;
#line 2178 "../src/WindowManager.vala"
	_data31_ = _data32_->_data31_;
#line 2178 "../src/WindowManager.vala"
	self = _data31_->self;
#line 2179 "../src/WindowManager.vala"
	gala_window_manager_gala_switch_workspace_animation_finished (self, _data31_->direction, _data32_->cancel_action, FALSE);
#line 12491 "WindowManager.c"
}

static void
____lambda203__clutter_timeline_completed (ClutterTimeline* _sender,
                                           gpointer self)
{
#line 2178 "../src/WindowManager.vala"
	___lambda203_ (self);
#line 12500 "WindowManager.c"
}

static void
__lambda202_ (Block31Data* _data31_,
              gdouble percentage,
              gboolean cancel_action,
              gint duration)
{
	GalaWindowManagerGala* self;
	Block32Data* _data32_;
	gboolean _tmp0_ = FALSE;
	ClutterActor* _tmp2_;
	ClutterActor* _tmp3_;
	ClutterActor* _tmp4_;
	ClutterActor* _tmp5_;
	ClutterActor* _tmp6_;
	ClutterActor* _tmp7_;
	ClutterActor* _tmp8_;
	ClutterActor* _tmp9_;
	ClutterActor* _tmp10_;
	ClutterActor* _tmp11_;
	ClutterActor* _tmp12_;
	ClutterActor* _tmp13_;
	gfloat _tmp14_ = 0.0F;
	ClutterActor* _tmp15_;
	ClutterActor* _tmp16_;
	gfloat _tmp17_ = 0.0F;
	ClutterActor* _tmp18_;
	ClutterActor* _tmp19_;
	gfloat _tmp20_ = 0.0F;
	ClutterActor* _tmp21_;
	ClutterActor* _tmp22_;
	gfloat _tmp23_ = 0.0F;
	ClutterActor* _tmp24_;
	ClutterActor* _tmp25_;
	ClutterTransition* transition = NULL;
	ClutterActor* _tmp26_;
	ClutterTransition* _tmp27_;
	ClutterTransition* _tmp28_;
	ClutterTransition* _tmp29_;
#line 2142 "../src/WindowManager.vala"
	self = _data31_->self;
#line 2142 "../src/WindowManager.vala"
	_data32_ = g_slice_new0 (Block32Data);
#line 2142 "../src/WindowManager.vala"
	_data32_->_ref_count_ = 1;
#line 2142 "../src/WindowManager.vala"
	_data32_->_data31_ = block31_data_ref (_data31_);
#line 2142 "../src/WindowManager.vala"
	_data32_->cancel_action = cancel_action;
#line 2143 "../src/WindowManager.vala"
	if (self->priv->switch_workspace_with_gesture) {
#line 12553 "WindowManager.c"
		gboolean _tmp1_ = FALSE;
#line 2143 "../src/WindowManager.vala"
		if (percentage == ((gdouble) 1)) {
#line 2143 "../src/WindowManager.vala"
			_tmp1_ = TRUE;
#line 12559 "WindowManager.c"
		} else {
#line 2143 "../src/WindowManager.vala"
			_tmp1_ = percentage == ((gdouble) 0);
#line 12563 "WindowManager.c"
		}
#line 2143 "../src/WindowManager.vala"
		_tmp0_ = _tmp1_;
#line 12567 "WindowManager.c"
	} else {
#line 2143 "../src/WindowManager.vala"
		_tmp0_ = FALSE;
#line 12571 "WindowManager.c"
	}
#line 2143 "../src/WindowManager.vala"
	if (_tmp0_) {
#line 2144 "../src/WindowManager.vala"
		gala_window_manager_gala_switch_workspace_animation_finished (self, _data31_->direction, _data32_->cancel_action, FALSE);
#line 2145 "../src/WindowManager.vala"
		block32_data_unref (_data32_);
#line 2145 "../src/WindowManager.vala"
		_data32_ = NULL;
#line 2145 "../src/WindowManager.vala"
		return;
#line 12583 "WindowManager.c"
	}
#line 2148 "../src/WindowManager.vala"
	_tmp2_ = self->priv->out_group;
#line 2148 "../src/WindowManager.vala"
	clutter_actor_save_easing_state (_tmp2_);
#line 2149 "../src/WindowManager.vala"
	_tmp3_ = self->priv->out_group;
#line 2149 "../src/WindowManager.vala"
	clutter_actor_set_easing_mode (_tmp3_, _data31_->animation_mode);
#line 2150 "../src/WindowManager.vala"
	_tmp4_ = self->priv->out_group;
#line 2150 "../src/WindowManager.vala"
	clutter_actor_set_easing_duration (_tmp4_, (guint) duration);
#line 2152 "../src/WindowManager.vala"
	_tmp5_ = self->priv->in_group;
#line 2152 "../src/WindowManager.vala"
	clutter_actor_save_easing_state (_tmp5_);
#line 2153 "../src/WindowManager.vala"
	_tmp6_ = self->priv->in_group;
#line 2153 "../src/WindowManager.vala"
	clutter_actor_set_easing_mode (_tmp6_, _data31_->animation_mode);
#line 2154 "../src/WindowManager.vala"
	_tmp7_ = self->priv->in_group;
#line 2154 "../src/WindowManager.vala"
	clutter_actor_set_easing_duration (_tmp7_, (guint) duration);
#line 2156 "../src/WindowManager.vala"
	_tmp8_ = self->priv->wallpaper_clone;
#line 2156 "../src/WindowManager.vala"
	clutter_actor_save_easing_state (_tmp8_);
#line 2157 "../src/WindowManager.vala"
	_tmp9_ = self->priv->wallpaper_clone;
#line 2157 "../src/WindowManager.vala"
	clutter_actor_set_easing_mode (_tmp9_, _data31_->animation_mode);
#line 2158 "../src/WindowManager.vala"
	_tmp10_ = self->priv->wallpaper_clone;
#line 2158 "../src/WindowManager.vala"
	clutter_actor_set_easing_duration (_tmp10_, (guint) duration);
#line 2160 "../src/WindowManager.vala"
	_tmp11_ = self->priv->wallpaper;
#line 2160 "../src/WindowManager.vala"
	clutter_actor_save_easing_state (_tmp11_);
#line 2161 "../src/WindowManager.vala"
	_tmp12_ = self->priv->wallpaper;
#line 2161 "../src/WindowManager.vala"
	clutter_actor_set_easing_mode (_tmp12_, _data31_->animation_mode);
#line 2162 "../src/WindowManager.vala"
	_tmp13_ = self->priv->wallpaper;
#line 2162 "../src/WindowManager.vala"
	clutter_actor_set_easing_duration (_tmp13_, (guint) duration);
#line 2164 "../src/WindowManager.vala"
	if (_data32_->cancel_action) {
#line 2164 "../src/WindowManager.vala"
		_tmp14_ = 0.0f;
#line 12637 "WindowManager.c"
	} else {
#line 2164 "../src/WindowManager.vala"
		_tmp14_ = _data31_->x2;
#line 12641 "WindowManager.c"
	}
#line 2164 "../src/WindowManager.vala"
	_tmp15_ = self->priv->out_group;
#line 2164 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp15_, _tmp14_);
#line 2165 "../src/WindowManager.vala"
	_tmp16_ = self->priv->out_group;
#line 2165 "../src/WindowManager.vala"
	clutter_actor_restore_easing_state (_tmp16_);
#line 2167 "../src/WindowManager.vala"
	if (_data32_->cancel_action) {
#line 2167 "../src/WindowManager.vala"
		_tmp17_ = -_data31_->x2;
#line 12655 "WindowManager.c"
	} else {
#line 2167 "../src/WindowManager.vala"
		_tmp17_ = 0.0f;
#line 12659 "WindowManager.c"
	}
#line 2167 "../src/WindowManager.vala"
	_tmp18_ = self->priv->in_group;
#line 2167 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp18_, _tmp17_);
#line 2168 "../src/WindowManager.vala"
	_tmp19_ = self->priv->in_group;
#line 2168 "../src/WindowManager.vala"
	clutter_actor_restore_easing_state (_tmp19_);
#line 2170 "../src/WindowManager.vala"
	if (_data32_->cancel_action) {
#line 2170 "../src/WindowManager.vala"
		_tmp20_ = 0.0f;
#line 12673 "WindowManager.c"
	} else {
#line 2170 "../src/WindowManager.vala"
		_tmp20_ = _data31_->x2;
#line 12677 "WindowManager.c"
	}
#line 2170 "../src/WindowManager.vala"
	_tmp21_ = self->priv->wallpaper;
#line 2170 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp21_, _tmp20_);
#line 2171 "../src/WindowManager.vala"
	_tmp22_ = self->priv->wallpaper;
#line 2171 "../src/WindowManager.vala"
	clutter_actor_restore_easing_state (_tmp22_);
#line 2173 "../src/WindowManager.vala"
	if (_data32_->cancel_action) {
#line 2173 "../src/WindowManager.vala"
		_tmp23_ = -_data31_->x2;
#line 12691 "WindowManager.c"
	} else {
#line 2173 "../src/WindowManager.vala"
		_tmp23_ = 0.0f;
#line 12695 "WindowManager.c"
	}
#line 2173 "../src/WindowManager.vala"
	_tmp24_ = self->priv->wallpaper_clone;
#line 2173 "../src/WindowManager.vala"
	clutter_actor_set_x (_tmp24_, _tmp23_);
#line 2174 "../src/WindowManager.vala"
	_tmp25_ = self->priv->wallpaper_clone;
#line 2174 "../src/WindowManager.vala"
	clutter_actor_restore_easing_state (_tmp25_);
#line 2176 "../src/WindowManager.vala"
	_tmp26_ = self->priv->in_group;
#line 2176 "../src/WindowManager.vala"
	_tmp27_ = clutter_actor_get_transition (_tmp26_, "x");
#line 2176 "../src/WindowManager.vala"
	_tmp28_ = _g_object_ref0 (_tmp27_);
#line 2176 "../src/WindowManager.vala"
	transition = _tmp28_;
#line 2177 "../src/WindowManager.vala"
	_tmp29_ = transition;
#line 2177 "../src/WindowManager.vala"
	if (_tmp29_ != NULL) {
#line 12717 "WindowManager.c"
		ClutterTransition* _tmp30_;
#line 2178 "../src/WindowManager.vala"
		_tmp30_ = transition;
#line 2178 "../src/WindowManager.vala"
		g_signal_connect_data ((ClutterTimeline*) _tmp30_, "completed", (GCallback) ____lambda203__clutter_timeline_completed, block32_data_ref (_data32_), (GClosureNotify) block32_data_unref, 0);
#line 12723 "WindowManager.c"
	} else {
#line 2182 "../src/WindowManager.vala"
		gala_window_manager_gala_switch_workspace_animation_finished (self, _data31_->direction, _data32_->cancel_action, FALSE);
#line 12727 "WindowManager.c"
	}
#line 2142 "../src/WindowManager.vala"
	_g_object_unref0 (transition);
#line 2142 "../src/WindowManager.vala"
	block32_data_unref (_data32_);
#line 2142 "../src/WindowManager.vala"
	_data32_ = NULL;
#line 12735 "WindowManager.c"
}

static void
___lambda202__gala_gesture_tracker_on_end (gdouble percentage,
                                           gboolean cancel_action,
                                           gint calculated_duration,
                                           gpointer self)
{
#line 2142 "../src/WindowManager.vala"
	__lambda202_ (self, percentage, cancel_action, calculated_duration);
#line 12746 "WindowManager.c"
}

static void
gala_window_manager_gala_real_switch_workspace (MetaPlugin* base,
                                                gint from,
                                                gint to,
                                                MetaMotionDirection direction)
{
	GalaWindowManagerGala * self;
	Block31Data* _data31_;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_;
	gboolean _tmp6_;
	gulong _tmp11_;
	ClutterActor* _tmp12_;
	gfloat _tmp13_;
	gfloat _tmp14_;
	GalaGestureTrackerOnUpdate on_animation_update = NULL;
	gpointer on_animation_update_target;
	GDestroyNotify on_animation_update_target_destroy_notify;
	GalaGestureTrackerOnEnd on_animation_end = NULL;
	gpointer on_animation_end_target;
	GDestroyNotify on_animation_end_target_destroy_notify;
#line 2102 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2102 "../src/WindowManager.vala"
	_data31_ = g_slice_new0 (Block31Data);
#line 2102 "../src/WindowManager.vala"
	_data31_->_ref_count_ = 1;
#line 2102 "../src/WindowManager.vala"
	_data31_->self = g_object_ref (self);
#line 2102 "../src/WindowManager.vala"
	_data31_->direction = direction;
#line 2103 "../src/WindowManager.vala"
	_tmp5_ = gala_window_manager_get_enable_animations ((GalaWindowManager*) self);
#line 2103 "../src/WindowManager.vala"
	_tmp6_ = _tmp5_;
#line 2103 "../src/WindowManager.vala"
	if (!_tmp6_) {
#line 2103 "../src/WindowManager.vala"
		_tmp4_ = TRUE;
#line 12792 "WindowManager.c"
	} else {
#line 2104 "../src/WindowManager.vala"
		_tmp4_ = GALA_ANIMATION_DURATION_WORKSPACE_SWITCH == 0;
#line 12796 "WindowManager.c"
	}
#line 2103 "../src/WindowManager.vala"
	if (_tmp4_) {
#line 2103 "../src/WindowManager.vala"
		_tmp3_ = TRUE;
#line 12802 "WindowManager.c"
	} else {
		gboolean _tmp7_ = FALSE;
#line 2105 "../src/WindowManager.vala"
		if (_data31_->direction != META_MOTION_LEFT) {
#line 2105 "../src/WindowManager.vala"
			_tmp7_ = _data31_->direction != META_MOTION_RIGHT;
#line 12809 "WindowManager.c"
		} else {
#line 2105 "../src/WindowManager.vala"
			_tmp7_ = FALSE;
#line 12813 "WindowManager.c"
		}
#line 2105 "../src/WindowManager.vala"
		_tmp3_ = _tmp7_;
#line 12817 "WindowManager.c"
	}
#line 2103 "../src/WindowManager.vala"
	if (_tmp3_) {
#line 2103 "../src/WindowManager.vala"
		_tmp2_ = TRUE;
#line 12823 "WindowManager.c"
	} else {
#line 2106 "../src/WindowManager.vala"
		_tmp2_ = self->priv->animating_switch_workspace;
#line 12827 "WindowManager.c"
	}
#line 2103 "../src/WindowManager.vala"
	if (_tmp2_) {
#line 2103 "../src/WindowManager.vala"
		_tmp1_ = TRUE;
#line 12833 "WindowManager.c"
	} else {
		GalaActivatableComponent* _tmp8_;
		GalaActivatableComponent* _tmp9_;
#line 2107 "../src/WindowManager.vala"
		_tmp8_ = gala_window_manager_get_workspace_view ((GalaWindowManager*) self);
#line 2107 "../src/WindowManager.vala"
		_tmp9_ = _tmp8_;
#line 2107 "../src/WindowManager.vala"
		_tmp1_ = gala_activatable_component_is_opened (_tmp9_);
#line 12843 "WindowManager.c"
	}
#line 2103 "../src/WindowManager.vala"
	if (_tmp1_) {
#line 2103 "../src/WindowManager.vala"
		_tmp0_ = TRUE;
#line 12849 "WindowManager.c"
	} else {
		GalaActivatableComponent* _tmp10_;
#line 2108 "../src/WindowManager.vala"
		_tmp10_ = self->priv->_window_overview;
#line 2108 "../src/WindowManager.vala"
		_tmp0_ = gala_activatable_component_is_opened (_tmp10_);
#line 12856 "WindowManager.c"
	}
#line 2103 "../src/WindowManager.vala"
	if (_tmp0_) {
#line 2109 "../src/WindowManager.vala"
		self->priv->animating_switch_workspace = FALSE;
#line 2110 "../src/WindowManager.vala"
		meta_plugin_switch_workspace_completed ((MetaPlugin*) self);
#line 2111 "../src/WindowManager.vala"
		block31_data_unref (_data31_);
#line 2111 "../src/WindowManager.vala"
		_data31_ = NULL;
#line 2111 "../src/WindowManager.vala"
		return;
#line 12870 "WindowManager.c"
	}
#line 2114 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = TRUE;
#line 2116 "../src/WindowManager.vala"
	gala_window_manager_gala_prepare_workspace_switch (self, from, to, _data31_->direction);
#line 2120 "../src/WindowManager.vala"
	_tmp11_ = g_signal_connect_object (self, "window-created", (GCallback) ___lambda200__gala_window_manager_gala_window_created, self, 0);
#line 2120 "../src/WindowManager.vala"
	self->priv->switch_workspace_window_created_id = _tmp11_;
#line 2128 "../src/WindowManager.vala"
	_data31_->animation_mode = CLUTTER_EASE_OUT_CUBIC;
#line 2130 "../src/WindowManager.vala"
	_tmp12_ = self->priv->in_group;
#line 2130 "../src/WindowManager.vala"
	_tmp13_ = clutter_actor_get_x (_tmp12_);
#line 2130 "../src/WindowManager.vala"
	_tmp14_ = _tmp13_;
#line 2130 "../src/WindowManager.vala"
	_data31_->x2 = -_tmp14_;
#line 2131 "../src/WindowManager.vala"
	on_animation_update = ___lambda201__gala_gesture_tracker_on_update;
#line 2131 "../src/WindowManager.vala"
	on_animation_update_target = block31_data_ref (_data31_);
#line 2131 "../src/WindowManager.vala"
	on_animation_update_target_destroy_notify = block31_data_unref;
#line 2142 "../src/WindowManager.vala"
	on_animation_end = ___lambda202__gala_gesture_tracker_on_end;
#line 2142 "../src/WindowManager.vala"
	on_animation_end_target = block31_data_ref (_data31_);
#line 2142 "../src/WindowManager.vala"
	on_animation_end_target_destroy_notify = block31_data_unref;
#line 2186 "../src/WindowManager.vala"
	if (!self->priv->switch_workspace_with_gesture) {
#line 12904 "WindowManager.c"
		GalaGestureTrackerOnEnd _tmp15_;
		gpointer _tmp15__target;
#line 2187 "../src/WindowManager.vala"
		_tmp15_ = on_animation_end;
#line 2187 "../src/WindowManager.vala"
		_tmp15__target = on_animation_end_target;
#line 2187 "../src/WindowManager.vala"
		_tmp15_ ((gdouble) 1, FALSE, (gint) GALA_ANIMATION_DURATION_WORKSPACE_SWITCH_MIN, _tmp15__target);
#line 12913 "WindowManager.c"
	} else {
		GalaGestureTracker* _tmp16_;
		GalaGestureTrackerOnUpdate _tmp17_;
		gpointer _tmp17__target;
		GDestroyNotify _tmp17__target_destroy_notify;
		GalaGestureTrackerOnEnd _tmp18_;
		gpointer _tmp18__target;
		GDestroyNotify _tmp18__target_destroy_notify;
#line 2189 "../src/WindowManager.vala"
		_tmp16_ = self->priv->gesture_tracker;
#line 2189 "../src/WindowManager.vala"
		_tmp17_ = on_animation_update;
#line 2189 "../src/WindowManager.vala"
		_tmp17__target = on_animation_update_target;
#line 2189 "../src/WindowManager.vala"
		_tmp17__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 2189 "../src/WindowManager.vala"
		on_animation_update = NULL;
#line 2189 "../src/WindowManager.vala"
		on_animation_update_target = NULL;
#line 2189 "../src/WindowManager.vala"
		on_animation_update_target_destroy_notify = NULL;
#line 2189 "../src/WindowManager.vala"
		_tmp18_ = on_animation_end;
#line 2189 "../src/WindowManager.vala"
		_tmp18__target = on_animation_end_target;
#line 2189 "../src/WindowManager.vala"
		_tmp18__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 2189 "../src/WindowManager.vala"
		on_animation_end = NULL;
#line 2189 "../src/WindowManager.vala"
		on_animation_end_target = NULL;
#line 2189 "../src/WindowManager.vala"
		on_animation_end_target_destroy_notify = NULL;
#line 2189 "../src/WindowManager.vala"
		gala_gesture_tracker_connect_handlers (_tmp16_, NULL, NULL, NULL, _tmp17_, _tmp17__target, _tmp17__target_destroy_notify, _tmp18_, _tmp18__target, _tmp18__target_destroy_notify);
#line 12950 "WindowManager.c"
	}
#line 2102 "../src/WindowManager.vala"
	(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 2102 "../src/WindowManager.vala"
	on_animation_end = NULL;
#line 2102 "../src/WindowManager.vala"
	on_animation_end_target = NULL;
#line 2102 "../src/WindowManager.vala"
	on_animation_end_target_destroy_notify = NULL;
#line 2102 "../src/WindowManager.vala"
	(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 2102 "../src/WindowManager.vala"
	on_animation_update = NULL;
#line 2102 "../src/WindowManager.vala"
	on_animation_update_target = NULL;
#line 2102 "../src/WindowManager.vala"
	on_animation_update_target_destroy_notify = NULL;
#line 2102 "../src/WindowManager.vala"
	block31_data_unref (_data31_);
#line 2102 "../src/WindowManager.vala"
	_data31_ = NULL;
#line 12972 "WindowManager.c"
}

static void
gala_window_manager_gala_switch_workspace_animation_finished (GalaWindowManagerGala* self,
                                                              MetaMotionDirection animation_direction,
                                                              gboolean cancel_action,
                                                              gboolean is_nudge_animation)
{
#line 2193 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 2195 "../src/WindowManager.vala"
	if (self->priv->switch_workspace_window_created_id > ((gulong) 0)) {
#line 2196 "../src/WindowManager.vala"
		g_signal_handler_disconnect ((GObject*) self, self->priv->switch_workspace_window_created_id);
#line 2197 "../src/WindowManager.vala"
		self->priv->switch_workspace_window_created_id = (gulong) 0;
#line 12989 "WindowManager.c"
	}
#line 2199 "../src/WindowManager.vala"
	gala_window_manager_gala_end_switch_workspace (self);
#line 2200 "../src/WindowManager.vala"
	if (!is_nudge_animation) {
#line 2201 "../src/WindowManager.vala"
		meta_plugin_switch_workspace_completed ((MetaPlugin*) self);
#line 12997 "WindowManager.c"
	}
#line 2203 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = cancel_action;
#line 2205 "../src/WindowManager.vala"
	if (cancel_action) {
#line 13003 "WindowManager.c"
		MetaMotionDirection _tmp0_ = 0;
		MetaMotionDirection cancel_direction = 0;
		MetaDisplay* display = NULL;
		MetaDisplay* _tmp1_;
		MetaWorkspace* active_workspace = NULL;
		MetaDisplay* _tmp2_;
		MetaWorkspaceManager* _tmp3_;
		MetaWorkspace* _tmp4_;
		MetaWorkspace* neighbor = NULL;
		MetaWorkspace* _tmp5_;
		MetaWorkspace* _tmp6_;
		MetaWorkspace* _tmp7_;
		MetaDisplay* _tmp8_;
#line 2206 "../src/WindowManager.vala"
		if (animation_direction == META_MOTION_LEFT) {
#line 2207 "../src/WindowManager.vala"
			_tmp0_ = META_MOTION_RIGHT;
#line 13021 "WindowManager.c"
		} else {
#line 2208 "../src/WindowManager.vala"
			_tmp0_ = META_MOTION_LEFT;
#line 13025 "WindowManager.c"
		}
#line 2206 "../src/WindowManager.vala"
		cancel_direction = _tmp0_;
#line 2209 "../src/WindowManager.vala"
		_tmp1_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 2209 "../src/WindowManager.vala"
		display = _tmp1_;
#line 2210 "../src/WindowManager.vala"
		_tmp2_ = display;
#line 2210 "../src/WindowManager.vala"
		_tmp3_ = meta_display_get_workspace_manager (_tmp2_);
#line 2210 "../src/WindowManager.vala"
		_tmp4_ = meta_workspace_manager_get_active_workspace (_tmp3_);
#line 2210 "../src/WindowManager.vala"
		active_workspace = _tmp4_;
#line 2211 "../src/WindowManager.vala"
		_tmp5_ = active_workspace;
#line 2211 "../src/WindowManager.vala"
		_tmp6_ = meta_workspace_get_neighbor (_tmp5_, cancel_direction);
#line 2211 "../src/WindowManager.vala"
		neighbor = _tmp6_;
#line 2212 "../src/WindowManager.vala"
		_tmp7_ = neighbor;
#line 2212 "../src/WindowManager.vala"
		_tmp8_ = display;
#line 2212 "../src/WindowManager.vala"
		meta_workspace_activate (_tmp7_, meta_display_get_current_time (_tmp8_));
#line 13053 "WindowManager.c"
	}
}

static void
gala_window_manager_gala_end_switch_workspace (GalaWindowManagerGala* self)
{
	gboolean _tmp0_ = FALSE;
	GList* _tmp1_;
	MetaDisplay* display = NULL;
	MetaDisplay* _tmp3_;
	MetaWorkspace* active_workspace = NULL;
	MetaDisplay* _tmp4_;
	MetaWorkspaceManager* _tmp5_;
	MetaWorkspace* _tmp6_;
	gint primary = 0;
	MetaDisplay* _tmp7_;
	gboolean move_primary_only = FALSE;
	GList* _tmp49_;
#line 2216 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 2217 "../src/WindowManager.vala"
	_tmp1_ = self->priv->windows;
#line 2217 "../src/WindowManager.vala"
	if (_tmp1_ == NULL) {
#line 2217 "../src/WindowManager.vala"
		_tmp0_ = TRUE;
#line 13080 "WindowManager.c"
	} else {
		GList* _tmp2_;
#line 2217 "../src/WindowManager.vala"
		_tmp2_ = self->priv->parents;
#line 2217 "../src/WindowManager.vala"
		_tmp0_ = _tmp2_ == NULL;
#line 13087 "WindowManager.c"
	}
#line 2217 "../src/WindowManager.vala"
	if (_tmp0_) {
#line 2218 "../src/WindowManager.vala"
		return;
#line 13093 "WindowManager.c"
	}
#line 2220 "../src/WindowManager.vala"
	_tmp3_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 2220 "../src/WindowManager.vala"
	display = _tmp3_;
#line 2221 "../src/WindowManager.vala"
	_tmp4_ = display;
#line 2221 "../src/WindowManager.vala"
	_tmp5_ = meta_display_get_workspace_manager (_tmp4_);
#line 2221 "../src/WindowManager.vala"
	_tmp6_ = meta_workspace_manager_get_active_workspace (_tmp5_);
#line 2221 "../src/WindowManager.vala"
	active_workspace = _tmp6_;
#line 2224 "../src/WindowManager.vala"
	_tmp7_ = display;
#line 2224 "../src/WindowManager.vala"
	primary = meta_display_get_primary_monitor (_tmp7_);
#line 2225 "../src/WindowManager.vala"
	move_primary_only = gala_internal_utils_workspaces_only_on_primary ();
#line 2226 "../src/WindowManager.vala"
	if (move_primary_only) {
#line 13115 "WindowManager.c"
		ClutterActor* background = NULL;
		MetaBackgroundGroup* _tmp8_;
		MetaBackgroundGroup* _tmp9_;
		ClutterActor* _tmp10_;
		ClutterActor* _tmp11_;
#line 2227 "../src/WindowManager.vala"
		_tmp8_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 2227 "../src/WindowManager.vala"
		_tmp9_ = _tmp8_;
#line 2227 "../src/WindowManager.vala"
		_tmp10_ = clutter_actor_get_child_at_index ((ClutterActor*) _tmp9_, primary);
#line 2227 "../src/WindowManager.vala"
		background = _tmp10_;
#line 2228 "../src/WindowManager.vala"
		_tmp11_ = background;
#line 2228 "../src/WindowManager.vala"
		clutter_actor_show (_tmp11_);
#line 13133 "WindowManager.c"
	} else {
		MetaBackgroundGroup* _tmp12_;
		MetaBackgroundGroup* _tmp13_;
		MetaBackgroundGroup* _tmp14_;
		MetaBackgroundGroup* _tmp15_;
#line 2230 "../src/WindowManager.vala"
		_tmp12_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 2230 "../src/WindowManager.vala"
		_tmp13_ = _tmp12_;
#line 2230 "../src/WindowManager.vala"
		gala_background_container_set_black_background (G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer), TRUE);
#line 2231 "../src/WindowManager.vala"
		_tmp14_ = gala_window_manager_get_background_group ((GalaWindowManager*) self);
#line 2231 "../src/WindowManager.vala"
		_tmp15_ = _tmp14_;
#line 2231 "../src/WindowManager.vala"
		clutter_actor_show ((ClutterActor*) _tmp15_);
#line 13151 "WindowManager.c"
	}
	{
		gint i = 0;
#line 2234 "../src/WindowManager.vala"
		i = 0;
#line 13157 "WindowManager.c"
		{
			gboolean _tmp16_ = FALSE;
#line 2234 "../src/WindowManager.vala"
			_tmp16_ = TRUE;
#line 2234 "../src/WindowManager.vala"
			while (TRUE) {
#line 13164 "WindowManager.c"
				GList* _tmp18_;
				ClutterActor* actor = NULL;
				GList* _tmp19_;
				gconstpointer _tmp20_;
				ClutterActor* _tmp21_;
				MetaWindowActor* window = NULL;
				ClutterActor* _tmp22_;
				MetaWindowActor* _tmp23_;
				MetaWindow* meta_window = NULL;
				MetaWindowActor* _tmp27_;
				MetaWindow* _tmp28_;
				MetaWindowActor* _tmp29_;
				MetaWindowActor* _tmp33_;
				gboolean _tmp34_ = FALSE;
				gboolean _tmp35_ = FALSE;
				MetaWindow* _tmp36_;
				ClutterActor* _tmp42_;
				guint _tmp43_;
				guint _tmp44_;
#line 2234 "../src/WindowManager.vala"
				if (!_tmp16_) {
#line 13186 "WindowManager.c"
					gint _tmp17_;
#line 2234 "../src/WindowManager.vala"
					_tmp17_ = i;
#line 2234 "../src/WindowManager.vala"
					i = _tmp17_ + 1;
#line 13192 "WindowManager.c"
				}
#line 2234 "../src/WindowManager.vala"
				_tmp16_ = FALSE;
#line 2234 "../src/WindowManager.vala"
				_tmp18_ = self->priv->windows;
#line 2234 "../src/WindowManager.vala"
				if (!(((guint) i) < g_list_length (_tmp18_))) {
#line 2234 "../src/WindowManager.vala"
					break;
#line 13202 "WindowManager.c"
				}
#line 2235 "../src/WindowManager.vala"
				_tmp19_ = self->priv->windows;
#line 2235 "../src/WindowManager.vala"
				_tmp20_ = g_list_nth_data (_tmp19_, (guint) i);
#line 2235 "../src/WindowManager.vala"
				actor = (ClutterActor*) _tmp20_;
#line 2236 "../src/WindowManager.vala"
				_tmp21_ = actor;
#line 2236 "../src/WindowManager.vala"
				clutter_actor_set_translation (_tmp21_, 0.0f, 0.0f, 0.0f);
#line 2238 "../src/WindowManager.vala"
				_tmp22_ = actor;
#line 2238 "../src/WindowManager.vala"
				window = G_TYPE_CHECK_INSTANCE_TYPE (_tmp22_, meta_window_actor_get_type ()) ? ((MetaWindowActor*) _tmp22_) : NULL;
#line 2239 "../src/WindowManager.vala"
				_tmp23_ = window;
#line 2239 "../src/WindowManager.vala"
				if (_tmp23_ == NULL) {
#line 13222 "WindowManager.c"
					ClutterActor* _tmp24_;
					GList* _tmp25_;
					gconstpointer _tmp26_;
#line 2240 "../src/WindowManager.vala"
					_tmp24_ = actor;
#line 2240 "../src/WindowManager.vala"
					_tmp25_ = self->priv->parents;
#line 2240 "../src/WindowManager.vala"
					_tmp26_ = g_list_nth_data (_tmp25_, (guint) i);
#line 2240 "../src/WindowManager.vala"
					gala_window_manager_gala_clutter_actor_reparent (_tmp24_, (ClutterActor*) _tmp26_);
#line 2241 "../src/WindowManager.vala"
					continue;
#line 13236 "WindowManager.c"
				}
#line 2244 "../src/WindowManager.vala"
				_tmp27_ = window;
#line 2244 "../src/WindowManager.vala"
				_tmp28_ = meta_window_actor_get_meta_window (_tmp27_);
#line 2244 "../src/WindowManager.vala"
				meta_window = _tmp28_;
#line 2245 "../src/WindowManager.vala"
				_tmp29_ = window;
#line 2245 "../src/WindowManager.vala"
				if (!meta_window_actor_is_destroyed (_tmp29_)) {
#line 13248 "WindowManager.c"
					ClutterActor* _tmp30_;
					GList* _tmp31_;
					gconstpointer _tmp32_;
#line 2246 "../src/WindowManager.vala"
					_tmp30_ = actor;
#line 2246 "../src/WindowManager.vala"
					_tmp31_ = self->priv->parents;
#line 2246 "../src/WindowManager.vala"
					_tmp32_ = g_list_nth_data (_tmp31_, (guint) i);
#line 2246 "../src/WindowManager.vala"
					gala_window_manager_gala_clutter_actor_reparent (_tmp30_, (ClutterActor*) _tmp32_);
#line 13260 "WindowManager.c"
				}
#line 2249 "../src/WindowManager.vala"
				_tmp33_ = window;
#line 2249 "../src/WindowManager.vala"
				G_TYPE_INSTANCE_GET_CLASS ((MetaPlugin*) self, meta_plugin_get_type (), MetaPluginClass)->kill_window_effects ((MetaPlugin*) self, _tmp33_);
#line 2251 "../src/WindowManager.vala"
				_tmp36_ = meta_window;
#line 2251 "../src/WindowManager.vala"
				if (_tmp36_ != NULL) {
#line 13270 "WindowManager.c"
					MetaWindow* _tmp37_;
					MetaWorkspace* _tmp38_;
					MetaWorkspace* _tmp39_;
#line 2252 "../src/WindowManager.vala"
					_tmp37_ = meta_window;
#line 2252 "../src/WindowManager.vala"
					_tmp38_ = meta_window_get_workspace (_tmp37_);
#line 2252 "../src/WindowManager.vala"
					_tmp39_ = active_workspace;
#line 2252 "../src/WindowManager.vala"
					_tmp35_ = _tmp38_ != _tmp39_;
#line 13282 "WindowManager.c"
				} else {
#line 2251 "../src/WindowManager.vala"
					_tmp35_ = FALSE;
#line 13286 "WindowManager.c"
				}
#line 2251 "../src/WindowManager.vala"
				if (_tmp35_) {
#line 13290 "WindowManager.c"
					MetaWindow* _tmp40_;
#line 2253 "../src/WindowManager.vala"
					_tmp40_ = meta_window;
#line 2253 "../src/WindowManager.vala"
					_tmp34_ = !meta_window_is_on_all_workspaces (_tmp40_);
#line 13296 "WindowManager.c"
				} else {
#line 2251 "../src/WindowManager.vala"
					_tmp34_ = FALSE;
#line 13300 "WindowManager.c"
				}
#line 2251 "../src/WindowManager.vala"
				if (_tmp34_) {
#line 13304 "WindowManager.c"
					MetaWindowActor* _tmp41_;
#line 2254 "../src/WindowManager.vala"
					_tmp41_ = window;
#line 2254 "../src/WindowManager.vala"
					clutter_actor_hide ((ClutterActor*) _tmp41_);
#line 13310 "WindowManager.c"
				}
#line 2257 "../src/WindowManager.vala"
				_tmp42_ = actor;
#line 2257 "../src/WindowManager.vala"
				_tmp43_ = clutter_actor_get_opacity (_tmp42_);
#line 2257 "../src/WindowManager.vala"
				_tmp44_ = _tmp43_;
#line 2257 "../src/WindowManager.vala"
				if (_tmp44_ < 255U) {
#line 13320 "WindowManager.c"
					ClutterActor* _tmp45_;
					ClutterActor* _tmp46_;
					ClutterActor* _tmp47_;
					ClutterActor* _tmp48_;
#line 2258 "../src/WindowManager.vala"
					_tmp45_ = actor;
#line 2258 "../src/WindowManager.vala"
					clutter_actor_save_easing_state (_tmp45_);
#line 2259 "../src/WindowManager.vala"
					_tmp46_ = actor;
#line 2259 "../src/WindowManager.vala"
					clutter_actor_set_easing_duration (_tmp46_, (guint) 300);
#line 2260 "../src/WindowManager.vala"
					_tmp47_ = actor;
#line 2260 "../src/WindowManager.vala"
					clutter_actor_set_opacity (_tmp47_, 255U);
#line 2261 "../src/WindowManager.vala"
					_tmp48_ = actor;
#line 2261 "../src/WindowManager.vala"
					clutter_actor_restore_easing_state (_tmp48_);
#line 13341 "WindowManager.c"
				}
			}
		}
	}
#line 2265 "../src/WindowManager.vala"
	_tmp49_ = self->priv->tmp_actors;
#line 2265 "../src/WindowManager.vala"
	if (_tmp49_ != NULL) {
#line 13350 "WindowManager.c"
		GList* _tmp50_;
#line 2266 "../src/WindowManager.vala"
		_tmp50_ = self->priv->tmp_actors;
#line 13354 "WindowManager.c"
		{
			GList* actor_collection = NULL;
			GList* actor_it = NULL;
#line 2266 "../src/WindowManager.vala"
			actor_collection = _tmp50_;
#line 2266 "../src/WindowManager.vala"
			for (actor_it = actor_collection; actor_it != NULL; actor_it = actor_it->next) {
#line 13362 "WindowManager.c"
				ClutterActor* _tmp51_;
				ClutterActor* actor = NULL;
#line 2266 "../src/WindowManager.vala"
				_tmp51_ = _g_object_ref0 ((ClutterActor*) actor_it->data);
#line 2266 "../src/WindowManager.vala"
				actor = _tmp51_;
#line 13369 "WindowManager.c"
				{
					ClutterActor* _tmp52_;
#line 2267 "../src/WindowManager.vala"
					_tmp52_ = actor;
#line 2267 "../src/WindowManager.vala"
					clutter_actor_destroy (_tmp52_);
#line 2266 "../src/WindowManager.vala"
					_g_object_unref0 (actor);
#line 13378 "WindowManager.c"
				}
			}
		}
#line 2269 "../src/WindowManager.vala"
		(self->priv->tmp_actors == NULL) ? NULL : (self->priv->tmp_actors = (_g_list_free__g_object_unref0_ (self->priv->tmp_actors), NULL));
#line 2269 "../src/WindowManager.vala"
		self->priv->tmp_actors = NULL;
#line 13386 "WindowManager.c"
	}
#line 2272 "../src/WindowManager.vala"
	(self->priv->windows == NULL) ? NULL : (self->priv->windows = (_g_list_free__g_object_unref0_ (self->priv->windows), NULL));
#line 2272 "../src/WindowManager.vala"
	self->priv->windows = NULL;
#line 2273 "../src/WindowManager.vala"
	(self->priv->parents == NULL) ? NULL : (self->priv->parents = (_g_list_free__g_object_unref0_ (self->priv->parents), NULL));
#line 2273 "../src/WindowManager.vala"
	self->priv->parents = NULL;
#line 2274 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->moving);
#line 2274 "../src/WindowManager.vala"
	self->priv->moving = NULL;
#line 2276 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->out_group);
#line 2276 "../src/WindowManager.vala"
	self->priv->out_group = NULL;
#line 2277 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->in_group);
#line 2277 "../src/WindowManager.vala"
	self->priv->in_group = NULL;
#line 2278 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->wallpaper);
#line 2278 "../src/WindowManager.vala"
	self->priv->wallpaper = NULL;
#line 2279 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->wallpaper_clone);
#line 2279 "../src/WindowManager.vala"
	self->priv->wallpaper_clone = NULL;
#line 2281 "../src/WindowManager.vala"
	self->priv->switch_workspace_with_gesture = FALSE;
#line 2282 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = FALSE;
#line 13420 "WindowManager.c"
}

static void
gala_window_manager_gala_real_kill_switch_workspace (MetaPlugin* base)
{
	GalaWindowManagerGala * self;
#line 2285 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2286 "../src/WindowManager.vala"
	gala_window_manager_gala_end_switch_workspace (self);
#line 13431 "WindowManager.c"
}

static void
gala_window_manager_gala_real_locate_pointer (MetaPlugin* base)
{
	GalaWindowManagerGala * self;
	GalaPointerLocator* _tmp0_;
#line 2289 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2290 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_pointer_locator;
#line 2290 "../src/WindowManager.vala"
	gala_pointer_locator_show_ripple (_tmp0_);
#line 13445 "WindowManager.c"
}

static gboolean
gala_window_manager_gala_real_keybinding_filter (MetaPlugin* base,
                                                 MetaKeyBinding* binding)
{
	GalaWindowManagerGala * self;
	GalaModalProxy* modal_proxy = NULL;
	GeeLinkedList* _tmp0_;
	gpointer _tmp1_;
	GalaModalProxy* _tmp2_;
	GalaKeybindingFilter filter = NULL;
	GalaModalProxy* _tmp3_;
	gpointer _tmp4_ = NULL;
	GalaKeybindingFilter _tmp5_;
	gpointer filter_target;
	GalaKeybindingFilter _tmp6_;
	gpointer _tmp6__target;
	GalaKeybindingFilter _tmp7_;
	gpointer _tmp7__target;
	gboolean result;
#line 2293 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2293 "../src/WindowManager.vala"
	g_return_val_if_fail (binding != NULL, FALSE);
#line 2294 "../src/WindowManager.vala"
	if (!gala_window_manager_is_modal ((GalaWindowManager*) self)) {
#line 2295 "../src/WindowManager.vala"
		result = FALSE;
#line 2295 "../src/WindowManager.vala"
		return result;
#line 13477 "WindowManager.c"
	}
#line 2297 "../src/WindowManager.vala"
	_tmp0_ = self->priv->modal_stack;
#line 2297 "../src/WindowManager.vala"
	_tmp1_ = gee_deque_peek_head ((GeeDeque*) _tmp0_);
#line 2297 "../src/WindowManager.vala"
	modal_proxy = (GalaModalProxy*) _tmp1_;
#line 2298 "../src/WindowManager.vala"
	_tmp2_ = modal_proxy;
#line 2298 "../src/WindowManager.vala"
	if (_tmp2_ == NULL) {
#line 2299 "../src/WindowManager.vala"
		result = FALSE;
#line 2299 "../src/WindowManager.vala"
		_g_object_unref0 (modal_proxy);
#line 2299 "../src/WindowManager.vala"
		return result;
#line 13495 "WindowManager.c"
	}
#line 2302 "../src/WindowManager.vala"
	_tmp3_ = modal_proxy;
#line 2302 "../src/WindowManager.vala"
	_tmp5_ = gala_modal_proxy_get_keybinding_filter (_tmp3_, &_tmp4_);
#line 2302 "../src/WindowManager.vala"
	filter = _tmp5_;
#line 2302 "../src/WindowManager.vala"
	filter_target = _tmp4_;
#line 2303 "../src/WindowManager.vala"
	_tmp6_ = filter;
#line 2303 "../src/WindowManager.vala"
	_tmp6__target = filter_target;
#line 2303 "../src/WindowManager.vala"
	if (_tmp6_ == NULL) {
#line 2304 "../src/WindowManager.vala"
		result = FALSE;
#line 2304 "../src/WindowManager.vala"
		_g_object_unref0 (modal_proxy);
#line 2304 "../src/WindowManager.vala"
		return result;
#line 13517 "WindowManager.c"
	}
#line 2307 "../src/WindowManager.vala"
	_tmp7_ = filter;
#line 2307 "../src/WindowManager.vala"
	_tmp7__target = filter_target;
#line 2307 "../src/WindowManager.vala"
	result = _tmp7_ (binding, _tmp7__target);
#line 2307 "../src/WindowManager.vala"
	_g_object_unref0 (modal_proxy);
#line 2307 "../src/WindowManager.vala"
	return result;
#line 13529 "WindowManager.c"
}

static Block33Data*
block33_data_ref (Block33Data* _data33_)
{
#line 2310 "../src/WindowManager.vala"
	g_atomic_int_inc (&_data33_->_ref_count_);
#line 2310 "../src/WindowManager.vala"
	return _data33_;
#line 13539 "WindowManager.c"
}

static void
block33_data_unref (void * _userdata_)
{
	Block33Data* _data33_;
	_data33_ = (Block33Data*) _userdata_;
#line 2310 "../src/WindowManager.vala"
	if (g_atomic_int_dec_and_test (&_data33_->_ref_count_)) {
#line 13549 "WindowManager.c"
		GalaWindowManagerGala* self;
#line 2310 "../src/WindowManager.vala"
		self = _data33_->self;
#line 2310 "../src/WindowManager.vala"
		_g_object_unref0 (_data33_->dialog);
#line 2310 "../src/WindowManager.vala"
		_g_object_unref0 (self);
#line 2310 "../src/WindowManager.vala"
		g_slice_free (Block33Data, _data33_);
#line 13559 "WindowManager.c"
	}
}

static gboolean
__lambda205_ (Block33Data* _data33_)
{
	GalaWindowManagerGala* self;
	gboolean result;
#line 2334 "../src/WindowManager.vala"
	self = _data33_->self;
#line 2335 "../src/WindowManager.vala"
	_data33_->dialog_timeout_id = (guint) 0;
#line 2336 "../src/WindowManager.vala"
	gala_access_dialog_close (_data33_->dialog);
#line 2338 "../src/WindowManager.vala"
	result = G_SOURCE_REMOVE;
#line 2338 "../src/WindowManager.vala"
	return result;
#line 13578 "WindowManager.c"
}

static gboolean
___lambda205__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda205_ (self);
#line 2334 "../src/WindowManager.vala"
	return result;
#line 13588 "WindowManager.c"
}

static void
__lambda204_ (Block33Data* _data33_)
{
	GalaWindowManagerGala* self;
#line 2333 "../src/WindowManager.vala"
	self = _data33_->self;
#line 2334 "../src/WindowManager.vala"
	_data33_->dialog_timeout_id = g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, (guint) _data33_->timeout, ___lambda205__gsource_func, block33_data_ref (_data33_), block33_data_unref);
#line 13599 "WindowManager.c"
}

static void
___lambda204__gala_access_dialog_show (GalaAccessDialog* _sender,
                                       gpointer self)
{
#line 2333 "../src/WindowManager.vala"
	__lambda204_ (self);
#line 13608 "WindowManager.c"
}

static void
__lambda206_ (Block33Data* _data33_,
              guint res)
{
	GalaWindowManagerGala* self;
#line 2342 "../src/WindowManager.vala"
	self = _data33_->self;
#line 2343 "../src/WindowManager.vala"
	if (_data33_->dialog_timeout_id != ((guint) 0)) {
#line 2344 "../src/WindowManager.vala"
		g_source_remove (_data33_->dialog_timeout_id);
#line 2345 "../src/WindowManager.vala"
		_data33_->dialog_timeout_id = (guint) 0;
#line 13624 "WindowManager.c"
	}
#line 2348 "../src/WindowManager.vala"
	meta_plugin_complete_display_change ((MetaPlugin*) self, res == ((guint) 0));
#line 13628 "WindowManager.c"
}

static void
___lambda206__gala_access_dialog_response (GalaAccessDialog* _sender,
                                           guint response,
                                           gpointer self)
{
#line 2342 "../src/WindowManager.vala"
	__lambda206_ (self, response);
#line 13638 "WindowManager.c"
}

static void
gala_window_manager_gala_real_confirm_display_change (MetaPlugin* base)
{
	GalaWindowManagerGala * self;
	Block33Data* _data33_;
	MetaMonitorManager* monitor_manager = NULL;
	MetaDisplay* _tmp0_;
	MetaContext* _tmp1_;
	MetaBackend* _tmp2_;
	MetaMonitorManager* _tmp3_;
	gchar* summary = NULL;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	GalaAccessDialog* _tmp9_ = NULL;
	GalaAccessDialog* _tmp10_;
#line 2310 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2310 "../src/WindowManager.vala"
	_data33_ = g_slice_new0 (Block33Data);
#line 2310 "../src/WindowManager.vala"
	_data33_->_ref_count_ = 1;
#line 2310 "../src/WindowManager.vala"
	_data33_->self = g_object_ref (self);
#line 2312 "../src/WindowManager.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) self);
#line 2312 "../src/WindowManager.vala"
	_tmp1_ = meta_display_get_context (_tmp0_);
#line 2312 "../src/WindowManager.vala"
	_tmp2_ = meta_context_get_backend (_tmp1_);
#line 2312 "../src/WindowManager.vala"
	_tmp3_ = meta_backend_get_monitor_manager (_tmp2_);
#line 2312 "../src/WindowManager.vala"
	monitor_manager = _tmp3_;
#line 2313 "../src/WindowManager.vala"
	_data33_->timeout = meta_monitor_manager_get_display_configuration_timeout (monitor_manager);
#line 2317 "../src/WindowManager.vala"
	_tmp4_ = g_strdup (ngettext ("Changes will automatically revert after %i second.", "Changes will automatically revert after %i seconds.", (gulong) _data33_->timeout));
#line 2317 "../src/WindowManager.vala"
	summary = _tmp4_;
#line 2322 "../src/WindowManager.vala"
	_data33_->dialog_timeout_id = (guint) 0;
#line 2324 "../src/WindowManager.vala"
	_tmp5_ = g_strdup_printf (summary, _data33_->timeout);
#line 2324 "../src/WindowManager.vala"
	_tmp6_ = _tmp5_;
#line 2324 "../src/WindowManager.vala"
	_tmp7_ = g_strdup (_ ("Keep Settings"));
#line 2324 "../src/WindowManager.vala"
	_tmp8_ = g_strdup (_ ("Use Previous Settings"));
#line 2324 "../src/WindowManager.vala"
	_tmp9_ = gala_access_dialog_new (_ ("Keep new display settings?"), _tmp6_, "preferences-desktop-display");
#line 2324 "../src/WindowManager.vala"
	gala_access_dialog_set_accept_label (_tmp9_, _tmp7_);
#line 2324 "../src/WindowManager.vala"
	_g_free0 (_tmp7_);
#line 2324 "../src/WindowManager.vala"
	gala_access_dialog_set_deny_label (_tmp9_, _tmp8_);
#line 2324 "../src/WindowManager.vala"
	_g_free0 (_tmp8_);
#line 2324 "../src/WindowManager.vala"
	_tmp10_ = _tmp9_;
#line 2324 "../src/WindowManager.vala"
	_g_free0 (_tmp6_);
#line 2324 "../src/WindowManager.vala"
	_data33_->dialog = _tmp10_;
#line 2333 "../src/WindowManager.vala"
	g_signal_connect_data (_data33_->dialog, "show", (GCallback) ___lambda204__gala_access_dialog_show, block33_data_ref (_data33_), (GClosureNotify) block33_data_unref, 0);
#line 2342 "../src/WindowManager.vala"
	g_signal_connect_data (_data33_->dialog, "response", (GCallback) ___lambda206__gala_access_dialog_response, block33_data_ref (_data33_), (GClosureNotify) block33_data_unref, 0);
#line 2351 "../src/WindowManager.vala"
	g_signal_emit_by_name (_data33_->dialog, "show");
#line 2310 "../src/WindowManager.vala"
	_g_free0 (summary);
#line 2310 "../src/WindowManager.vala"
	block33_data_unref (_data33_);
#line 2310 "../src/WindowManager.vala"
	_data33_ = NULL;
#line 13721 "WindowManager.c"
}

static MetaCloseDialog*
gala_window_manager_gala_real_create_close_dialog (MetaPlugin* base,
                                                   MetaWindow* window)
{
	GalaWindowManagerGala * self;
	GalaWindowTracker* _tmp0_;
	GalaApp* _tmp1_;
	GalaApp* _tmp2_;
	GalaCloseDialog* _tmp3_;
	MetaCloseDialog* _tmp4_;
	MetaCloseDialog* result;
#line 2354 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2354 "../src/WindowManager.vala"
	g_return_val_if_fail (window != NULL, NULL);
#line 2355 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_window_tracker;
#line 2355 "../src/WindowManager.vala"
	_tmp1_ = gala_window_tracker_get_app_for_window (_tmp0_, window);
#line 2355 "../src/WindowManager.vala"
	_tmp2_ = _tmp1_;
#line 2355 "../src/WindowManager.vala"
	_tmp3_ = gala_close_dialog_new (_tmp2_, window);
#line 2355 "../src/WindowManager.vala"
	_tmp4_ = (MetaCloseDialog*) _tmp3_;
#line 2355 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp2_);
#line 2355 "../src/WindowManager.vala"
	result = _tmp4_;
#line 2355 "../src/WindowManager.vala"
	return result;
#line 13755 "WindowManager.c"
}

static MetaInhibitShortcutsDialog*
gala_window_manager_gala_real_create_inhibit_shortcuts_dialog (MetaPlugin* base,
                                                               MetaWindow* window)
{
	GalaWindowManagerGala * self;
	GalaWindowTracker* _tmp0_;
	GalaApp* _tmp1_;
	GalaApp* _tmp2_;
	GalaInhibitShortcutsDialog* _tmp3_;
	MetaInhibitShortcutsDialog* _tmp4_;
	MetaInhibitShortcutsDialog* result;
#line 2358 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2358 "../src/WindowManager.vala"
	g_return_val_if_fail (window != NULL, NULL);
#line 2359 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_window_tracker;
#line 2359 "../src/WindowManager.vala"
	_tmp1_ = gala_window_tracker_get_app_for_window (_tmp0_, window);
#line 2359 "../src/WindowManager.vala"
	_tmp2_ = _tmp1_;
#line 2359 "../src/WindowManager.vala"
	_tmp3_ = gala_inhibit_shortcuts_dialog_new (_tmp2_, window);
#line 2359 "../src/WindowManager.vala"
	_tmp4_ = (MetaInhibitShortcutsDialog*) _tmp3_;
#line 2359 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp2_);
#line 2359 "../src/WindowManager.vala"
	result = _tmp4_;
#line 2359 "../src/WindowManager.vala"
	return result;
#line 13789 "WindowManager.c"
}

static MetaPluginInfo*
gala_window_manager_gala_real_plugin_info (MetaPlugin* base)
{
	GalaWindowManagerGala * self;
	MetaPluginInfo _tmp0_;
	MetaPluginInfo* result;
#line 2362 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 2363 "../src/WindowManager.vala"
	_tmp0_ = self->priv->info;
#line 2363 "../src/WindowManager.vala"
	result = &_tmp0_;
#line 2363 "../src/WindowManager.vala"
	return result;
#line 13806 "WindowManager.c"
}

static gchar*
gala_window_manager_gala_generate_screenshot_filename (GalaWindowManagerGala* self)
{
	gchar* date_time = NULL;
	GDateTime* _tmp0_;
	GDateTime* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* result;
#line 2366 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 2367 "../src/WindowManager.vala"
	_tmp0_ = g_date_time_new_now_local ();
#line 2367 "../src/WindowManager.vala"
	_tmp1_ = _tmp0_;
#line 2367 "../src/WindowManager.vala"
	_tmp2_ = g_date_time_format (_tmp1_, "%Y-%m-%d %H.%M.%S");
#line 2367 "../src/WindowManager.vala"
	_tmp3_ = _tmp2_;
#line 2367 "../src/WindowManager.vala"
	_g_date_time_unref0 (_tmp1_);
#line 2367 "../src/WindowManager.vala"
	date_time = _tmp3_;
#line 2369 "../src/WindowManager.vala"
	_tmp4_ = g_strdup_printf (_ ("Screenshot from %s"), date_time);
#line 2369 "../src/WindowManager.vala"
	result = _tmp4_;
#line 2369 "../src/WindowManager.vala"
	_g_free0 (date_time);
#line 2369 "../src/WindowManager.vala"
	return result;
#line 13841 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_current_window_data_free (gpointer _data)
{
	GalaWindowManagerGalaScreenshotCurrentWindowData* _data_;
	_data_ = _data;
#line 19 "../src/WindowManager.vala"
	_g_object_unref0 (_data_->self);
#line 19 "../src/WindowManager.vala"
	g_slice_free (GalaWindowManagerGalaScreenshotCurrentWindowData, _data_);
#line 13853 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_current_window (GalaWindowManagerGala* self,
                                                    gboolean clipboard,
                                                    GAsyncReadyCallback _callback_,
                                                    gpointer _user_data_)
{
	GalaWindowManagerGalaScreenshotCurrentWindowData* _data_;
	GalaWindowManagerGala* _tmp0_;
#line 19 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 19 "../src/WindowManager.vala"
	_data_ = g_slice_new0 (GalaWindowManagerGalaScreenshotCurrentWindowData);
#line 19 "../src/WindowManager.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 19 "../src/WindowManager.vala"
	g_task_set_task_data (_data_->_async_result, _data_, gala_window_manager_gala_screenshot_current_window_data_free);
#line 19 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 19 "../src/WindowManager.vala"
	_data_->self = _tmp0_;
#line 19 "../src/WindowManager.vala"
	_data_->clipboard = clipboard;
#line 19 "../src/WindowManager.vala"
	gala_window_manager_gala_screenshot_current_window_co (_data_);
#line 13880 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_current_window_finish (GalaWindowManagerGala* self,
                                                           GAsyncResult* _res_)
{
	GalaWindowManagerGalaScreenshotCurrentWindowData* _data_;
#line 19 "../src/WindowManager.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 13890 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_current_window_ready (GObject* source_object,
                                                          GAsyncResult* _res_,
                                                          gpointer _user_data_)
{
	GalaWindowManagerGalaScreenshotCurrentWindowData* _data_;
#line 2378 "../src/WindowManager.vala"
	_data_ = _user_data_;
#line 2378 "../src/WindowManager.vala"
	_data_->_source_object_ = source_object;
#line 2378 "../src/WindowManager.vala"
	_data_->_res_ = _res_;
#line 2378 "../src/WindowManager.vala"
	gala_window_manager_gala_screenshot_current_window_co (_data_);
#line 13907 "WindowManager.c"
}

static gboolean
gala_window_manager_gala_screenshot_current_window_co (GalaWindowManagerGalaScreenshotCurrentWindowData* _data_)
{
#line 2372 "../src/WindowManager.vala"
	switch (_data_->_state_) {
#line 2372 "../src/WindowManager.vala"
		case 0:
#line 13917 "WindowManager.c"
		goto _state_0;
#line 2372 "../src/WindowManager.vala"
		case 1:
#line 13921 "WindowManager.c"
		goto _state_1;
		default:
#line 2372 "../src/WindowManager.vala"
		g_assert_not_reached ();
#line 13926 "WindowManager.c"
	}
	_state_0:
	{
#line 2374 "../src/WindowManager.vala"
		if (_data_->clipboard) {
#line 2374 "../src/WindowManager.vala"
			_data_->_tmp1_ = g_strdup ("");
#line 2374 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 2374 "../src/WindowManager.vala"
			_data_->_tmp0_ = _data_->_tmp1_;
#line 13938 "WindowManager.c"
		} else {
#line 2374 "../src/WindowManager.vala"
			_data_->_tmp2_ = gala_window_manager_gala_generate_screenshot_filename (_data_->self);
#line 2374 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 2374 "../src/WindowManager.vala"
			_data_->_tmp0_ = _data_->_tmp2_;
#line 13946 "WindowManager.c"
		}
#line 2374 "../src/WindowManager.vala"
		_data_->_tmp3_ = g_strdup (_data_->_tmp0_);
#line 2374 "../src/WindowManager.vala"
		_data_->filename = _data_->_tmp3_;
#line 2375 "../src/WindowManager.vala"
		_data_->success = FALSE;
#line 2376 "../src/WindowManager.vala"
		_data_->_tmp4_ = g_strdup ("");
#line 2376 "../src/WindowManager.vala"
		_data_->filename_used = _data_->_tmp4_;
#line 2377 "../src/WindowManager.vala"
		_data_->_tmp5_ = gala_screenshot_manager_init ((GalaWindowManager*) _data_->self);
#line 2377 "../src/WindowManager.vala"
		_data_->screenshot_manager = _data_->_tmp5_;
#line 2378 "../src/WindowManager.vala"
		_data_->_tmp6_ = FALSE;
#line 2378 "../src/WindowManager.vala"
		_data_->_tmp7_ = NULL;
#line 2378 "../src/WindowManager.vala"
		_data_->_state_ = 1;
#line 2378 "../src/WindowManager.vala"
		gala_screenshot_manager_screenshot_window (_data_->screenshot_manager, TRUE, FALSE, TRUE, _data_->filename, gala_window_manager_gala_screenshot_current_window_ready, _data_);
#line 2378 "../src/WindowManager.vala"
		return FALSE;
#line 13972 "WindowManager.c"
		_state_1:
#line 2378 "../src/WindowManager.vala"
		gala_screenshot_manager_screenshot_window_finish (_data_->screenshot_manager, _data_->_res_, &_data_->_tmp6_, &_data_->_tmp7_, &_data_->_inner_error0_);
#line 2378 "../src/WindowManager.vala"
		_data_->success = _data_->_tmp6_;
#line 2378 "../src/WindowManager.vala"
		_g_free0 (_data_->filename_used);
#line 2378 "../src/WindowManager.vala"
		_data_->filename_used = _data_->_tmp7_;
#line 2378 "../src/WindowManager.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2378 "../src/WindowManager.vala"
			_g_free0 (_data_->filename_used);
#line 2378 "../src/WindowManager.vala"
			_g_free0 (_data_->filename);
#line 2378 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 13990 "WindowManager.c"
			goto __catch0_g_error;
		}
#line 2373 "../src/WindowManager.vala"
		_g_free0 (_data_->filename_used);
#line 2373 "../src/WindowManager.vala"
		_g_free0 (_data_->filename);
#line 2373 "../src/WindowManager.vala"
		_g_free0 (_data_->_tmp0_);
#line 13999 "WindowManager.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 2373 "../src/WindowManager.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 14006 "WindowManager.c"
	}
	__finally0:
#line 2373 "../src/WindowManager.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2373 "../src/WindowManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 2373 "../src/WindowManager.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 2373 "../src/WindowManager.vala"
		g_object_unref (_data_->_async_result);
#line 2373 "../src/WindowManager.vala"
		return FALSE;
#line 14019 "WindowManager.c"
	}
#line 2372 "../src/WindowManager.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 2372 "../src/WindowManager.vala"
	if (_data_->_state_ != 0) {
#line 2372 "../src/WindowManager.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 2372 "../src/WindowManager.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 14029 "WindowManager.c"
		}
	}
#line 2372 "../src/WindowManager.vala"
	g_object_unref (_data_->_async_result);
#line 2372 "../src/WindowManager.vala"
	return FALSE;
#line 14036 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_area_data_free (gpointer _data)
{
	GalaWindowManagerGalaScreenshotAreaData* _data_;
	_data_ = _data;
#line 19 "../src/WindowManager.vala"
	_g_object_unref0 (_data_->self);
#line 19 "../src/WindowManager.vala"
	g_slice_free (GalaWindowManagerGalaScreenshotAreaData, _data_);
#line 14048 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_area (GalaWindowManagerGala* self,
                                          gboolean clipboard,
                                          GAsyncReadyCallback _callback_,
                                          gpointer _user_data_)
{
	GalaWindowManagerGalaScreenshotAreaData* _data_;
	GalaWindowManagerGala* _tmp0_;
#line 19 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 19 "../src/WindowManager.vala"
	_data_ = g_slice_new0 (GalaWindowManagerGalaScreenshotAreaData);
#line 19 "../src/WindowManager.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 19 "../src/WindowManager.vala"
	g_task_set_task_data (_data_->_async_result, _data_, gala_window_manager_gala_screenshot_area_data_free);
#line 19 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 19 "../src/WindowManager.vala"
	_data_->self = _tmp0_;
#line 19 "../src/WindowManager.vala"
	_data_->clipboard = clipboard;
#line 19 "../src/WindowManager.vala"
	gala_window_manager_gala_screenshot_area_co (_data_);
#line 14075 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_area_finish (GalaWindowManagerGala* self,
                                                 GAsyncResult* _res_)
{
	GalaWindowManagerGalaScreenshotAreaData* _data_;
#line 19 "../src/WindowManager.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 14085 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_area_ready (GObject* source_object,
                                                GAsyncResult* _res_,
                                                gpointer _user_data_)
{
	GalaWindowManagerGalaScreenshotAreaData* _data_;
#line 2393 "../src/WindowManager.vala"
	_data_ = _user_data_;
#line 2393 "../src/WindowManager.vala"
	_data_->_source_object_ = source_object;
#line 2393 "../src/WindowManager.vala"
	_data_->_res_ = _res_;
#line 2393 "../src/WindowManager.vala"
	gala_window_manager_gala_screenshot_area_co (_data_);
#line 14102 "WindowManager.c"
}

static gboolean
gala_window_manager_gala_screenshot_area_co (GalaWindowManagerGalaScreenshotAreaData* _data_)
{
#line 2384 "../src/WindowManager.vala"
	switch (_data_->_state_) {
#line 2384 "../src/WindowManager.vala"
		case 0:
#line 14112 "WindowManager.c"
		goto _state_0;
#line 2384 "../src/WindowManager.vala"
		case 1:
#line 14116 "WindowManager.c"
		goto _state_1;
#line 2384 "../src/WindowManager.vala"
		case 2:
#line 14120 "WindowManager.c"
		goto _state_2;
		default:
#line 2384 "../src/WindowManager.vala"
		g_assert_not_reached ();
#line 14125 "WindowManager.c"
	}
	_state_0:
	{
#line 2386 "../src/WindowManager.vala"
		if (_data_->clipboard) {
#line 2386 "../src/WindowManager.vala"
			_data_->_tmp1_ = g_strdup ("");
#line 2386 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 2386 "../src/WindowManager.vala"
			_data_->_tmp0_ = _data_->_tmp1_;
#line 14137 "WindowManager.c"
		} else {
#line 2386 "../src/WindowManager.vala"
			_data_->_tmp2_ = gala_window_manager_gala_generate_screenshot_filename (_data_->self);
#line 2386 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 2386 "../src/WindowManager.vala"
			_data_->_tmp0_ = _data_->_tmp2_;
#line 14145 "WindowManager.c"
		}
#line 2386 "../src/WindowManager.vala"
		_data_->_tmp3_ = g_strdup (_data_->_tmp0_);
#line 2386 "../src/WindowManager.vala"
		_data_->filename = _data_->_tmp3_;
#line 2387 "../src/WindowManager.vala"
		_data_->success = FALSE;
#line 2388 "../src/WindowManager.vala"
		_data_->_tmp4_ = g_strdup ("");
#line 2388 "../src/WindowManager.vala"
		_data_->filename_used = _data_->_tmp4_;
#line 2390 "../src/WindowManager.vala"
		_data_->_tmp5_ = gala_screenshot_manager_init ((GalaWindowManager*) _data_->self);
#line 2390 "../src/WindowManager.vala"
		_data_->screenshot_manager = _data_->_tmp5_;
#line 2393 "../src/WindowManager.vala"
		_data_->_tmp6_ = _data_->screenshot_manager;
#line 2393 "../src/WindowManager.vala"
		_data_->_tmp7_ = 0;
#line 2393 "../src/WindowManager.vala"
		_data_->_tmp8_ = 0;
#line 2393 "../src/WindowManager.vala"
		_data_->_tmp9_ = 0;
#line 2393 "../src/WindowManager.vala"
		_data_->_tmp10_ = 0;
#line 2393 "../src/WindowManager.vala"
		_data_->_state_ = 1;
#line 2393 "../src/WindowManager.vala"
		gala_screenshot_manager_select_area (_data_->_tmp6_, gala_window_manager_gala_screenshot_area_ready, _data_);
#line 2393 "../src/WindowManager.vala"
		return FALSE;
#line 14177 "WindowManager.c"
		_state_1:
#line 2393 "../src/WindowManager.vala"
		gala_screenshot_manager_select_area_finish (_data_->_tmp6_, _data_->_res_, &_data_->_tmp7_, &_data_->_tmp8_, &_data_->_tmp9_, &_data_->_tmp10_, &_data_->_inner_error0_);
#line 2393 "../src/WindowManager.vala"
		_data_->x = _data_->_tmp7_;
#line 2393 "../src/WindowManager.vala"
		_data_->y = _data_->_tmp8_;
#line 2393 "../src/WindowManager.vala"
		_data_->w = _data_->_tmp9_;
#line 2393 "../src/WindowManager.vala"
		_data_->h = _data_->_tmp10_;
#line 2393 "../src/WindowManager.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2393 "../src/WindowManager.vala"
			_g_free0 (_data_->filename_used);
#line 2393 "../src/WindowManager.vala"
			_g_free0 (_data_->filename);
#line 2393 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 14197 "WindowManager.c"
			goto __catch0_g_error;
		}
#line 2394 "../src/WindowManager.vala"
		_data_->_tmp11_ = _data_->screenshot_manager;
#line 2394 "../src/WindowManager.vala"
		_data_->_tmp12_ = _data_->filename;
#line 2394 "../src/WindowManager.vala"
		_data_->_tmp13_ = FALSE;
#line 2394 "../src/WindowManager.vala"
		_data_->_tmp14_ = NULL;
#line 2394 "../src/WindowManager.vala"
		_data_->_state_ = 2;
#line 2394 "../src/WindowManager.vala"
		gala_screenshot_manager_screenshot_area (_data_->_tmp11_, _data_->x, _data_->y, _data_->w, _data_->h, TRUE, _data_->_tmp12_, gala_window_manager_gala_screenshot_area_ready, _data_);
#line 2394 "../src/WindowManager.vala"
		return FALSE;
#line 14214 "WindowManager.c"
		_state_2:
#line 2394 "../src/WindowManager.vala"
		gala_screenshot_manager_screenshot_area_finish (_data_->_tmp11_, _data_->_res_, &_data_->_tmp13_, &_data_->_tmp14_, &_data_->_inner_error0_);
#line 2394 "../src/WindowManager.vala"
		_data_->success = _data_->_tmp13_;
#line 2394 "../src/WindowManager.vala"
		_g_free0 (_data_->filename_used);
#line 2394 "../src/WindowManager.vala"
		_data_->filename_used = _data_->_tmp14_;
#line 2394 "../src/WindowManager.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2394 "../src/WindowManager.vala"
			_g_free0 (_data_->filename_used);
#line 2394 "../src/WindowManager.vala"
			_g_free0 (_data_->filename);
#line 2394 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 14232 "WindowManager.c"
			goto __catch0_g_error;
		}
#line 2385 "../src/WindowManager.vala"
		_g_free0 (_data_->filename_used);
#line 2385 "../src/WindowManager.vala"
		_g_free0 (_data_->filename);
#line 2385 "../src/WindowManager.vala"
		_g_free0 (_data_->_tmp0_);
#line 14241 "WindowManager.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 2385 "../src/WindowManager.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 14248 "WindowManager.c"
	}
	__finally0:
#line 2385 "../src/WindowManager.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2385 "../src/WindowManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 2385 "../src/WindowManager.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 2385 "../src/WindowManager.vala"
		g_object_unref (_data_->_async_result);
#line 2385 "../src/WindowManager.vala"
		return FALSE;
#line 14261 "WindowManager.c"
	}
#line 2384 "../src/WindowManager.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 2384 "../src/WindowManager.vala"
	if (_data_->_state_ != 0) {
#line 2384 "../src/WindowManager.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 2384 "../src/WindowManager.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 14271 "WindowManager.c"
		}
	}
#line 2384 "../src/WindowManager.vala"
	g_object_unref (_data_->_async_result);
#line 2384 "../src/WindowManager.vala"
	return FALSE;
#line 14278 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_screen_data_free (gpointer _data)
{
	GalaWindowManagerGalaScreenshotScreenData* _data_;
	_data_ = _data;
#line 19 "../src/WindowManager.vala"
	_g_object_unref0 (_data_->self);
#line 19 "../src/WindowManager.vala"
	g_slice_free (GalaWindowManagerGalaScreenshotScreenData, _data_);
#line 14290 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_screen (GalaWindowManagerGala* self,
                                            gboolean clipboard,
                                            GAsyncReadyCallback _callback_,
                                            gpointer _user_data_)
{
	GalaWindowManagerGalaScreenshotScreenData* _data_;
	GalaWindowManagerGala* _tmp0_;
#line 19 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 19 "../src/WindowManager.vala"
	_data_ = g_slice_new0 (GalaWindowManagerGalaScreenshotScreenData);
#line 19 "../src/WindowManager.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 19 "../src/WindowManager.vala"
	g_task_set_task_data (_data_->_async_result, _data_, gala_window_manager_gala_screenshot_screen_data_free);
#line 19 "../src/WindowManager.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 19 "../src/WindowManager.vala"
	_data_->self = _tmp0_;
#line 19 "../src/WindowManager.vala"
	_data_->clipboard = clipboard;
#line 19 "../src/WindowManager.vala"
	gala_window_manager_gala_screenshot_screen_co (_data_);
#line 14317 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_screen_finish (GalaWindowManagerGala* self,
                                                   GAsyncResult* _res_)
{
	GalaWindowManagerGalaScreenshotScreenData* _data_;
#line 19 "../src/WindowManager.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 14327 "WindowManager.c"
}

static void
gala_window_manager_gala_screenshot_screen_ready (GObject* source_object,
                                                  GAsyncResult* _res_,
                                                  gpointer _user_data_)
{
	GalaWindowManagerGalaScreenshotScreenData* _data_;
#line 2406 "../src/WindowManager.vala"
	_data_ = _user_data_;
#line 2406 "../src/WindowManager.vala"
	_data_->_source_object_ = source_object;
#line 2406 "../src/WindowManager.vala"
	_data_->_res_ = _res_;
#line 2406 "../src/WindowManager.vala"
	gala_window_manager_gala_screenshot_screen_co (_data_);
#line 14344 "WindowManager.c"
}

static gboolean
gala_window_manager_gala_screenshot_screen_co (GalaWindowManagerGalaScreenshotScreenData* _data_)
{
#line 2400 "../src/WindowManager.vala"
	switch (_data_->_state_) {
#line 2400 "../src/WindowManager.vala"
		case 0:
#line 14354 "WindowManager.c"
		goto _state_0;
#line 2400 "../src/WindowManager.vala"
		case 1:
#line 14358 "WindowManager.c"
		goto _state_1;
		default:
#line 2400 "../src/WindowManager.vala"
		g_assert_not_reached ();
#line 14363 "WindowManager.c"
	}
	_state_0:
	{
#line 2402 "../src/WindowManager.vala"
		if (_data_->clipboard) {
#line 2402 "../src/WindowManager.vala"
			_data_->_tmp1_ = g_strdup ("");
#line 2402 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 2402 "../src/WindowManager.vala"
			_data_->_tmp0_ = _data_->_tmp1_;
#line 14375 "WindowManager.c"
		} else {
#line 2402 "../src/WindowManager.vala"
			_data_->_tmp2_ = gala_window_manager_gala_generate_screenshot_filename (_data_->self);
#line 2402 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 2402 "../src/WindowManager.vala"
			_data_->_tmp0_ = _data_->_tmp2_;
#line 14383 "WindowManager.c"
		}
#line 2402 "../src/WindowManager.vala"
		_data_->_tmp3_ = g_strdup (_data_->_tmp0_);
#line 2402 "../src/WindowManager.vala"
		_data_->filename = _data_->_tmp3_;
#line 2403 "../src/WindowManager.vala"
		_data_->success = FALSE;
#line 2404 "../src/WindowManager.vala"
		_data_->_tmp4_ = g_strdup ("");
#line 2404 "../src/WindowManager.vala"
		_data_->filename_used = _data_->_tmp4_;
#line 2405 "../src/WindowManager.vala"
		_data_->_tmp5_ = gala_screenshot_manager_init ((GalaWindowManager*) _data_->self);
#line 2405 "../src/WindowManager.vala"
		_data_->screenshot_manager = _data_->_tmp5_;
#line 2406 "../src/WindowManager.vala"
		_data_->_tmp6_ = FALSE;
#line 2406 "../src/WindowManager.vala"
		_data_->_tmp7_ = NULL;
#line 2406 "../src/WindowManager.vala"
		_data_->_state_ = 1;
#line 2406 "../src/WindowManager.vala"
		gala_screenshot_manager_screenshot (_data_->screenshot_manager, FALSE, TRUE, _data_->filename, gala_window_manager_gala_screenshot_screen_ready, _data_);
#line 2406 "../src/WindowManager.vala"
		return FALSE;
#line 14409 "WindowManager.c"
		_state_1:
#line 2406 "../src/WindowManager.vala"
		gala_screenshot_manager_screenshot_finish (_data_->screenshot_manager, _data_->_res_, &_data_->_tmp6_, &_data_->_tmp7_, &_data_->_inner_error0_);
#line 2406 "../src/WindowManager.vala"
		_data_->success = _data_->_tmp6_;
#line 2406 "../src/WindowManager.vala"
		_g_free0 (_data_->filename_used);
#line 2406 "../src/WindowManager.vala"
		_data_->filename_used = _data_->_tmp7_;
#line 2406 "../src/WindowManager.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2406 "../src/WindowManager.vala"
			_g_free0 (_data_->filename_used);
#line 2406 "../src/WindowManager.vala"
			_g_free0 (_data_->filename);
#line 2406 "../src/WindowManager.vala"
			_g_free0 (_data_->_tmp0_);
#line 14427 "WindowManager.c"
			goto __catch0_g_error;
		}
#line 2401 "../src/WindowManager.vala"
		_g_free0 (_data_->filename_used);
#line 2401 "../src/WindowManager.vala"
		_g_free0 (_data_->filename);
#line 2401 "../src/WindowManager.vala"
		_g_free0 (_data_->_tmp0_);
#line 14436 "WindowManager.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 2401 "../src/WindowManager.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 14443 "WindowManager.c"
	}
	__finally0:
#line 2401 "../src/WindowManager.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2401 "../src/WindowManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 2401 "../src/WindowManager.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 2401 "../src/WindowManager.vala"
		g_object_unref (_data_->_async_result);
#line 2401 "../src/WindowManager.vala"
		return FALSE;
#line 14456 "WindowManager.c"
	}
#line 2400 "../src/WindowManager.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 2400 "../src/WindowManager.vala"
	if (_data_->_state_ != 0) {
#line 2400 "../src/WindowManager.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 2400 "../src/WindowManager.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 14466 "WindowManager.c"
		}
	}
#line 2400 "../src/WindowManager.vala"
	g_object_unref (_data_->_async_result);
#line 2400 "../src/WindowManager.vala"
	return FALSE;
#line 14473 "WindowManager.c"
}

static void
gala_window_manager_gala_clutter_actor_reparent (ClutterActor* actor,
                                                 ClutterActor* new_parent)
{
	ClutterActor* _tmp0_;
#line 2412 "../src/WindowManager.vala"
	g_return_if_fail (actor != NULL);
#line 2412 "../src/WindowManager.vala"
	g_return_if_fail (new_parent != NULL);
#line 2413 "../src/WindowManager.vala"
	if (actor == new_parent) {
#line 2414 "../src/WindowManager.vala"
		return;
#line 14489 "WindowManager.c"
	}
#line 2416 "../src/WindowManager.vala"
	g_object_ref ((GObject*) actor);
#line 2417 "../src/WindowManager.vala"
	_tmp0_ = clutter_actor_get_parent (actor);
#line 2417 "../src/WindowManager.vala"
	clutter_actor_remove_child (_tmp0_, actor);
#line 2418 "../src/WindowManager.vala"
	clutter_actor_add_child (new_parent, actor);
#line 2419 "../src/WindowManager.vala"
	g_object_unref ((GObject*) actor);
#line 14501 "WindowManager.c"
}

GalaWindowManagerGala*
gala_window_manager_gala_construct (GType object_type)
{
	GalaWindowManagerGala * self = NULL;
#line 19 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) g_object_new (object_type, NULL);
#line 19 "../src/WindowManager.vala"
	return self;
#line 14512 "WindowManager.c"
}

GalaWindowManagerGala*
gala_window_manager_gala_new (void)
{
#line 19 "../src/WindowManager.vala"
	return gala_window_manager_gala_construct (GALA_TYPE_WINDOW_MANAGER_GALA);
#line 14520 "WindowManager.c"
}

static ClutterActor*
gala_window_manager_gala_real_get_ui_group (GalaWindowManager* base)
{
	ClutterActor* result;
	GalaWindowManagerGala* self;
	ClutterActor* _tmp0_;
#line 23 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 23 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_ui_group;
#line 23 "../src/WindowManager.vala"
	result = _tmp0_;
#line 23 "../src/WindowManager.vala"
	return result;
#line 14537 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_ui_group (GalaWindowManager* base,
                                            ClutterActor* value)
{
	GalaWindowManagerGala* self;
	ClutterActor* old_value;
#line 23 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 23 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_ui_group (base);
#line 23 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14552 "WindowManager.c"
		ClutterActor* _tmp0_;
#line 23 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 23 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_ui_group);
#line 23 "../src/WindowManager.vala"
		self->priv->_ui_group = _tmp0_;
#line 23 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_UI_GROUP_PROPERTY]);
#line 14562 "WindowManager.c"
	}
}

static ClutterStage*
gala_window_manager_gala_real_get_stage (GalaWindowManager* base)
{
	ClutterStage* result;
	GalaWindowManagerGala* self;
	ClutterStage* _tmp0_;
#line 28 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 28 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_stage;
#line 28 "../src/WindowManager.vala"
	result = _tmp0_;
#line 28 "../src/WindowManager.vala"
	return result;
#line 14580 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_stage (GalaWindowManager* base,
                                         ClutterStage* value)
{
	GalaWindowManagerGala* self;
	ClutterStage* old_value;
#line 28 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 28 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_stage (base);
#line 28 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14595 "WindowManager.c"
		ClutterStage* _tmp0_;
#line 28 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 28 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_stage);
#line 28 "../src/WindowManager.vala"
		self->priv->_stage = _tmp0_;
#line 28 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_STAGE_PROPERTY]);
#line 14605 "WindowManager.c"
	}
}

static ClutterActor*
gala_window_manager_gala_real_get_window_group (GalaWindowManager* base)
{
	ClutterActor* result;
	GalaWindowManagerGala* self;
	ClutterActor* _tmp0_;
#line 33 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 33 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_window_group;
#line 33 "../src/WindowManager.vala"
	result = _tmp0_;
#line 33 "../src/WindowManager.vala"
	return result;
#line 14623 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_window_group (GalaWindowManager* base,
                                                ClutterActor* value)
{
	GalaWindowManagerGala* self;
	ClutterActor* old_value;
#line 33 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 33 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_window_group (base);
#line 33 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14638 "WindowManager.c"
		ClutterActor* _tmp0_;
#line 33 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 33 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_window_group);
#line 33 "../src/WindowManager.vala"
		self->priv->_window_group = _tmp0_;
#line 33 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WINDOW_GROUP_PROPERTY]);
#line 14648 "WindowManager.c"
	}
}

static ClutterActor*
gala_window_manager_gala_real_get_top_window_group (GalaWindowManager* base)
{
	ClutterActor* result;
	GalaWindowManagerGala* self;
	ClutterActor* _tmp0_;
#line 38 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 38 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_top_window_group;
#line 38 "../src/WindowManager.vala"
	result = _tmp0_;
#line 38 "../src/WindowManager.vala"
	return result;
#line 14666 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_top_window_group (GalaWindowManager* base,
                                                    ClutterActor* value)
{
	GalaWindowManagerGala* self;
	ClutterActor* old_value;
#line 38 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 38 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_top_window_group (base);
#line 38 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14681 "WindowManager.c"
		ClutterActor* _tmp0_;
#line 38 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 38 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_top_window_group);
#line 38 "../src/WindowManager.vala"
		self->priv->_top_window_group = _tmp0_;
#line 38 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_TOP_WINDOW_GROUP_PROPERTY]);
#line 14691 "WindowManager.c"
	}
}

ClutterActor*
gala_window_manager_gala_get_notification_group (GalaWindowManagerGala* self)
{
	ClutterActor* result;
	ClutterActor* _tmp0_;
#line 40 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 40 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_notification_group;
#line 40 "../src/WindowManager.vala"
	result = _tmp0_;
#line 40 "../src/WindowManager.vala"
	return result;
#line 14708 "WindowManager.c"
}

void
gala_window_manager_gala_set_notification_group (GalaWindowManagerGala* self,
                                                 ClutterActor* value)
{
	ClutterActor* old_value;
#line 40 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 40 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_get_notification_group (self);
#line 40 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14722 "WindowManager.c"
		ClutterActor* _tmp0_;
#line 40 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 40 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_notification_group);
#line 40 "../src/WindowManager.vala"
		self->priv->_notification_group = _tmp0_;
#line 40 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_NOTIFICATION_GROUP_PROPERTY]);
#line 14732 "WindowManager.c"
	}
}

static MetaBackgroundGroup*
gala_window_manager_gala_real_get_background_group (GalaWindowManager* base)
{
	MetaBackgroundGroup* result;
	GalaWindowManagerGala* self;
	MetaBackgroundGroup* _tmp0_;
#line 45 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 45 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_background_group;
#line 45 "../src/WindowManager.vala"
	result = _tmp0_;
#line 45 "../src/WindowManager.vala"
	return result;
#line 14750 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_background_group (GalaWindowManager* base,
                                                    MetaBackgroundGroup* value)
{
	GalaWindowManagerGala* self;
	MetaBackgroundGroup* old_value;
#line 45 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 45 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_background_group (base);
#line 45 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14765 "WindowManager.c"
		MetaBackgroundGroup* _tmp0_;
#line 45 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 45 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_background_group);
#line 45 "../src/WindowManager.vala"
		self->priv->_background_group = _tmp0_;
#line 45 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_BACKGROUND_GROUP_PROPERTY]);
#line 14775 "WindowManager.c"
	}
}

static GalaActivatableComponent*
gala_window_manager_gala_real_get_workspace_view (GalaWindowManager* base)
{
	GalaActivatableComponent* result;
	GalaWindowManagerGala* self;
	GalaActivatableComponent* _tmp0_;
#line 50 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 50 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_workspace_view;
#line 50 "../src/WindowManager.vala"
	result = _tmp0_;
#line 50 "../src/WindowManager.vala"
	return result;
#line 14793 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_workspace_view (GalaWindowManager* base,
                                                  GalaActivatableComponent* value)
{
	GalaWindowManagerGala* self;
	GalaActivatableComponent* old_value;
#line 50 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 50 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_workspace_view (base);
#line 50 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14808 "WindowManager.c"
		GalaActivatableComponent* _tmp0_;
#line 50 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 50 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_workspace_view);
#line 50 "../src/WindowManager.vala"
		self->priv->_workspace_view = _tmp0_;
#line 50 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WORKSPACE_VIEW_PROPERTY]);
#line 14818 "WindowManager.c"
	}
}

static gboolean
gala_window_manager_gala_real_get_enable_animations (GalaWindowManager* base)
{
	gboolean result;
	GalaWindowManagerGala* self;
#line 55 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 55 "../src/WindowManager.vala"
	result = self->priv->_enable_animations;
#line 55 "../src/WindowManager.vala"
	return result;
#line 14833 "WindowManager.c"
}

static void
gala_window_manager_gala_real_set_enable_animations (GalaWindowManager* base,
                                                     gboolean value)
{
	GalaWindowManagerGala* self;
	gboolean old_value;
#line 55 "../src/WindowManager.vala"
	self = (GalaWindowManagerGala*) base;
#line 55 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_real_get_enable_animations (base);
#line 55 "../src/WindowManager.vala"
	if (old_value != value) {
#line 55 "../src/WindowManager.vala"
		self->priv->_enable_animations = value;
#line 55 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_ENABLE_ANIMATIONS_PROPERTY]);
#line 14852 "WindowManager.c"
	}
}

GalaScreenShield*
gala_window_manager_gala_get_screen_shield (GalaWindowManagerGala* self)
{
	GalaScreenShield* result;
	GalaScreenShield* _tmp0_;
#line 57 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 57 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_screen_shield;
#line 57 "../src/WindowManager.vala"
	result = _tmp0_;
#line 57 "../src/WindowManager.vala"
	return result;
#line 14869 "WindowManager.c"
}

static void
gala_window_manager_gala_set_screen_shield (GalaWindowManagerGala* self,
                                            GalaScreenShield* value)
{
	GalaScreenShield* old_value;
#line 57 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 57 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_get_screen_shield (self);
#line 57 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14883 "WindowManager.c"
		GalaScreenShield* _tmp0_;
#line 57 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 57 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_screen_shield);
#line 57 "../src/WindowManager.vala"
		self->priv->_screen_shield = _tmp0_;
#line 57 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_SCREEN_SHIELD_PROPERTY]);
#line 14893 "WindowManager.c"
	}
}

GalaPointerLocator*
gala_window_manager_gala_get_pointer_locator (GalaWindowManagerGala* self)
{
	GalaPointerLocator* result;
	GalaPointerLocator* _tmp0_;
#line 59 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 59 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_pointer_locator;
#line 59 "../src/WindowManager.vala"
	result = _tmp0_;
#line 59 "../src/WindowManager.vala"
	return result;
#line 14910 "WindowManager.c"
}

static void
gala_window_manager_gala_set_pointer_locator (GalaWindowManagerGala* self,
                                              GalaPointerLocator* value)
{
	GalaPointerLocator* old_value;
#line 59 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 59 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_get_pointer_locator (self);
#line 59 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14924 "WindowManager.c"
		GalaPointerLocator* _tmp0_;
#line 59 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 59 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_pointer_locator);
#line 59 "../src/WindowManager.vala"
		self->priv->_pointer_locator = _tmp0_;
#line 59 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_POINTER_LOCATOR_PROPERTY]);
#line 14934 "WindowManager.c"
	}
}

GalaActivatableComponent*
gala_window_manager_gala_get_window_overview (GalaWindowManagerGala* self)
{
	GalaActivatableComponent* result;
	GalaActivatableComponent* _tmp0_;
#line 67 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 67 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_window_overview;
#line 67 "../src/WindowManager.vala"
	result = _tmp0_;
#line 67 "../src/WindowManager.vala"
	return result;
#line 14951 "WindowManager.c"
}

static void
gala_window_manager_gala_set_window_overview (GalaWindowManagerGala* self,
                                              GalaActivatableComponent* value)
{
	GalaActivatableComponent* old_value;
#line 67 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 67 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_get_window_overview (self);
#line 67 "../src/WindowManager.vala"
	if (old_value != value) {
#line 14965 "WindowManager.c"
		GalaActivatableComponent* _tmp0_;
#line 67 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 67 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_window_overview);
#line 67 "../src/WindowManager.vala"
		self->priv->_window_overview = _tmp0_;
#line 67 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WINDOW_OVERVIEW_PROPERTY]);
#line 14975 "WindowManager.c"
	}
}

GalaScreenSaverManager*
gala_window_manager_gala_get_screensaver (GalaWindowManagerGala* self)
{
	GalaScreenSaverManager* result;
	GalaScreenSaverManager* _tmp0_;
#line 69 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 69 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_screensaver;
#line 69 "../src/WindowManager.vala"
	result = _tmp0_;
#line 69 "../src/WindowManager.vala"
	return result;
#line 14992 "WindowManager.c"
}

static void
gala_window_manager_gala_set_screensaver (GalaWindowManagerGala* self,
                                          GalaScreenSaverManager* value)
{
	GalaScreenSaverManager* old_value;
#line 69 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 69 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_get_screensaver (self);
#line 69 "../src/WindowManager.vala"
	if (old_value != value) {
#line 15006 "WindowManager.c"
		GalaScreenSaverManager* _tmp0_;
#line 69 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 69 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_screensaver);
#line 69 "../src/WindowManager.vala"
		self->priv->_screensaver = _tmp0_;
#line 69 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_SCREENSAVER_PROPERTY]);
#line 15016 "WindowManager.c"
	}
}

GalaWindowTracker*
gala_window_manager_gala_get_window_tracker (GalaWindowManagerGala* self)
{
	GalaWindowTracker* result;
	GalaWindowTracker* _tmp0_;
#line 73 "../src/WindowManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 73 "../src/WindowManager.vala"
	_tmp0_ = self->priv->_window_tracker;
#line 73 "../src/WindowManager.vala"
	result = _tmp0_;
#line 73 "../src/WindowManager.vala"
	return result;
#line 15033 "WindowManager.c"
}

static void
gala_window_manager_gala_set_window_tracker (GalaWindowManagerGala* self,
                                             GalaWindowTracker* value)
{
	GalaWindowTracker* old_value;
#line 73 "../src/WindowManager.vala"
	g_return_if_fail (self != NULL);
#line 73 "../src/WindowManager.vala"
	old_value = gala_window_manager_gala_get_window_tracker (self);
#line 73 "../src/WindowManager.vala"
	if (old_value != value) {
#line 15047 "WindowManager.c"
		GalaWindowTracker* _tmp0_;
#line 73 "../src/WindowManager.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 73 "../src/WindowManager.vala"
		_g_object_unref0 (self->priv->_window_tracker);
#line 73 "../src/WindowManager.vala"
		self->priv->_window_tracker = _tmp0_;
#line 73 "../src/WindowManager.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WINDOW_TRACKER_PROPERTY]);
#line 15057 "WindowManager.c"
	}
}

static void
_gala_window_manager_gala_on_gesture_detected_gala_gesture_tracker_on_gesture_detected (GalaGestureTracker* _sender,
                                                                                        GalaGesture* gesture,
                                                                                        gpointer self)
{
#line 130 "../src/WindowManager.vala"
	gala_window_manager_gala_on_gesture_detected ((GalaWindowManagerGala*) self, gesture);
#line 15068 "WindowManager.c"
}

static GObject *
gala_window_manager_gala_constructor (GType type,
                                      guint n_construct_properties,
                                      GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GalaWindowManagerGala * self;
	GalaGestureTracker* _tmp0_;
	GalaGestureTracker* _tmp1_;
	GalaGestureTracker* _tmp2_;
	MetaPluginInfo _tmp3_ = {0};
	GSettings* _tmp4_;
	GSettings* _tmp5_;
	GSettings* _tmp6_;
	GSettings* _tmp7_;
	GSettings* _tmp8_;
	GalaDrawingStyleManager* _tmp9_;
	GalaDrawingStyleManager* _tmp10_;
#line 127 "../src/WindowManager.vala"
	parent_class = G_OBJECT_CLASS (gala_window_manager_gala_parent_class);
#line 127 "../src/WindowManager.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 127 "../src/WindowManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGala);
#line 128 "../src/WindowManager.vala"
	_tmp0_ = gala_gesture_tracker_new ((gint) GALA_ANIMATION_DURATION_WORKSPACE_SWITCH_MIN, (gint) GALA_ANIMATION_DURATION_WORKSPACE_SWITCH);
#line 128 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->gesture_tracker);
#line 128 "../src/WindowManager.vala"
	self->priv->gesture_tracker = _tmp0_;
#line 129 "../src/WindowManager.vala"
	_tmp1_ = self->priv->gesture_tracker;
#line 129 "../src/WindowManager.vala"
	gala_gesture_tracker_enable_touchpad (_tmp1_);
#line 130 "../src/WindowManager.vala"
	_tmp2_ = self->priv->gesture_tracker;
#line 130 "../src/WindowManager.vala"
	g_signal_connect_object (_tmp2_, "on-gesture-detected", (GCallback) _gala_window_manager_gala_on_gesture_detected_gala_gesture_tracker_on_gesture_detected, self, 0);
#line 132 "../src/WindowManager.vala"
	memset (&_tmp3_, 0, sizeof (MetaPluginInfo));
#line 132 "../src/WindowManager.vala"
	_tmp3_.name = "Gala";
#line 132 "../src/WindowManager.vala"
	_tmp3_.version = VERSION;
#line 132 "../src/WindowManager.vala"
	_tmp3_.author = "Gala Developers";
#line 132 "../src/WindowManager.vala"
	_tmp3_.license = "GPLv3";
#line 132 "../src/WindowManager.vala"
	_tmp3_.description = "A nice elementary window manager";
#line 132 "../src/WindowManager.vala"
	self->priv->info = _tmp3_;
#line 135 "../src/WindowManager.vala"
	_tmp4_ = g_settings_new (SCHEMA ".animations");
#line 135 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->animations_settings);
#line 135 "../src/WindowManager.vala"
	self->priv->animations_settings = _tmp4_;
#line 136 "../src/WindowManager.vala"
	_tmp5_ = self->priv->animations_settings;
#line 136 "../src/WindowManager.vala"
	g_settings_bind (_tmp5_, "enable-animations", (GObject*) self, "enable-animations", G_SETTINGS_BIND_GET);
#line 137 "../src/WindowManager.vala"
	_tmp6_ = g_settings_new (SCHEMA ".behavior");
#line 137 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->behavior_settings);
#line 137 "../src/WindowManager.vala"
	self->priv->behavior_settings = _tmp6_;
#line 138 "../src/WindowManager.vala"
	_tmp7_ = g_settings_new ("io.elementary.desktop.wm.behavior");
#line 138 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->new_behavior_settings);
#line 138 "../src/WindowManager.vala"
	self->priv->new_behavior_settings = _tmp7_;
#line 139 "../src/WindowManager.vala"
	_tmp8_ = self->priv->animations_settings;
#line 139 "../src/WindowManager.vala"
	gala_window_manager_set_enable_animations ((GalaWindowManager*) self, g_settings_get_boolean (_tmp8_, "enable-animations"));
#line 142 "../src/WindowManager.vala"
	_tmp9_ = gala_drawing_style_manager_get_instance ();
#line 142 "../src/WindowManager.vala"
	_tmp10_ = _tmp9_;
#line 142 "../src/WindowManager.vala"
	_g_object_unref0 (_tmp10_);
#line 127 "../src/WindowManager.vala"
	return obj;
#line 15158 "WindowManager.c"
}

static void
gala_window_manager_gala_class_init (GalaWindowManagerGalaClass * klass,
                                     gpointer klass_data)
{
#line 19 "../src/WindowManager.vala"
	gala_window_manager_gala_parent_class = g_type_class_peek_parent (klass);
#line 19 "../src/WindowManager.vala"
	g_type_class_adjust_private_offset (klass, &GalaWindowManagerGala_private_offset);
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->start = (void (*) (MetaPlugin*)) gala_window_manager_gala_real_start;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->show_window_menu = (void (*) (MetaPlugin*, MetaWindow*, MetaWindowMenuType, gint, gint)) gala_window_manager_gala_real_show_window_menu;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->show_tile_preview = (void (*) (MetaPlugin*, MetaWindow*, MtkRectangle*, gint)) gala_window_manager_gala_real_show_tile_preview;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->hide_tile_preview = (void (*) (MetaPlugin*)) gala_window_manager_gala_real_hide_tile_preview;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->show_window_menu_for_rect = (void (*) (MetaPlugin*, MetaWindow*, MetaWindowMenuType, MtkRectangle*)) gala_window_manager_gala_real_show_window_menu_for_rect;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->size_change = (void (*) (MetaPlugin*, MetaWindowActor*, MetaSizeChange, MtkRectangle*, MtkRectangle*)) gala_window_manager_gala_real_size_change;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->size_changed = (void (*) (MetaPlugin*, MetaWindowActor*)) gala_window_manager_gala_real_size_changed;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->minimize = (void (*) (MetaPlugin*, MetaWindowActor*)) gala_window_manager_gala_real_minimize;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->unminimize = (void (*) (MetaPlugin*, MetaWindowActor*)) gala_window_manager_gala_real_unminimize;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->map = (void (*) (MetaPlugin*, MetaWindowActor*)) gala_window_manager_gala_real_map;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->destroy = (void (*) (MetaPlugin*, MetaWindowActor*)) gala_window_manager_gala_real_destroy;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->kill_window_effects = (void (*) (MetaPlugin*, MetaWindowActor*)) gala_window_manager_gala_real_kill_window_effects;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->switch_workspace = (void (*) (MetaPlugin*, gint, gint, MetaMotionDirection)) gala_window_manager_gala_real_switch_workspace;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->kill_switch_workspace = (void (*) (MetaPlugin*)) gala_window_manager_gala_real_kill_switch_workspace;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->locate_pointer = (void (*) (MetaPlugin*)) gala_window_manager_gala_real_locate_pointer;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->keybinding_filter = (gboolean (*) (MetaPlugin*, MetaKeyBinding*)) gala_window_manager_gala_real_keybinding_filter;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->confirm_display_change = (void (*) (MetaPlugin*)) gala_window_manager_gala_real_confirm_display_change;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->create_close_dialog = (MetaCloseDialog* (*) (MetaPlugin*, MetaWindow*)) gala_window_manager_gala_real_create_close_dialog;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->create_inhibit_shortcuts_dialog = (MetaInhibitShortcutsDialog* (*) (MetaPlugin*, MetaWindow*)) gala_window_manager_gala_real_create_inhibit_shortcuts_dialog;
#line 19 "../src/WindowManager.vala"
	((MetaPluginClass *) klass)->plugin_info = (MetaPluginInfo* (*) (MetaPlugin*)) gala_window_manager_gala_real_plugin_info;
#line 19 "../src/WindowManager.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_gala_window_manager_gala_get_property;
#line 19 "../src/WindowManager.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_gala_window_manager_gala_set_property;
#line 19 "../src/WindowManager.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_window_manager_gala_constructor;
#line 19 "../src/WindowManager.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_window_manager_gala_finalize;
#line 15217 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_UI_GROUP_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_UI_GROUP_PROPERTY] = g_param_spec_object ("ui-group", "ui-group", "ui-group", clutter_actor_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 15223 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_STAGE_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_STAGE_PROPERTY] = g_param_spec_object ("stage", "stage", "stage", clutter_stage_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 15229 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_WINDOW_GROUP_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WINDOW_GROUP_PROPERTY] = g_param_spec_object ("window-group", "window-group", "window-group", clutter_actor_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 15235 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_TOP_WINDOW_GROUP_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_TOP_WINDOW_GROUP_PROPERTY] = g_param_spec_object ("top-window-group", "top-window-group", "top-window-group", clutter_actor_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_NOTIFICATION_GROUP_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_NOTIFICATION_GROUP_PROPERTY] = g_param_spec_object ("notification-group", "notification-group", "notification-group", clutter_actor_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 15243 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_BACKGROUND_GROUP_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_BACKGROUND_GROUP_PROPERTY] = g_param_spec_object ("background-group", "background-group", "background-group", meta_background_group_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 15249 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_WORKSPACE_VIEW_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WORKSPACE_VIEW_PROPERTY] = g_param_spec_object ("workspace-view", "workspace-view", "workspace-view", GALA_TYPE_ACTIVATABLE_COMPONENT, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 15255 "WindowManager.c"
	/**
	         * {@inheritDoc}
	         */
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_ENABLE_ANIMATIONS_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_ENABLE_ANIMATIONS_PROPERTY] = g_param_spec_boolean ("enable-animations", "enable-animations", "enable-animations", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_SCREEN_SHIELD_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_SCREEN_SHIELD_PROPERTY] = g_param_spec_object ("screen-shield", "screen-shield", "screen-shield", GALA_TYPE_SCREEN_SHIELD, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_POINTER_LOCATOR_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_POINTER_LOCATOR_PROPERTY] = g_param_spec_object ("pointer-locator", "pointer-locator", "pointer-locator", GALA_TYPE_POINTER_LOCATOR, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_WINDOW_OVERVIEW_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WINDOW_OVERVIEW_PROPERTY] = g_param_spec_object ("window-overview", "window-overview", "window-overview", GALA_TYPE_ACTIVATABLE_COMPONENT, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_SCREENSAVER_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_SCREENSAVER_PROPERTY] = g_param_spec_object ("screensaver", "screensaver", "screensaver", GALA_TYPE_SCREEN_SAVER_MANAGER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 19 "../src/WindowManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WINDOW_MANAGER_GALA_WINDOW_TRACKER_PROPERTY, gala_window_manager_gala_properties[GALA_WINDOW_MANAGER_GALA_WINDOW_TRACKER_PROPERTY] = g_param_spec_object ("window-tracker", "window-tracker", "window-tracker", GALA_TYPE_WINDOW_TRACKER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 19 "../src/WindowManager.vala"
	gala_window_manager_gala_signals[GALA_WINDOW_MANAGER_GALA_WINDOW_CREATED_SIGNAL] = g_signal_new ("window-created", GALA_TYPE_WINDOW_MANAGER_GALA, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, meta_window_get_type ());
#line 15273 "WindowManager.c"
}

static void
gala_window_manager_gala_gala_window_manager_interface_init (GalaWindowManagerIface * iface,
                                                             gpointer iface_data)
{
#line 19 "../src/WindowManager.vala"
	gala_window_manager_gala_gala_window_manager_parent_iface = g_type_interface_peek_parent (iface);
#line 19 "../src/WindowManager.vala"
	iface->switch_to_next_workspace = (void (*) (GalaWindowManager*, MetaMotionDirection, guint32)) gala_window_manager_gala_real_switch_to_next_workspace;
#line 19 "../src/WindowManager.vala"
	iface->move_window = (void (*) (GalaWindowManager*, MetaWindow*, MetaWorkspace*, guint32)) gala_window_manager_gala_real_move_window;
#line 19 "../src/WindowManager.vala"
	iface->push_modal = (GalaModalProxy* (*) (GalaWindowManager*, ClutterActor*)) gala_window_manager_gala_real_push_modal;
#line 19 "../src/WindowManager.vala"
	iface->pop_modal = (void (*) (GalaWindowManager*, GalaModalProxy*)) gala_window_manager_gala_real_pop_modal;
#line 19 "../src/WindowManager.vala"
	iface->is_modal = (gboolean (*) (GalaWindowManager*)) gala_window_manager_gala_real_is_modal;
#line 19 "../src/WindowManager.vala"
	iface->modal_proxy_valid = (gboolean (*) (GalaWindowManager*, GalaModalProxy*)) gala_window_manager_gala_real_modal_proxy_valid;
#line 19 "../src/WindowManager.vala"
	iface->perform_action = (void (*) (GalaWindowManager*, GalaActionType)) gala_window_manager_gala_real_perform_action;
#line 19 "../src/WindowManager.vala"
	iface->get_ui_group = gala_window_manager_gala_real_get_ui_group;
#line 19 "../src/WindowManager.vala"
	iface->set_ui_group = gala_window_manager_gala_real_set_ui_group;
#line 19 "../src/WindowManager.vala"
	iface->get_stage = gala_window_manager_gala_real_get_stage;
#line 19 "../src/WindowManager.vala"
	iface->set_stage = gala_window_manager_gala_real_set_stage;
#line 19 "../src/WindowManager.vala"
	iface->get_window_group = gala_window_manager_gala_real_get_window_group;
#line 19 "../src/WindowManager.vala"
	iface->set_window_group = gala_window_manager_gala_real_set_window_group;
#line 19 "../src/WindowManager.vala"
	iface->get_top_window_group = gala_window_manager_gala_real_get_top_window_group;
#line 19 "../src/WindowManager.vala"
	iface->set_top_window_group = gala_window_manager_gala_real_set_top_window_group;
#line 19 "../src/WindowManager.vala"
	iface->get_background_group = gala_window_manager_gala_real_get_background_group;
#line 19 "../src/WindowManager.vala"
	iface->set_background_group = gala_window_manager_gala_real_set_background_group;
#line 19 "../src/WindowManager.vala"
	iface->get_workspace_view = gala_window_manager_gala_real_get_workspace_view;
#line 19 "../src/WindowManager.vala"
	iface->set_workspace_view = gala_window_manager_gala_real_set_workspace_view;
#line 19 "../src/WindowManager.vala"
	iface->get_enable_animations = gala_window_manager_gala_real_get_enable_animations;
#line 19 "../src/WindowManager.vala"
	iface->set_enable_animations = gala_window_manager_gala_real_set_enable_animations;
#line 15324 "WindowManager.c"
}

static void
gala_window_manager_gala_instance_init (GalaWindowManagerGala * self,
                                        gpointer klass)
{
	GeeLinkedList* _tmp0_;
	GeeHashSet* _tmp1_;
	GeeHashSet* _tmp2_;
	GeeHashSet* _tmp3_;
	GeeHashSet* _tmp4_;
	GeeHashSet* _tmp5_;
	GeeHashSet* _tmp6_;
	GHashFunc _tmp7_;
	GEqualFunc _tmp8_;
	GHashTable* _tmp9_;
#line 19 "../src/WindowManager.vala"
	self->priv = gala_window_manager_gala_get_instance_private (self);
#line 65 "../src/WindowManager.vala"
	self->priv->window_switcher = NULL;
#line 71 "../src/WindowManager.vala"
	self->priv->hot_corner_manager = NULL;
#line 78 "../src/WindowManager.vala"
	self->priv->zoom = NULL;
#line 90 "../src/WindowManager.vala"
	_tmp0_ = gee_linked_list_new (GALA_TYPE_MODAL_PROXY, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 90 "../src/WindowManager.vala"
	self->priv->modal_stack = _tmp0_;
#line 92 "../src/WindowManager.vala"
	_tmp1_ = gee_hash_set_new (meta_window_actor_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 92 "../src/WindowManager.vala"
	self->priv->minimizing = _tmp1_;
#line 93 "../src/WindowManager.vala"
	_tmp2_ = gee_hash_set_new (meta_window_actor_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 93 "../src/WindowManager.vala"
	self->priv->maximizing = _tmp2_;
#line 94 "../src/WindowManager.vala"
	_tmp3_ = gee_hash_set_new (meta_window_actor_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 94 "../src/WindowManager.vala"
	self->priv->unmaximizing = _tmp3_;
#line 95 "../src/WindowManager.vala"
	_tmp4_ = gee_hash_set_new (meta_window_actor_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 95 "../src/WindowManager.vala"
	self->priv->mapping = _tmp4_;
#line 96 "../src/WindowManager.vala"
	_tmp5_ = gee_hash_set_new (meta_window_actor_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 96 "../src/WindowManager.vala"
	self->priv->destroying = _tmp5_;
#line 97 "../src/WindowManager.vala"
	_tmp6_ = gee_hash_set_new (meta_window_actor_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 97 "../src/WindowManager.vala"
	self->priv->unminimizing = _tmp6_;
#line 98 "../src/WindowManager.vala"
	_tmp7_ = g_direct_hash;
#line 98 "../src/WindowManager.vala"
	_tmp8_ = g_direct_equal;
#line 98 "../src/WindowManager.vala"
	_tmp9_ = g_hash_table_new_full (_tmp7_, _tmp8_, _g_object_unref0_, NULL);
#line 98 "../src/WindowManager.vala"
	self->priv->ws_assoc = _tmp9_;
#line 99 "../src/WindowManager.vala"
	self->priv->which_change = NULL;
#line 112 "../src/WindowManager.vala"
	self->priv->animating_switch_workspace = FALSE;
#line 113 "../src/WindowManager.vala"
	self->priv->switch_workspace_with_gesture = FALSE;
#line 1893 "../src/WindowManager.vala"
	self->priv->switch_workspace_window_created_id = (gulong) 0;
#line 15393 "WindowManager.c"
}

static void
gala_window_manager_gala_finalize (GObject * obj)
{
	GalaWindowManagerGala * self;
#line 19 "../src/WindowManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGala);
#line 23 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_ui_group);
#line 28 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_stage);
#line 33 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_window_group);
#line 38 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_top_window_group);
#line 40 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_notification_group);
#line 45 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_background_group);
#line 50 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_workspace_view);
#line 57 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_screen_shield);
#line 59 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_pointer_locator);
#line 61 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->system_background);
#line 65 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->window_switcher);
#line 67 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_window_overview);
#line 69 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_screensaver);
#line 71 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->hot_corner_manager);
#line 73 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->_window_tracker);
#line 78 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->zoom);
#line 80 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->tile_preview);
#line 82 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->moving);
#line 84 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->daemon_manager);
#line 86 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->window_grab_tracker);
#line 88 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->notification_stack);
#line 90 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->modal_stack);
#line 92 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->minimizing);
#line 93 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->maximizing);
#line 94 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->unmaximizing);
#line 95 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->mapping);
#line 96 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->destroying);
#line 97 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->unminimizing);
#line 98 "../src/WindowManager.vala"
	_g_hash_table_unref0 (self->priv->ws_assoc);
#line 99 "../src/WindowManager.vala"
	_g_free0 (self->priv->which_change);
#line 105 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->latest_window_snapshot);
#line 107 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->animations_settings);
#line 108 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->behavior_settings);
#line 109 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->new_behavior_settings);
#line 111 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->gesture_tracker);
#line 1890 "../src/WindowManager.vala"
	(self->priv->windows == NULL) ? NULL : (self->priv->windows = (_g_list_free__g_object_unref0_ (self->priv->windows), NULL));
#line 1891 "../src/WindowManager.vala"
	(self->priv->parents == NULL) ? NULL : (self->priv->parents = (_g_list_free__g_object_unref0_ (self->priv->parents), NULL));
#line 1892 "../src/WindowManager.vala"
	(self->priv->tmp_actors == NULL) ? NULL : (self->priv->tmp_actors = (_g_list_free__g_object_unref0_ (self->priv->tmp_actors), NULL));
#line 1894 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->out_group);
#line 1895 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->in_group);
#line 1896 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->wallpaper);
#line 1897 "../src/WindowManager.vala"
	_g_object_unref0 (self->priv->wallpaper_clone);
#line 19 "../src/WindowManager.vala"
	G_OBJECT_CLASS (gala_window_manager_gala_parent_class)->finalize (obj);
#line 15488 "WindowManager.c"
}

 G_GNUC_NO_INLINE static GType
gala_window_manager_gala_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaWindowManagerGalaClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_window_manager_gala_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaWindowManagerGala), 0, (GInstanceInitFunc) gala_window_manager_gala_instance_init, NULL };
	static const GInterfaceInfo gala_window_manager_info = { (GInterfaceInitFunc) gala_window_manager_gala_gala_window_manager_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	GType gala_window_manager_gala_type_id;
	gala_window_manager_gala_type_id = g_type_register_static (meta_plugin_get_type (), "GalaWindowManagerGala", &g_define_type_info, 0);
	g_type_add_interface_static (gala_window_manager_gala_type_id, GALA_TYPE_WINDOW_MANAGER, &gala_window_manager_info);
	GalaWindowManagerGala_private_offset = g_type_add_instance_private (gala_window_manager_gala_type_id, sizeof (GalaWindowManagerGalaPrivate));
	return gala_window_manager_gala_type_id;
}

GType
gala_window_manager_gala_get_type (void)
{
	static gsize gala_window_manager_gala_type_id__once = 0;
	if (g_once_init_enter (&gala_window_manager_gala_type_id__once)) {
		GType gala_window_manager_gala_type_id;
		gala_window_manager_gala_type_id = gala_window_manager_gala_get_type_once ();
		g_once_init_leave (&gala_window_manager_gala_type_id__once, gala_window_manager_gala_type_id);
	}
	return gala_window_manager_gala_type_id__once;
}

static void
_vala_gala_window_manager_gala_get_property (GObject * object,
                                             guint property_id,
                                             GValue * value,
                                             GParamSpec * pspec)
{
	GalaWindowManagerGala * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGala);
#line 19 "../src/WindowManager.vala"
	switch (property_id) {
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_UI_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_get_ui_group ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_STAGE_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_get_stage ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WINDOW_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_get_window_group ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_TOP_WINDOW_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_get_top_window_group ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_NOTIFICATION_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_gala_get_notification_group (self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_BACKGROUND_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_get_background_group ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WORKSPACE_VIEW_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_get_workspace_view ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_ENABLE_ANIMATIONS_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_boolean (value, gala_window_manager_get_enable_animations ((GalaWindowManager*) self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_SCREEN_SHIELD_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_gala_get_screen_shield (self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_POINTER_LOCATOR_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_gala_get_pointer_locator (self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WINDOW_OVERVIEW_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_gala_get_window_overview (self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_SCREENSAVER_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_gala_get_screensaver (self));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WINDOW_TRACKER_PROPERTY:
#line 19 "../src/WindowManager.vala"
		g_value_set_object (value, gala_window_manager_gala_get_window_tracker (self));
#line 19 "../src/WindowManager.vala"
		break;
#line 15603 "WindowManager.c"
		default:
#line 19 "../src/WindowManager.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 19 "../src/WindowManager.vala"
		break;
#line 15609 "WindowManager.c"
	}
}

static void
_vala_gala_window_manager_gala_set_property (GObject * object,
                                             guint property_id,
                                             const GValue * value,
                                             GParamSpec * pspec)
{
	GalaWindowManagerGala * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_WINDOW_MANAGER_GALA, GalaWindowManagerGala);
#line 19 "../src/WindowManager.vala"
	switch (property_id) {
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_UI_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_ui_group ((GalaWindowManager*) self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_STAGE_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_stage ((GalaWindowManager*) self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WINDOW_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_window_group ((GalaWindowManager*) self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_TOP_WINDOW_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_top_window_group ((GalaWindowManager*) self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_NOTIFICATION_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_gala_set_notification_group (self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_BACKGROUND_GROUP_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_background_group ((GalaWindowManager*) self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WORKSPACE_VIEW_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_workspace_view ((GalaWindowManager*) self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_ENABLE_ANIMATIONS_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_set_enable_animations ((GalaWindowManager*) self, g_value_get_boolean (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_SCREEN_SHIELD_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_gala_set_screen_shield (self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_POINTER_LOCATOR_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_gala_set_pointer_locator (self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WINDOW_OVERVIEW_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_gala_set_window_overview (self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_SCREENSAVER_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_gala_set_screensaver (self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 19 "../src/WindowManager.vala"
		case GALA_WINDOW_MANAGER_GALA_WINDOW_TRACKER_PROPERTY:
#line 19 "../src/WindowManager.vala"
		gala_window_manager_gala_set_window_tracker (self, g_value_get_object (value));
#line 19 "../src/WindowManager.vala"
		break;
#line 15701 "WindowManager.c"
		default:
#line 19 "../src/WindowManager.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 19 "../src/WindowManager.vala"
		break;
#line 15707 "WindowManager.c"
	}
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
#line 21 "../src/PluginManager.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 15718 "WindowManager.c"
		gssize i;
#line 21 "../src/PluginManager.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 21 "../src/PluginManager.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 21 "../src/PluginManager.vala"
				destroy_func (((gpointer*) array)[i]);
#line 15726 "WindowManager.c"
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
#line 21 "../src/PluginManager.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 21 "../src/PluginManager.vala"
	g_free (array);
#line 15741 "WindowManager.c"
}

