/* WorkspaceClone.c generated by valac 0.56.17, the Vala compiler
 * generated from WorkspaceClone.vala, do not modify */

/**/
/*  Copyright (C) 2014 Tom Beckmann*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <meta/meta-background-group.h>
#include "gala.h"
#include <glib-object.h>
#include <cogl/cogl.h>
#include <cairo-gobject.h>
#include <glib.h>
#include <clutter/clutter.h>
#include <meta/meta-plugin.h>
#include <meta/display.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <mtk/mtk.h>
#include <meta/workspace.h>
#include <meta/window.h>
#include <meta/meta-workspace-manager.h>

#define GALA_WORKSPACE_CLONE_BOTTOM_OFFSET 100
#define GALA_WORKSPACE_CLONE_TOP_OFFSET 20
#define GALA_WORKSPACE_CLONE_HOVER_ACTIVATE_DELAY 400
#define GALA_WORKSPACE_CLONE_X_OFFSET 150
#define GALA_WINDOW_MANAGER_GALA_WORKSPACE_GAP 24
#define GALA_MULTITASKING_VIEW_ANIMATION_DURATION 250
#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_BACKGROUND_MANAGER (gala_background_manager_get_type ())
#define GALA_BACKGROUND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManager))
#define GALA_BACKGROUND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManagerClass))
#define GALA_IS_BACKGROUND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BACKGROUND_MANAGER))
#define GALA_IS_BACKGROUND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BACKGROUND_MANAGER))
#define GALA_BACKGROUND_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManagerClass))

typedef struct _GalaBackgroundManager GalaBackgroundManager;
typedef struct _GalaBackgroundManagerClass GalaBackgroundManagerClass;
typedef struct _GalaBackgroundManagerPrivate GalaBackgroundManagerPrivate;

#define GALA_TYPE_FRAMED_BACKGROUND (gala_framed_background_get_type ())
#define GALA_FRAMED_BACKGROUND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_FRAMED_BACKGROUND, GalaFramedBackground))
#define GALA_FRAMED_BACKGROUND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_FRAMED_BACKGROUND, GalaFramedBackgroundClass))
#define GALA_IS_FRAMED_BACKGROUND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_FRAMED_BACKGROUND))
#define GALA_IS_FRAMED_BACKGROUND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_FRAMED_BACKGROUND))
#define GALA_FRAMED_BACKGROUND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_FRAMED_BACKGROUND, GalaFramedBackgroundClass))

typedef struct _GalaFramedBackground GalaFramedBackground;
typedef struct _GalaFramedBackgroundClass GalaFramedBackgroundClass;
typedef struct _GalaFramedBackgroundPrivate GalaFramedBackgroundPrivate;
enum  {
	GALA_FRAMED_BACKGROUND_0_PROPERTY,
	GALA_FRAMED_BACKGROUND_NUM_PROPERTIES
};
static GParamSpec* gala_framed_background_properties[GALA_FRAMED_BACKGROUND_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _cairo_surface_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_surface_destroy (var), NULL)))
#define _cairo_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_destroy (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define GALA_TYPE_WORKSPACE_CLONE (gala_workspace_clone_get_type ())
#define GALA_WORKSPACE_CLONE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone))
#define GALA_WORKSPACE_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceCloneClass))
#define GALA_IS_WORKSPACE_CLONE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WORKSPACE_CLONE))
#define GALA_IS_WORKSPACE_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WORKSPACE_CLONE))
#define GALA_WORKSPACE_CLONE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceCloneClass))

typedef struct _GalaWorkspaceClone GalaWorkspaceClone;
typedef struct _GalaWorkspaceCloneClass GalaWorkspaceCloneClass;
typedef struct _GalaWorkspaceClonePrivate GalaWorkspaceClonePrivate;

#define GALA_TYPE_GESTURE_TRACKER (gala_gesture_tracker_get_type ())
#define GALA_GESTURE_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE_TRACKER, GalaGestureTracker))
#define GALA_GESTURE_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE_TRACKER, GalaGestureTrackerClass))
#define GALA_IS_GESTURE_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE_TRACKER))
#define GALA_IS_GESTURE_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE_TRACKER))
#define GALA_GESTURE_TRACKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE_TRACKER, GalaGestureTrackerClass))

typedef struct _GalaGestureTracker GalaGestureTracker;
typedef struct _GalaGestureTrackerClass GalaGestureTrackerClass;

#define GALA_TYPE_ICON_GROUP (gala_icon_group_get_type ())
#define GALA_ICON_GROUP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_ICON_GROUP, GalaIconGroup))
#define GALA_ICON_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_ICON_GROUP, GalaIconGroupClass))
#define GALA_IS_ICON_GROUP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_ICON_GROUP))
#define GALA_IS_ICON_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_ICON_GROUP))
#define GALA_ICON_GROUP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_ICON_GROUP, GalaIconGroupClass))

typedef struct _GalaIconGroup GalaIconGroup;
typedef struct _GalaIconGroupClass GalaIconGroupClass;

#define GALA_TYPE_WINDOW_CLONE_CONTAINER (gala_window_clone_container_get_type ())
#define GALA_WINDOW_CLONE_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_CLONE_CONTAINER, GalaWindowCloneContainer))
#define GALA_WINDOW_CLONE_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_CLONE_CONTAINER, GalaWindowCloneContainerClass))
#define GALA_IS_WINDOW_CLONE_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_CLONE_CONTAINER))
#define GALA_IS_WINDOW_CLONE_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_CLONE_CONTAINER))
#define GALA_WINDOW_CLONE_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_CLONE_CONTAINER, GalaWindowCloneContainerClass))

typedef struct _GalaWindowCloneContainer GalaWindowCloneContainer;
typedef struct _GalaWindowCloneContainerClass GalaWindowCloneContainerClass;
enum  {
	GALA_WORKSPACE_CLONE_0_PROPERTY,
	GALA_WORKSPACE_CLONE_WM_PROPERTY,
	GALA_WORKSPACE_CLONE_WORKSPACE_PROPERTY,
	GALA_WORKSPACE_CLONE_GESTURE_TRACKER_PROPERTY,
	GALA_WORKSPACE_CLONE_ICON_GROUP_PROPERTY,
	GALA_WORKSPACE_CLONE_WINDOW_CONTAINER_PROPERTY,
	GALA_WORKSPACE_CLONE_SCALE_FACTOR_PROPERTY,
	GALA_WORKSPACE_CLONE_NUM_PROPERTIES
};
static GParamSpec* gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_NUM_PROPERTIES];

#define GALA_TYPE_WINDOW_LISTENER (gala_window_listener_get_type ())
#define GALA_WINDOW_LISTENER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_LISTENER, GalaWindowListener))
#define GALA_WINDOW_LISTENER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_LISTENER, GalaWindowListenerClass))
#define GALA_IS_WINDOW_LISTENER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_LISTENER))
#define GALA_IS_WINDOW_LISTENER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_LISTENER))
#define GALA_WINDOW_LISTENER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_LISTENER, GalaWindowListenerClass))

typedef struct _GalaWindowListener GalaWindowListener;
typedef struct _GalaWindowListenerClass GalaWindowListenerClass;

#define GALA_TYPE_WINDOW_CLONE (gala_window_clone_get_type ())
#define GALA_WINDOW_CLONE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_CLONE, GalaWindowClone))
#define GALA_WINDOW_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_CLONE, GalaWindowCloneClass))
#define GALA_IS_WINDOW_CLONE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_CLONE))
#define GALA_IS_WINDOW_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_CLONE))
#define GALA_WINDOW_CLONE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_CLONE, GalaWindowCloneClass))

typedef struct _GalaWindowClone GalaWindowClone;
typedef struct _GalaWindowCloneClass GalaWindowCloneClass;
typedef struct _Block75Data Block75Data;
typedef void (*GalaGestureTrackerOnBegin) (gdouble percentage, gpointer user_data);
typedef void (*GalaGestureTrackerOnUpdate) (gdouble percentage, gpointer user_data);
typedef void (*GalaGestureTrackerOnEnd) (gdouble percentage, gboolean cancel_action, gint calculated_duration, gpointer user_data);
typedef struct _Block76Data Block76Data;
enum  {
	GALA_WORKSPACE_CLONE_WINDOW_SELECTED_SIGNAL,
	GALA_WORKSPACE_CLONE_SELECTED_SIGNAL,
	GALA_WORKSPACE_CLONE_NUM_SIGNALS
};
static guint gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_NUM_SIGNALS] = {0};

struct _GalaBackgroundManager {
	MetaBackgroundGroup parent_instance;
	GalaBackgroundManagerPrivate * priv;
};

struct _GalaBackgroundManagerClass {
	MetaBackgroundGroupClass parent_class;
};

struct _GalaFramedBackground {
	GalaBackgroundManager parent_instance;
	GalaFramedBackgroundPrivate * priv;
};

struct _GalaFramedBackgroundClass {
	GalaBackgroundManagerClass parent_class;
};

struct _GalaFramedBackgroundPrivate {
	CoglPipeline* pipeline;
	cairo_surface_t* cached_surface;
	cairo_t* cached_context;
	CoglTexture2D* cached_texture;
	gint last_width;
	gint last_height;
};

struct _GalaWorkspaceClone {
	ClutterActor parent_instance;
	GalaWorkspaceClonePrivate * priv;
};

struct _GalaWorkspaceCloneClass {
	ClutterActorClass parent_class;
};

struct _GalaWorkspaceClonePrivate {
	GalaWindowManager* _wm;
	MetaWorkspace* _workspace;
	GalaGestureTracker* _gesture_tracker;
	GalaIconGroup* _icon_group;
	GalaWindowCloneContainer* _window_container;
	gfloat _scale_factor;
	GalaBackgroundManager* background;
	gboolean opened;
	guint hover_activate_timeout;
};

struct _Block75Data {
	int _ref_count_;
	GalaWorkspaceClone* self;
	gfloat initial_x;
	gfloat target_x;
	gfloat scale;
	gfloat pivot_y;
};

struct _Block76Data {
	int _ref_count_;
	GalaWorkspaceClone* self;
	gfloat initial_x;
	gfloat target_x;
	gdouble initial_scale_x;
	gdouble initial_scale_y;
};

static gint GalaFramedBackground_private_offset;
static gpointer gala_framed_background_parent_class = NULL;
static gint GalaWorkspaceClone_private_offset;
static gpointer gala_workspace_clone_parent_class = NULL;

VALA_EXTERN GType gala_background_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBackgroundManager, g_object_unref)
 G_GNUC_INTERNAL GType gala_framed_background_get_type (void) G_GNUC_CONST  G_GNUC_UNUSED ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaFramedBackground, g_object_unref)
 G_GNUC_INTERNAL GalaFramedBackground* gala_framed_background_new (GalaWindowManager* wm);
 G_GNUC_INTERNAL GalaFramedBackground* gala_framed_background_construct (GType object_type,
                                                        GalaWindowManager* wm);
static void gala_framed_background_real_paint (ClutterActor* base,
                                        ClutterPaintContext* context);
static GObject * gala_framed_background_constructor (GType type,
                                              guint n_construct_properties,
                                              GObjectConstructParam * construct_properties);
VALA_EXTERN GalaWindowManager* gala_background_manager_get_wm (GalaBackgroundManager* self);
static void gala_framed_background_finalize (GObject * obj);
static GType gala_framed_background_get_type_once (void);
VALA_EXTERN GType gala_workspace_clone_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWorkspaceClone, g_object_unref)
VALA_EXTERN GType gala_gesture_tracker_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGestureTracker, g_object_unref)
VALA_EXTERN GType gala_icon_group_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaIconGroup, g_object_unref)
VALA_EXTERN GType gala_window_clone_container_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowCloneContainer, g_object_unref)
VALA_EXTERN MetaWorkspace* gala_workspace_clone_get_workspace (GalaWorkspaceClone* self);
static void gala_workspace_clone_window_entered_monitor (GalaWorkspaceClone* self,
                                                  MetaDisplay* display,
                                                  gint monitor,
                                                  MetaWindow* window);
static void _gala_workspace_clone_window_entered_monitor_meta_display_window_entered_monitor (MetaDisplay* _sender,
                                                                                       gint object,
                                                                                       MetaWindow* p0,
                                                                                       gpointer self);
static void gala_workspace_clone_window_left_monitor (GalaWorkspaceClone* self,
                                               MetaDisplay* display,
                                               gint monitor,
                                               MetaWindow* window);
static void _gala_workspace_clone_window_left_monitor_meta_display_window_left_monitor (MetaDisplay* _sender,
                                                                                 gint object,
                                                                                 MetaWindow* p0,
                                                                                 gpointer self);
static void gala_workspace_clone_add_window (GalaWorkspaceClone* self,
                                      MetaWindow* window);
static void _gala_workspace_clone_add_window_meta_workspace_window_added (MetaWorkspace* _sender,
                                                                   MetaWindow* object,
                                                                   gpointer self);
static void gala_workspace_clone_remove_window (GalaWorkspaceClone* self,
                                         MetaWindow* window);
static void _gala_workspace_clone_remove_window_meta_workspace_window_removed (MetaWorkspace* _sender,
                                                                        MetaWindow* object,
                                                                        gpointer self);
VALA_EXTERN GType gala_window_listener_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowListener, g_object_unref)
VALA_EXTERN GalaWindowListener* gala_window_listener_get_default (void);
static void _gala_workspace_clone_add_window_gala_window_listener_window_no_longer_on_all_workspaces (GalaWindowListener* _sender,
                                                                                               MetaWindow* window,
                                                                                               gpointer self);
VALA_EXTERN GalaWindowCloneContainer* gala_workspace_clone_get_window_container (GalaWorkspaceClone* self);
VALA_EXTERN GalaIconGroup* gala_workspace_clone_get_icon_group (GalaWorkspaceClone* self);
VALA_EXTERN GalaWorkspaceClone* gala_workspace_clone_new (GalaWindowManager* wm,
                                              MetaWorkspace* workspace,
                                              GalaGestureTracker* gesture_tracker,
                                              gfloat scale);
VALA_EXTERN GalaWorkspaceClone* gala_workspace_clone_construct (GType object_type,
                                                    GalaWindowManager* wm,
                                                    MetaWorkspace* workspace,
                                                    GalaGestureTracker* gesture_tracker,
                                                    gfloat scale);
static void gala_workspace_clone_reallocate (GalaWorkspaceClone* self);
VALA_EXTERN gfloat gala_workspace_clone_get_scale_factor (GalaWorkspaceClone* self);
VALA_EXTERN void gala_icon_group_set_scale_factor (GalaIconGroup* self,
                                       gfloat value);
VALA_EXTERN void gala_window_clone_container_set_monitor_scale (GalaWindowCloneContainer* self,
                                                    gfloat value);
VALA_EXTERN GType gala_window_clone_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowClone, g_object_unref)
VALA_EXTERN MetaWindow* gala_window_clone_get_window (GalaWindowClone* self);
VALA_EXTERN void gala_window_clone_container_add_window (GalaWindowCloneContainer* self,
                                             MetaWindow* window);
VALA_EXTERN void gala_icon_group_add_window (GalaIconGroup* self,
                                 MetaWindow* window,
                                 gboolean no_redraw,
                                 gboolean temporary);
VALA_EXTERN void gala_window_clone_container_remove_window (GalaWindowCloneContainer* self,
                                                MetaWindow* window);
VALA_EXTERN void gala_icon_group_remove_window (GalaIconGroup* self,
                                    MetaWindow* window,
                                    gboolean animate);
VALA_EXTERN void gala_workspace_clone_update_size (GalaWorkspaceClone* self,
                                       MtkRectangle* monitor_geometry);
VALA_EXTERN void gala_background_manager_set_size (GalaBackgroundManager* self,
                                       gfloat width,
                                       gfloat height);
VALA_EXTERN gfloat gala_workspace_clone_multitasking_view_x (GalaWorkspaceClone* self);
VALA_EXTERN gint gala_internal_utils_scale_to_int (gint value,
                                       gfloat scale_factor);
static gfloat gala_workspace_clone_current_x_overlap (GalaWorkspaceClone* self);
static inline void gala_workspace_clone_shrink_rectangle (MtkRectangle* rect,
                                            gint amount);
VALA_EXTERN void gala_workspace_clone_open (GalaWorkspaceClone* self,
                                gboolean with_gesture,
                                gboolean is_cancel_animation);
static Block75Data* block75_data_ref (Block75Data* _data75_);
static void block75_data_unref (void * _userdata_);
VALA_EXTERN void gala_window_clone_container_restack_windows (GalaWindowCloneContainer* self);
static void __lambda53_ (Block75Data* _data75_);
static void ___lambda53__gala_gesture_tracker_on_begin (gdouble percentage,
                                                 gpointer self);
static void __lambda54_ (Block75Data* _data75_,
                  gdouble percentage);
VALA_EXTERN gfloat gala_gesture_tracker_animation_value (gfloat initial_value,
                                             gfloat target_value,
                                             gdouble percentage,
                                             gboolean rounded);
static void ___lambda54__gala_gesture_tracker_on_update (gdouble percentage,
                                                  gpointer self);
static void __lambda55_ (Block75Data* _data75_,
                  gdouble percentage,
                  gboolean cancel_action);
VALA_EXTERN GalaWindowManager* gala_workspace_clone_get_wm (GalaWorkspaceClone* self);
static void ___lambda55__gala_gesture_tracker_on_end (gdouble percentage,
                                               gboolean cancel_action,
                                               gint calculated_duration,
                                               gpointer self);
VALA_EXTERN GalaGestureTracker* gala_workspace_clone_get_gesture_tracker (GalaWorkspaceClone* self);
VALA_EXTERN void gala_gesture_tracker_connect_handlers (GalaGestureTracker* self,
                                            GalaGestureTrackerOnBegin on_begin_handler,
                                            gpointer on_begin_handler_target,
                                            GDestroyNotify on_begin_handler_target_destroy_notify,
                                            GalaGestureTrackerOnUpdate on_update_handler,
                                            gpointer on_update_handler_target,
                                            GDestroyNotify on_update_handler_target_destroy_notify,
                                            GalaGestureTrackerOnEnd on_end_handler,
                                            gpointer on_end_handler_target,
                                            GDestroyNotify on_end_handler_target_destroy_notify);
VALA_EXTERN void gala_window_clone_container_set_padding_top (GalaWindowCloneContainer* self,
                                                  gint value);
VALA_EXTERN void gala_window_clone_container_set_padding_right (GalaWindowCloneContainer* self,
                                                    gint value);
VALA_EXTERN void gala_window_clone_container_set_padding_left (GalaWindowCloneContainer* self,
                                                   gint value);
VALA_EXTERN void gala_window_clone_container_set_padding_bottom (GalaWindowCloneContainer* self,
                                                     gint value);
VALA_EXTERN void gala_icon_group_redraw (GalaIconGroup* self);
VALA_EXTERN void gala_window_clone_container_open (GalaWindowCloneContainer* self,
                                       MetaWindow* selected_window,
                                       gboolean with_gesture,
                                       gboolean is_cancel_animation);
VALA_EXTERN void gala_workspace_clone_close (GalaWorkspaceClone* self,
                                 gboolean with_gesture,
                                 gboolean is_cancel_animation);
static Block76Data* block76_data_ref (Block76Data* _data76_);
static void block76_data_unref (void * _userdata_);
static void __lambda56_ (Block76Data* _data76_,
                  gdouble percentage);
static void ___lambda56__gala_gesture_tracker_on_update (gdouble percentage,
                                                  gpointer self);
static void __lambda57_ (Block76Data* _data76_,
                  gdouble percentage,
                  gboolean cancel_action);
static void ___lambda57__gala_gesture_tracker_on_end (gdouble percentage,
                                               gboolean cancel_action,
                                               gint calculated_duration,
                                               gpointer self);
VALA_EXTERN void gala_window_clone_container_close (GalaWindowCloneContainer* self,
                                        gboolean with_gesture,
                                        gboolean is_cancel_animation);
static void gala_workspace_clone_set_wm (GalaWorkspaceClone* self,
                                  GalaWindowManager* value);
static void gala_workspace_clone_set_workspace (GalaWorkspaceClone* self,
                                         MetaWorkspace* value);
static void gala_workspace_clone_set_gesture_tracker (GalaWorkspaceClone* self,
                                               GalaGestureTracker* value);
static void gala_workspace_clone_set_icon_group (GalaWorkspaceClone* self,
                                          GalaIconGroup* value);
static void gala_workspace_clone_set_window_container (GalaWorkspaceClone* self,
                                                GalaWindowCloneContainer* value);
VALA_EXTERN void gala_workspace_clone_set_scale_factor (GalaWorkspaceClone* self,
                                            gfloat value);
static GObject * gala_workspace_clone_constructor (GType type,
                                            guint n_construct_properties,
                                            GObjectConstructParam * construct_properties);
static void _gala_workspace_clone___lambda58_ (GalaWorkspaceClone* self);
static void __gala_workspace_clone___lambda58__clutter_click_action_clicked (ClutterClickAction* _sender,
                                                                      ClutterActor* actor,
                                                                      gpointer self);
VALA_EXTERN GalaWindowCloneContainer* gala_window_clone_container_new (GalaWindowManager* wm,
                                                           GalaGestureTracker* gesture_tracker,
                                                           gfloat scale,
                                                           gboolean overview_mode);
VALA_EXTERN GalaWindowCloneContainer* gala_window_clone_container_construct (GType object_type,
                                                                 GalaWindowManager* wm,
                                                                 GalaGestureTracker* gesture_tracker,
                                                                 gfloat scale,
                                                                 gboolean overview_mode);
static void _gala_workspace_clone___lambda59_ (GalaWorkspaceClone* self,
                                        MetaWindow* w);
static void __gala_workspace_clone___lambda59__gala_window_clone_container_window_selected (GalaWindowCloneContainer* _sender,
                                                                                     MetaWindow* window,
                                                                                     gpointer self);
static void _gala_workspace_clone___lambda60_ (GalaWorkspaceClone* self);
static void __gala_workspace_clone___lambda60__gala_window_clone_container_requested_close (GalaWindowCloneContainer* _sender,
                                                                                     gpointer self);
VALA_EXTERN GalaIconGroup* gala_icon_group_new (GalaWindowManager* wm,
                                    MetaWorkspace* workspace,
                                    gfloat scale);
VALA_EXTERN GalaIconGroup* gala_icon_group_construct (GType object_type,
                                          GalaWindowManager* wm,
                                          MetaWorkspace* workspace,
                                          gfloat scale);
static void _gala_workspace_clone___lambda61_ (GalaWorkspaceClone* self);
static void __gala_workspace_clone___lambda61__gala_icon_group_selected (GalaIconGroup* _sender,
                                                                  gpointer self);
static void _gala_workspace_clone___lambda62_ (GalaWorkspaceClone* self,
                                        ClutterActor* target,
                                        gboolean hovered);
static gboolean ___lambda63_ (GalaWorkspaceClone* self);
static gboolean ____lambda63__gsource_func (gpointer self);
static void __gala_workspace_clone___lambda62__gala_drag_drop_action_crossed (GalaDragDropAction* _sender,
                                                                       ClutterActor* target,
                                                                       gboolean hovered,
                                                                       gpointer self);
static void gala_workspace_clone_finalize (GObject * obj);
static GType gala_workspace_clone_get_type_once (void);
static void _vala_gala_workspace_clone_get_property (GObject * object,
                                              guint property_id,
                                              GValue * value,
                                              GParamSpec * pspec);
static void _vala_gala_workspace_clone_set_property (GObject * object,
                                              guint property_id,
                                              const GValue * value,
                                              GParamSpec * pspec);

static inline gpointer
gala_framed_background_get_instance_private (GalaFramedBackground* self)
{
	return G_STRUCT_MEMBER_P (self, GalaFramedBackground_private_offset);
}

 G_GNUC_INTERNAL GalaFramedBackground*
gala_framed_background_construct (GType object_type,
                                  GalaWindowManager* wm)
{
	GalaFramedBackground * self = NULL;
	MetaDisplay* _tmp0_;
#line 30 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (wm != NULL, NULL);
#line 31 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = meta_plugin_get_display ((MetaPlugin*) wm);
#line 31 "../src/Widgets/WorkspaceClone.vala"
	self = (GalaFramedBackground*) g_object_new (object_type, "wm", wm, "monitor-index", meta_display_get_primary_monitor (_tmp0_), "control-position", FALSE, NULL);
#line 30 "../src/Widgets/WorkspaceClone.vala"
	return self;
#line 501 "WorkspaceClone.c"
}

 G_GNUC_INTERNAL GalaFramedBackground*
gala_framed_background_new (GalaWindowManager* wm)
{
#line 30 "../src/Widgets/WorkspaceClone.vala"
	return gala_framed_background_construct (GALA_TYPE_FRAMED_BACKGROUND, wm);
#line 509 "WorkspaceClone.c"
}

static gpointer
_cairo_surface_reference0 (gpointer self)
{
#line 61 "../src/Widgets/WorkspaceClone.vala"
	return self ? cairo_surface_reference (self) : NULL;
#line 517 "WorkspaceClone.c"
}

static gpointer
_cairo_reference0 (gpointer self)
{
#line 62 "../src/Widgets/WorkspaceClone.vala"
	return self ? cairo_reference (self) : NULL;
#line 525 "WorkspaceClone.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 81 "../src/Widgets/WorkspaceClone.vala"
	return self ? g_object_ref (self) : NULL;
#line 533 "WorkspaceClone.c"
}

static void
gala_framed_background_real_paint (ClutterActor* base,
                                   ClutterPaintContext* context)
{
	GalaFramedBackground * self;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	cairo_surface_t* _tmp2_;
	cairo_surface_t* surface = NULL;
	cairo_surface_t* _tmp18_;
	cairo_surface_t* _tmp19_;
	cairo_t* ctx = NULL;
	cairo_t* _tmp20_;
	cairo_t* _tmp21_;
	cairo_t* _tmp22_;
	cairo_t* _tmp23_;
	gfloat _tmp24_;
	gfloat _tmp25_;
	gfloat _tmp26_;
	gfloat _tmp27_;
	cairo_t* _tmp28_;
	cairo_t* _tmp29_;
	cairo_t* _tmp30_;
	cairo_t* _tmp31_;
	CoglColor color = {0};
	CoglPipeline* _tmp49_;
	CoglColor _tmp50_;
	CoglFramebuffer* fb = NULL;
	CoglFramebuffer* _tmp51_;
	CoglPipeline* _tmp52_;
	gfloat _tmp53_;
	gfloat _tmp54_;
	gfloat _tmp55_;
	gfloat _tmp56_;
	GError* _inner_error0_ = NULL;
#line 49 "../src/Widgets/WorkspaceClone.vala"
	self = (GalaFramedBackground*) base;
#line 49 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (context != NULL);
#line 50 "../src/Widgets/WorkspaceClone.vala"
	CLUTTER_ACTOR_CLASS (gala_framed_background_parent_class)->paint ((ClutterActor*) G_TYPE_CHECK_INSTANCE_CAST (self, GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManager), context);
#line 52 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = self->priv->cached_surface;
#line 52 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp2_ == NULL) {
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = TRUE;
#line 583 "WorkspaceClone.c"
	} else {
		gfloat _tmp3_;
		gfloat _tmp4_;
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp3_ = clutter_actor_get_width ((ClutterActor*) self);
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp4_ = _tmp3_;
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = self->priv->last_width != ((gint) _tmp4_);
#line 593 "WorkspaceClone.c"
	}
#line 52 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp1_) {
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = TRUE;
#line 599 "WorkspaceClone.c"
	} else {
		gfloat _tmp5_;
		gfloat _tmp6_;
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp5_ = clutter_actor_get_height ((ClutterActor*) self);
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = _tmp5_;
#line 52 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = self->priv->last_height != ((gint) _tmp6_);
#line 609 "WorkspaceClone.c"
	}
#line 52 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp0_) {
#line 613 "WorkspaceClone.c"
		gfloat _tmp7_;
		gfloat _tmp8_;
		gfloat _tmp9_;
		gfloat _tmp10_;
		cairo_surface_t* _tmp11_;
		cairo_surface_t* _tmp12_;
		cairo_t* _tmp13_;
		gfloat _tmp14_;
		gfloat _tmp15_;
		gfloat _tmp16_;
		gfloat _tmp17_;
#line 53 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self->priv->cached_texture);
#line 53 "../src/Widgets/WorkspaceClone.vala"
		self->priv->cached_texture = NULL;
#line 55 "../src/Widgets/WorkspaceClone.vala"
		_tmp7_ = clutter_actor_get_width ((ClutterActor*) self);
#line 55 "../src/Widgets/WorkspaceClone.vala"
		_tmp8_ = _tmp7_;
#line 55 "../src/Widgets/WorkspaceClone.vala"
		_tmp9_ = clutter_actor_get_height ((ClutterActor*) self);
#line 55 "../src/Widgets/WorkspaceClone.vala"
		_tmp10_ = _tmp9_;
#line 55 "../src/Widgets/WorkspaceClone.vala"
		_tmp11_ = cairo_image_surface_create (CAIRO_FORMAT_ARGB32, (gint) _tmp8_, (gint) _tmp10_);
#line 55 "../src/Widgets/WorkspaceClone.vala"
		_cairo_surface_destroy0 (self->priv->cached_surface);
#line 55 "../src/Widgets/WorkspaceClone.vala"
		self->priv->cached_surface = _tmp11_;
#line 56 "../src/Widgets/WorkspaceClone.vala"
		_tmp12_ = self->priv->cached_surface;
#line 56 "../src/Widgets/WorkspaceClone.vala"
		_tmp13_ = cairo_create (_tmp12_);
#line 56 "../src/Widgets/WorkspaceClone.vala"
		_cairo_destroy0 (self->priv->cached_context);
#line 56 "../src/Widgets/WorkspaceClone.vala"
		self->priv->cached_context = _tmp13_;
#line 57 "../src/Widgets/WorkspaceClone.vala"
		_tmp14_ = clutter_actor_get_width ((ClutterActor*) self);
#line 57 "../src/Widgets/WorkspaceClone.vala"
		_tmp15_ = _tmp14_;
#line 57 "../src/Widgets/WorkspaceClone.vala"
		self->priv->last_width = (gint) _tmp15_;
#line 58 "../src/Widgets/WorkspaceClone.vala"
		_tmp16_ = clutter_actor_get_height ((ClutterActor*) self);
#line 58 "../src/Widgets/WorkspaceClone.vala"
		_tmp17_ = _tmp16_;
#line 58 "../src/Widgets/WorkspaceClone.vala"
		self->priv->last_height = (gint) _tmp17_;
#line 663 "WorkspaceClone.c"
	}
#line 61 "../src/Widgets/WorkspaceClone.vala"
	_tmp18_ = self->priv->cached_surface;
#line 61 "../src/Widgets/WorkspaceClone.vala"
	_tmp19_ = _cairo_surface_reference0 (_tmp18_);
#line 61 "../src/Widgets/WorkspaceClone.vala"
	surface = _tmp19_;
#line 62 "../src/Widgets/WorkspaceClone.vala"
	_tmp20_ = self->priv->cached_context;
#line 62 "../src/Widgets/WorkspaceClone.vala"
	_tmp21_ = _cairo_reference0 (_tmp20_);
#line 62 "../src/Widgets/WorkspaceClone.vala"
	ctx = _tmp21_;
#line 64 "../src/Widgets/WorkspaceClone.vala"
	_tmp22_ = ctx;
#line 64 "../src/Widgets/WorkspaceClone.vala"
	cairo_set_source_rgba (_tmp22_, (gdouble) 255, (gdouble) 255, (gdouble) 255, (gdouble) 255);
#line 65 "../src/Widgets/WorkspaceClone.vala"
	_tmp23_ = ctx;
#line 65 "../src/Widgets/WorkspaceClone.vala"
	_tmp24_ = clutter_actor_get_width ((ClutterActor*) self);
#line 65 "../src/Widgets/WorkspaceClone.vala"
	_tmp25_ = _tmp24_;
#line 65 "../src/Widgets/WorkspaceClone.vala"
	_tmp26_ = clutter_actor_get_height ((ClutterActor*) self);
#line 65 "../src/Widgets/WorkspaceClone.vala"
	_tmp27_ = _tmp26_;
#line 65 "../src/Widgets/WorkspaceClone.vala"
	gala_drawing_utilities_cairo_rounded_rectangle (_tmp23_, (gdouble) 0, (gdouble) 0, (gdouble) _tmp25_, (gdouble) _tmp27_, (gdouble) 9);
#line 66 "../src/Widgets/WorkspaceClone.vala"
	_tmp28_ = ctx;
#line 66 "../src/Widgets/WorkspaceClone.vala"
	cairo_set_operator (_tmp28_, CAIRO_OPERATOR_SOURCE);
#line 67 "../src/Widgets/WorkspaceClone.vala"
	_tmp29_ = ctx;
#line 67 "../src/Widgets/WorkspaceClone.vala"
	cairo_stroke (_tmp29_);
#line 68 "../src/Widgets/WorkspaceClone.vala"
	_tmp30_ = ctx;
#line 68 "../src/Widgets/WorkspaceClone.vala"
	cairo_restore (_tmp30_);
#line 69 "../src/Widgets/WorkspaceClone.vala"
	_tmp31_ = ctx;
#line 69 "../src/Widgets/WorkspaceClone.vala"
	cairo_paint (_tmp31_);
#line 709 "WorkspaceClone.c"
	{
		CoglTexture2D* _tmp32_;
#line 72 "../src/Widgets/WorkspaceClone.vala"
		_tmp32_ = self->priv->cached_texture;
#line 72 "../src/Widgets/WorkspaceClone.vala"
		if (_tmp32_ == NULL) {
#line 716 "WorkspaceClone.c"
			CoglTexture2D* texture = NULL;
			CoglFramebuffer* _tmp33_;
			CoglContext* _tmp34_;
			gfloat _tmp35_;
			gfloat _tmp36_;
			gfloat _tmp37_;
			gfloat _tmp38_;
			cairo_surface_t* _tmp39_;
			cairo_surface_t* _tmp40_;
			guchar* _tmp41_;
			CoglTexture2D* _tmp42_;
			CoglPipeline* _tmp43_;
			CoglTexture2D* _tmp44_;
			CoglTexture2D* _tmp45_;
			CoglTexture2D* _tmp46_;
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp33_ = clutter_paint_context_get_framebuffer (context);
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp34_ = cogl_framebuffer_get_context (_tmp33_);
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp35_ = clutter_actor_get_width ((ClutterActor*) self);
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp36_ = _tmp35_;
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp37_ = clutter_actor_get_height ((ClutterActor*) self);
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp38_ = _tmp37_;
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp39_ = surface;
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp40_ = surface;
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp41_ = cairo_image_surface_get_data (_tmp40_);
#line 73 "../src/Widgets/WorkspaceClone.vala"
			_tmp42_ = (CoglTexture2D*) cogl_texture_2d_new_from_data (_tmp34_, (gint) _tmp36_, (gint) _tmp38_, COGL_PIXEL_FORMAT_BGRA_8888_PRE, cairo_image_surface_get_stride (_tmp39_), _tmp41_, &_inner_error0_);
#line 73 "../src/Widgets/WorkspaceClone.vala"
			texture = _tmp42_;
#line 73 "../src/Widgets/WorkspaceClone.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 756 "WorkspaceClone.c"
				goto __catch0_g_error;
			}
#line 80 "../src/Widgets/WorkspaceClone.vala"
			_tmp43_ = self->priv->pipeline;
#line 80 "../src/Widgets/WorkspaceClone.vala"
			_tmp44_ = texture;
#line 80 "../src/Widgets/WorkspaceClone.vala"
			cogl_pipeline_set_layer_texture (_tmp43_, 0, (CoglTexture*) _tmp44_);
#line 81 "../src/Widgets/WorkspaceClone.vala"
			_tmp45_ = texture;
#line 81 "../src/Widgets/WorkspaceClone.vala"
			_tmp46_ = _g_object_ref0 (_tmp45_);
#line 81 "../src/Widgets/WorkspaceClone.vala"
			_g_object_unref0 (self->priv->cached_texture);
#line 81 "../src/Widgets/WorkspaceClone.vala"
			self->priv->cached_texture = _tmp46_;
#line 72 "../src/Widgets/WorkspaceClone.vala"
			_g_object_unref0 (texture);
#line 775 "WorkspaceClone.c"
		}
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp47_;
		const gchar* _tmp48_;
#line 71 "../src/Widgets/WorkspaceClone.vala"
		e = _inner_error0_;
#line 71 "../src/Widgets/WorkspaceClone.vala"
		_inner_error0_ = NULL;
#line 84 "../src/Widgets/WorkspaceClone.vala"
		_tmp47_ = e;
#line 84 "../src/Widgets/WorkspaceClone.vala"
		_tmp48_ = _tmp47_->message;
#line 84 "../src/Widgets/WorkspaceClone.vala"
		g_debug ("WorkspaceClone.vala:84: %s", _tmp48_);
#line 71 "../src/Widgets/WorkspaceClone.vala"
		_g_error_free0 (e);
#line 796 "WorkspaceClone.c"
	}
	__finally0:
#line 71 "../src/Widgets/WorkspaceClone.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 71 "../src/Widgets/WorkspaceClone.vala"
		_cairo_destroy0 (ctx);
#line 71 "../src/Widgets/WorkspaceClone.vala"
		_cairo_surface_destroy0 (surface);
#line 71 "../src/Widgets/WorkspaceClone.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 71 "../src/Widgets/WorkspaceClone.vala"
		g_clear_error (&_inner_error0_);
#line 71 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 811 "WorkspaceClone.c"
	}
#line 87 "../src/Widgets/WorkspaceClone.vala"
	cogl_color_init_from_4f (&color, 1.0f, 1.0f, 1.0f, 25.0f / 255.0f);
#line 88 "../src/Widgets/WorkspaceClone.vala"
	cogl_color_premultiply (&color);
#line 90 "../src/Widgets/WorkspaceClone.vala"
	_tmp49_ = self->priv->pipeline;
#line 90 "../src/Widgets/WorkspaceClone.vala"
	_tmp50_ = color;
#line 90 "../src/Widgets/WorkspaceClone.vala"
	cogl_pipeline_set_color (_tmp49_, &_tmp50_);
#line 92 "../src/Widgets/WorkspaceClone.vala"
	_tmp51_ = clutter_paint_context_get_framebuffer (context);
#line 92 "../src/Widgets/WorkspaceClone.vala"
	fb = _tmp51_;
#line 93 "../src/Widgets/WorkspaceClone.vala"
	_tmp52_ = self->priv->pipeline;
#line 93 "../src/Widgets/WorkspaceClone.vala"
	_tmp53_ = clutter_actor_get_width ((ClutterActor*) self);
#line 93 "../src/Widgets/WorkspaceClone.vala"
	_tmp54_ = _tmp53_;
#line 93 "../src/Widgets/WorkspaceClone.vala"
	_tmp55_ = clutter_actor_get_height ((ClutterActor*) self);
#line 93 "../src/Widgets/WorkspaceClone.vala"
	_tmp56_ = _tmp55_;
#line 93 "../src/Widgets/WorkspaceClone.vala"
	cogl_framebuffer_draw_rectangle (fb, _tmp52_, (gfloat) 0, (gfloat) 0, _tmp54_, _tmp56_);
#line 49 "../src/Widgets/WorkspaceClone.vala"
	_cairo_destroy0 (ctx);
#line 49 "../src/Widgets/WorkspaceClone.vala"
	_cairo_surface_destroy0 (surface);
#line 843 "WorkspaceClone.c"
}

static GObject *
gala_framed_background_constructor (GType type,
                                    guint n_construct_properties,
                                    GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GalaFramedBackground * self;
	ClutterBackend* _tmp0_;
	CoglContext* _tmp1_;
	CoglPipeline* _tmp2_;
	gint primary = 0;
	GalaWindowManager* _tmp3_;
	GalaWindowManager* _tmp4_;
	MetaDisplay* _tmp5_;
	MtkRectangle monitor_geom = {0};
	GalaWindowManager* _tmp6_;
	GalaWindowManager* _tmp7_;
	MetaDisplay* _tmp8_;
	MtkRectangle _tmp9_ = {0};
	GalaShadowEffect* effect = NULL;
	GalaShadowEffect* _tmp10_;
	GalaShadowEffect* _tmp11_;
#line 38 "../src/Widgets/WorkspaceClone.vala"
	parent_class = G_OBJECT_CLASS (gala_framed_background_parent_class);
#line 38 "../src/Widgets/WorkspaceClone.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 38 "../src/Widgets/WorkspaceClone.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_FRAMED_BACKGROUND, GalaFramedBackground);
#line 39 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = clutter_get_default_backend ();
#line 39 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = clutter_backend_get_cogl_context (_tmp0_);
#line 39 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = cogl_pipeline_new (_tmp1_);
#line 39 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->pipeline);
#line 39 "../src/Widgets/WorkspaceClone.vala"
	self->priv->pipeline = _tmp2_;
#line 40 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = gala_background_manager_get_wm ((GalaBackgroundManager*) self);
#line 40 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = _tmp3_;
#line 40 "../src/Widgets/WorkspaceClone.vala"
	_tmp5_ = meta_plugin_get_display ((MetaPlugin*) _tmp4_);
#line 40 "../src/Widgets/WorkspaceClone.vala"
	primary = meta_display_get_primary_monitor (_tmp5_);
#line 41 "../src/Widgets/WorkspaceClone.vala"
	_tmp6_ = gala_background_manager_get_wm ((GalaBackgroundManager*) self);
#line 41 "../src/Widgets/WorkspaceClone.vala"
	_tmp7_ = _tmp6_;
#line 41 "../src/Widgets/WorkspaceClone.vala"
	_tmp8_ = meta_plugin_get_display ((MetaPlugin*) _tmp7_);
#line 41 "../src/Widgets/WorkspaceClone.vala"
	meta_display_get_monitor_geometry (_tmp8_, primary, &_tmp9_);
#line 41 "../src/Widgets/WorkspaceClone.vala"
	monitor_geom = _tmp9_;
#line 43 "../src/Widgets/WorkspaceClone.vala"
	_tmp10_ = gala_shadow_effect_new ("workspace");
#line 43 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp10_);
#line 43 "../src/Widgets/WorkspaceClone.vala"
	effect = _tmp10_;
#line 44 "../src/Widgets/WorkspaceClone.vala"
	_tmp11_ = effect;
#line 44 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_add_effect ((ClutterActor*) self, (ClutterEffect*) _tmp11_);
#line 46 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_reactive ((ClutterActor*) self, TRUE);
#line 38 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (effect);
#line 38 "../src/Widgets/WorkspaceClone.vala"
	return obj;
#line 919 "WorkspaceClone.c"
}

static void
gala_framed_background_class_init (GalaFramedBackgroundClass * klass,
                                   gpointer klass_data)
{
#line 22 "../src/Widgets/WorkspaceClone.vala"
	gala_framed_background_parent_class = g_type_class_peek_parent (klass);
#line 22 "../src/Widgets/WorkspaceClone.vala"
	g_type_class_adjust_private_offset (klass, &GalaFramedBackground_private_offset);
#line 22 "../src/Widgets/WorkspaceClone.vala"
	((ClutterActorClass *) klass)->paint = (void (*) (ClutterActor*, ClutterPaintContext*)) gala_framed_background_real_paint;
#line 22 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_framed_background_constructor;
#line 22 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_framed_background_finalize;
#line 936 "WorkspaceClone.c"
}

static void
gala_framed_background_instance_init (GalaFramedBackground * self,
                                      gpointer klass)
{
#line 22 "../src/Widgets/WorkspaceClone.vala"
	self->priv = gala_framed_background_get_instance_private (self);
#line 945 "WorkspaceClone.c"
}

static void
gala_framed_background_finalize (GObject * obj)
{
	GalaFramedBackground * self;
#line 22 "../src/Widgets/WorkspaceClone.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_FRAMED_BACKGROUND, GalaFramedBackground);
#line 23 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->pipeline);
#line 24 "../src/Widgets/WorkspaceClone.vala"
	_cairo_surface_destroy0 (self->priv->cached_surface);
#line 25 "../src/Widgets/WorkspaceClone.vala"
	_cairo_destroy0 (self->priv->cached_context);
#line 26 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->cached_texture);
#line 22 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (gala_framed_background_parent_class)->finalize (obj);
#line 964 "WorkspaceClone.c"
}

/**
     * Utility class which adds a border and a shadow to a Background
     */
 G_GNUC_NO_INLINE static GType
gala_framed_background_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaFramedBackgroundClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_framed_background_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaFramedBackground), 0, (GInstanceInitFunc) gala_framed_background_instance_init, NULL };
	GType gala_framed_background_type_id;
	gala_framed_background_type_id = g_type_register_static (GALA_TYPE_BACKGROUND_MANAGER, "GalaFramedBackground", &g_define_type_info, 0);
	GalaFramedBackground_private_offset = g_type_add_instance_private (gala_framed_background_type_id, sizeof (GalaFramedBackgroundPrivate));
	return gala_framed_background_type_id;
}

 G_GNUC_INTERNAL GType
gala_framed_background_get_type (void)
{
	static gsize gala_framed_background_type_id__once = 0;
	if (g_once_init_enter (&gala_framed_background_type_id__once)) {
		GType gala_framed_background_type_id;
		gala_framed_background_type_id = gala_framed_background_get_type_once ();
		g_once_init_leave (&gala_framed_background_type_id__once, gala_framed_background_type_id);
	}
	return gala_framed_background_type_id__once;
}

static inline gpointer
gala_workspace_clone_get_instance_private (GalaWorkspaceClone* self)
{
	return G_STRUCT_MEMBER_P (self, GalaWorkspaceClone_private_offset);
}

static void
_gala_workspace_clone_window_entered_monitor_meta_display_window_entered_monitor (MetaDisplay* _sender,
                                                                                  gint object,
                                                                                  MetaWindow* p0,
                                                                                  gpointer self)
{
#line 240 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_window_entered_monitor ((GalaWorkspaceClone*) self, _sender, object, p0);
#line 1006 "WorkspaceClone.c"
}

static void
_gala_workspace_clone_window_left_monitor_meta_display_window_left_monitor (MetaDisplay* _sender,
                                                                            gint object,
                                                                            MetaWindow* p0,
                                                                            gpointer self)
{
#line 241 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_window_left_monitor ((GalaWorkspaceClone*) self, _sender, object, p0);
#line 1017 "WorkspaceClone.c"
}

static void
_gala_workspace_clone_add_window_meta_workspace_window_added (MetaWorkspace* _sender,
                                                              MetaWindow* object,
                                                              gpointer self)
{
#line 242 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_add_window ((GalaWorkspaceClone*) self, object);
#line 1027 "WorkspaceClone.c"
}

static void
_gala_workspace_clone_remove_window_meta_workspace_window_removed (MetaWorkspace* _sender,
                                                                   MetaWindow* object,
                                                                   gpointer self)
{
#line 243 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_remove_window ((GalaWorkspaceClone*) self, object);
#line 1037 "WorkspaceClone.c"
}

static void
_gala_workspace_clone_add_window_gala_window_listener_window_no_longer_on_all_workspaces (GalaWindowListener* _sender,
                                                                                          MetaWindow* window,
                                                                                          gpointer self)
{
#line 246 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_add_window ((GalaWorkspaceClone*) self, window);
#line 1047 "WorkspaceClone.c"
}

GalaWorkspaceClone*
gala_workspace_clone_construct (GType object_type,
                                GalaWindowManager* wm,
                                MetaWorkspace* workspace,
                                GalaGestureTracker* gesture_tracker,
                                gfloat scale)
{
	GalaWorkspaceClone * self = NULL;
#line 165 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (wm != NULL, NULL);
#line 165 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (workspace != NULL, NULL);
#line 165 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (gesture_tracker != NULL, NULL);
#line 166 "../src/Widgets/WorkspaceClone.vala"
	self = (GalaWorkspaceClone*) g_object_new (object_type, "wm", wm, "workspace", workspace, "gesture-tracker", gesture_tracker, "scale-factor", scale, NULL);
#line 165 "../src/Widgets/WorkspaceClone.vala"
	return self;
#line 1068 "WorkspaceClone.c"
}

GalaWorkspaceClone*
gala_workspace_clone_new (GalaWindowManager* wm,
                          MetaWorkspace* workspace,
                          GalaGestureTracker* gesture_tracker,
                          gfloat scale)
{
#line 165 "../src/Widgets/WorkspaceClone.vala"
	return gala_workspace_clone_construct (GALA_TYPE_WORKSPACE_CLONE, wm, workspace, gesture_tracker, scale);
#line 1079 "WorkspaceClone.c"
}

static void
gala_workspace_clone_reallocate (GalaWorkspaceClone* self)
{
	GalaIconGroup* _tmp0_;
	gfloat _tmp1_;
	gfloat _tmp2_;
	GalaWindowCloneContainer* _tmp3_;
	gfloat _tmp4_;
	gfloat _tmp5_;
#line 253 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 254 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_icon_group;
#line 254 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = gala_workspace_clone_get_scale_factor (self);
#line 254 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = _tmp1_;
#line 254 "../src/Widgets/WorkspaceClone.vala"
	gala_icon_group_set_scale_factor (_tmp0_, _tmp2_);
#line 255 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = self->priv->_window_container;
#line 255 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = gala_workspace_clone_get_scale_factor (self);
#line 255 "../src/Widgets/WorkspaceClone.vala"
	_tmp5_ = _tmp4_;
#line 255 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_set_monitor_scale (_tmp3_, _tmp5_);
#line 1109 "WorkspaceClone.c"
}

/**
         * Add a window to the WindowCloneContainer and the IconGroup if it really
         * belongs to this workspace and this monitor.
         */
static void
gala_workspace_clone_add_window (GalaWorkspaceClone* self,
                                 MetaWindow* window)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	MetaWindowType _tmp3_;
	MetaWindowType _tmp4_;
	GalaWindowCloneContainer* _tmp9_;
	GList* _tmp10_;
	GalaWindowCloneContainer* _tmp14_;
	GalaIconGroup* _tmp15_;
#line 262 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 262 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (window != NULL);
#line 263 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = meta_window_get_window_type (window);
#line 263 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = _tmp3_;
#line 263 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp4_ != META_WINDOW_NORMAL) {
#line 263 "../src/Widgets/WorkspaceClone.vala"
		_tmp2_ = TRUE;
#line 1141 "WorkspaceClone.c"
	} else {
		MetaWorkspace* _tmp5_;
		MetaWorkspace* _tmp6_;
#line 264 "../src/Widgets/WorkspaceClone.vala"
		_tmp5_ = meta_window_get_workspace (window);
#line 264 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = self->priv->_workspace;
#line 264 "../src/Widgets/WorkspaceClone.vala"
		_tmp2_ = _tmp5_ != _tmp6_;
#line 1151 "WorkspaceClone.c"
	}
#line 263 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp2_) {
#line 263 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = TRUE;
#line 1157 "WorkspaceClone.c"
	} else {
		gboolean _tmp7_;
		gboolean _tmp8_;
#line 265 "../src/Widgets/WorkspaceClone.vala"
		g_object_get (window, "on-all-workspaces", &_tmp7_, NULL);
#line 265 "../src/Widgets/WorkspaceClone.vala"
		_tmp8_ = _tmp7_;
#line 265 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = _tmp8_;
#line 1167 "WorkspaceClone.c"
	}
#line 263 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp1_) {
#line 263 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = TRUE;
#line 1173 "WorkspaceClone.c"
	} else {
#line 266 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = !meta_window_is_on_primary_monitor (window);
#line 1177 "WorkspaceClone.c"
	}
#line 263 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp0_) {
#line 267 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 1183 "WorkspaceClone.c"
	}
#line 269 "../src/Widgets/WorkspaceClone.vala"
	_tmp9_ = self->priv->_window_container;
#line 269 "../src/Widgets/WorkspaceClone.vala"
	_tmp10_ = clutter_actor_get_children ((ClutterActor*) _tmp9_);
#line 1189 "WorkspaceClone.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 269 "../src/Widgets/WorkspaceClone.vala"
		child_collection = _tmp10_;
#line 269 "../src/Widgets/WorkspaceClone.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 1197 "WorkspaceClone.c"
			ClutterActor* child = NULL;
#line 269 "../src/Widgets/WorkspaceClone.vala"
			child = (ClutterActor*) child_it->data;
#line 1201 "WorkspaceClone.c"
			{
				ClutterActor* _tmp11_;
				MetaWindow* _tmp12_;
				MetaWindow* _tmp13_;
#line 270 "../src/Widgets/WorkspaceClone.vala"
				_tmp11_ = child;
#line 270 "../src/Widgets/WorkspaceClone.vala"
				_tmp12_ = gala_window_clone_get_window (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, GALA_TYPE_WINDOW_CLONE, GalaWindowClone));
#line 270 "../src/Widgets/WorkspaceClone.vala"
				_tmp13_ = _tmp12_;
#line 270 "../src/Widgets/WorkspaceClone.vala"
				if (_tmp13_ == window) {
#line 271 "../src/Widgets/WorkspaceClone.vala"
					(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 271 "../src/Widgets/WorkspaceClone.vala"
					return;
#line 1218 "WorkspaceClone.c"
				}
			}
		}
#line 269 "../src/Widgets/WorkspaceClone.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 1224 "WorkspaceClone.c"
	}
#line 273 "../src/Widgets/WorkspaceClone.vala"
	_tmp14_ = self->priv->_window_container;
#line 273 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_add_window (_tmp14_, window);
#line 274 "../src/Widgets/WorkspaceClone.vala"
	_tmp15_ = self->priv->_icon_group;
#line 274 "../src/Widgets/WorkspaceClone.vala"
	gala_icon_group_add_window (_tmp15_, window, FALSE, FALSE);
#line 1234 "WorkspaceClone.c"
}

/**
         * Remove a window from the WindowCloneContainer and the IconGroup
         */
static void
gala_workspace_clone_remove_window (GalaWorkspaceClone* self,
                                    MetaWindow* window)
{
	GalaWindowCloneContainer* _tmp0_;
	GalaIconGroup* _tmp1_;
#line 280 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 280 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (window != NULL);
#line 281 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_window_container;
#line 281 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_remove_window (_tmp0_, window);
#line 282 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = self->priv->_icon_group;
#line 282 "../src/Widgets/WorkspaceClone.vala"
	gala_icon_group_remove_window (_tmp1_, window, self->priv->opened);
#line 1258 "WorkspaceClone.c"
}

static void
gala_workspace_clone_window_entered_monitor (GalaWorkspaceClone* self,
                                             MetaDisplay* display,
                                             gint monitor,
                                             MetaWindow* window)
{
#line 285 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 285 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (display != NULL);
#line 285 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (window != NULL);
#line 286 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_add_window (self, window);
#line 1275 "WorkspaceClone.c"
}

static void
gala_workspace_clone_window_left_monitor (GalaWorkspaceClone* self,
                                          MetaDisplay* display,
                                          gint monitor,
                                          MetaWindow* window)
{
#line 289 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 289 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (display != NULL);
#line 289 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (window != NULL);
#line 290 "../src/Widgets/WorkspaceClone.vala"
	if (monitor == meta_display_get_primary_monitor (display)) {
#line 291 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_remove_window (self, window);
#line 1294 "WorkspaceClone.c"
	}
}

void
gala_workspace_clone_update_size (GalaWorkspaceClone* self,
                                  MtkRectangle* monitor_geometry)
{
	gboolean _tmp0_ = FALSE;
	GalaWindowCloneContainer* _tmp1_;
	gfloat _tmp2_;
	gfloat _tmp3_;
	MtkRectangle _tmp4_;
#line 295 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 295 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (monitor_geometry != NULL);
#line 299 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = self->priv->_window_container;
#line 299 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = clutter_actor_get_width ((ClutterActor*) _tmp1_);
#line 299 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = _tmp2_;
#line 299 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = *monitor_geometry;
#line 299 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp3_ != ((gfloat) _tmp4_.width)) {
#line 299 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = TRUE;
#line 1323 "WorkspaceClone.c"
	} else {
		GalaWindowCloneContainer* _tmp5_;
		gfloat _tmp6_;
		gfloat _tmp7_;
		MtkRectangle _tmp8_;
#line 299 "../src/Widgets/WorkspaceClone.vala"
		_tmp5_ = self->priv->_window_container;
#line 299 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = clutter_actor_get_height ((ClutterActor*) _tmp5_);
#line 299 "../src/Widgets/WorkspaceClone.vala"
		_tmp7_ = _tmp6_;
#line 299 "../src/Widgets/WorkspaceClone.vala"
		_tmp8_ = *monitor_geometry;
#line 299 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = _tmp7_ != ((gfloat) _tmp8_.height);
#line 1339 "WorkspaceClone.c"
	}
#line 299 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp0_) {
#line 1343 "WorkspaceClone.c"
		GalaWindowCloneContainer* _tmp9_;
		MtkRectangle _tmp10_;
		MtkRectangle _tmp11_;
		GalaBackgroundManager* _tmp12_;
		GalaWindowCloneContainer* _tmp13_;
		gfloat _tmp14_;
		gfloat _tmp15_;
		GalaWindowCloneContainer* _tmp16_;
		gfloat _tmp17_;
		gfloat _tmp18_;
#line 300 "../src/Widgets/WorkspaceClone.vala"
		_tmp9_ = self->priv->_window_container;
#line 300 "../src/Widgets/WorkspaceClone.vala"
		_tmp10_ = *monitor_geometry;
#line 300 "../src/Widgets/WorkspaceClone.vala"
		_tmp11_ = *monitor_geometry;
#line 300 "../src/Widgets/WorkspaceClone.vala"
		clutter_actor_set_size ((ClutterActor*) _tmp9_, (gfloat) _tmp10_.width, (gfloat) _tmp11_.height);
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp12_ = self->priv->background;
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp13_ = self->priv->_window_container;
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp14_ = clutter_actor_get_width ((ClutterActor*) _tmp13_);
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp15_ = _tmp14_;
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp16_ = self->priv->_window_container;
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp17_ = clutter_actor_get_height ((ClutterActor*) _tmp16_);
#line 301 "../src/Widgets/WorkspaceClone.vala"
		_tmp18_ = _tmp17_;
#line 301 "../src/Widgets/WorkspaceClone.vala"
		gala_background_manager_set_size (_tmp12_, _tmp15_, _tmp18_);
#line 1378 "WorkspaceClone.c"
	}
}

/**
         * @return The position on the X axis of this workspace.
         */
gfloat
gala_workspace_clone_multitasking_view_x (GalaWorkspaceClone* self)
{
	MetaWorkspace* _tmp0_;
	gfloat _tmp1_;
	gfloat _tmp2_;
	gfloat _tmp3_;
	gfloat _tmp4_;
	gfloat result;
#line 308 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, 0.0F);
#line 309 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_workspace;
#line 309 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = clutter_actor_get_width ((ClutterActor*) self);
#line 309 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = _tmp1_;
#line 309 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = gala_workspace_clone_get_scale_factor (self);
#line 309 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = _tmp3_;
#line 309 "../src/Widgets/WorkspaceClone.vala"
	result = meta_workspace_index (_tmp0_) * (_tmp2_ - gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_X_OFFSET, _tmp4_));
#line 309 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 1410 "WorkspaceClone.c"
}

/**
         * @return The amount of pixels the workspace is overlapped in the X axis.
         */
static gfloat
gala_workspace_clone_current_x_overlap (GalaWorkspaceClone* self)
{
	MetaDisplay* display = NULL;
	MetaWorkspace* _tmp0_;
	MetaDisplay* _tmp1_;
	MetaDisplay* _tmp2_;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp3_;
	MetaWorkspaceManager* _tmp4_;
	gint active_index = 0;
	MetaWorkspaceManager* _tmp5_;
	MetaWorkspace* _tmp6_;
	MetaWorkspace* _tmp7_;
	gfloat result;
#line 315 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, 0.0F);
#line 316 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_workspace;
#line 316 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = meta_workspace_get_display (_tmp0_);
#line 316 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 316 "../src/Widgets/WorkspaceClone.vala"
	display = _tmp2_;
#line 317 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = display;
#line 317 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = meta_display_get_workspace_manager (_tmp3_);
#line 317 "../src/Widgets/WorkspaceClone.vala"
	manager = _tmp4_;
#line 318 "../src/Widgets/WorkspaceClone.vala"
	_tmp5_ = manager;
#line 318 "../src/Widgets/WorkspaceClone.vala"
	_tmp6_ = meta_workspace_manager_get_active_workspace (_tmp5_);
#line 318 "../src/Widgets/WorkspaceClone.vala"
	active_index = meta_workspace_index (_tmp6_);
#line 319 "../src/Widgets/WorkspaceClone.vala"
	_tmp7_ = self->priv->_workspace;
#line 319 "../src/Widgets/WorkspaceClone.vala"
	if (meta_workspace_index (_tmp7_) == active_index) {
#line 320 "../src/Widgets/WorkspaceClone.vala"
		result = (gfloat) 0;
#line 320 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (display);
#line 320 "../src/Widgets/WorkspaceClone.vala"
		return result;
#line 1463 "WorkspaceClone.c"
	} else {
		gint x_offset = 0;
		gfloat _tmp8_;
		gfloat _tmp9_;
		gint _tmp10_ = 0;
		MetaWorkspace* _tmp11_;
#line 322 "../src/Widgets/WorkspaceClone.vala"
		_tmp8_ = gala_workspace_clone_get_scale_factor (self);
#line 322 "../src/Widgets/WorkspaceClone.vala"
		_tmp9_ = _tmp8_;
#line 322 "../src/Widgets/WorkspaceClone.vala"
		x_offset = gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_X_OFFSET, _tmp9_) + GALA_WINDOW_MANAGER_GALA_WORKSPACE_GAP;
#line 323 "../src/Widgets/WorkspaceClone.vala"
		_tmp11_ = self->priv->_workspace;
#line 323 "../src/Widgets/WorkspaceClone.vala"
		if (meta_workspace_index (_tmp11_) < active_index) {
#line 323 "../src/Widgets/WorkspaceClone.vala"
			_tmp10_ = -x_offset;
#line 1482 "WorkspaceClone.c"
		} else {
#line 323 "../src/Widgets/WorkspaceClone.vala"
			_tmp10_ = x_offset;
#line 1486 "WorkspaceClone.c"
		}
#line 323 "../src/Widgets/WorkspaceClone.vala"
		result = (gfloat) _tmp10_;
#line 323 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (display);
#line 323 "../src/Widgets/WorkspaceClone.vala"
		return result;
#line 1494 "WorkspaceClone.c"
	}
}

/**
         * Utility function to shrink a MetaRectangle on all sides for the given amount.
         * Negative amounts will scale it instead.
         *
         * @param amount The amount in px to shrink.
         */
static inline void
gala_workspace_clone_shrink_rectangle (MtkRectangle* rect,
                                       gint amount)
{
#line 334 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (rect != NULL);
#line 338 "../src/Widgets/WorkspaceClone.vala"
	(*rect).x = (*rect).x + amount;
#line 339 "../src/Widgets/WorkspaceClone.vala"
	(*rect).y = (*rect).y + amount;
#line 340 "../src/Widgets/WorkspaceClone.vala"
	(*rect).width = (*rect).width - (amount * 2);
#line 341 "../src/Widgets/WorkspaceClone.vala"
	(*rect).height = (*rect).height - (amount * 2);
#line 1518 "WorkspaceClone.c"
}

/**
         * Animates the background to its scale, causes a redraw on the IconGroup and
         * makes sure the WindowCloneContainer animates its windows to their tiled layout.
         * Also sets the current_window of the WindowCloneContainer to the active window
         * if it belongs to this workspace.
         */
static Block75Data*
block75_data_ref (Block75Data* _data75_)
{
#line 350 "../src/Widgets/WorkspaceClone.vala"
	g_atomic_int_inc (&_data75_->_ref_count_);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	return _data75_;
#line 1534 "WorkspaceClone.c"
}

static void
block75_data_unref (void * _userdata_)
{
	Block75Data* _data75_;
	_data75_ = (Block75Data*) _userdata_;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	if (g_atomic_int_dec_and_test (&_data75_->_ref_count_)) {
#line 1544 "WorkspaceClone.c"
		GalaWorkspaceClone* self;
#line 350 "../src/Widgets/WorkspaceClone.vala"
		self = _data75_->self;
#line 350 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self);
#line 350 "../src/Widgets/WorkspaceClone.vala"
		g_slice_free (Block75Data, _data75_);
#line 1552 "WorkspaceClone.c"
	}
}

static void
__lambda53_ (Block75Data* _data75_)
{
	GalaWorkspaceClone* self;
	GalaBackgroundManager* _tmp0_;
#line 370 "../src/Widgets/WorkspaceClone.vala"
	self = _data75_->self;
#line 371 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_x ((ClutterActor*) self, _data75_->initial_x);
#line 372 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->background;
#line 372 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_pivot_point ((ClutterActor*) _tmp0_, 0.5f, _data75_->pivot_y);
#line 1569 "WorkspaceClone.c"
}

static void
___lambda53__gala_gesture_tracker_on_begin (gdouble percentage,
                                            gpointer self)
{
#line 370 "../src/Widgets/WorkspaceClone.vala"
	__lambda53_ (self);
#line 1578 "WorkspaceClone.c"
}

static void
__lambda54_ (Block75Data* _data75_,
             gdouble percentage)
{
	GalaWorkspaceClone* self;
	gfloat x = 0.0F;
	gdouble update_scale = 0.0;
	GalaBackgroundManager* _tmp0_;
#line 375 "../src/Widgets/WorkspaceClone.vala"
	self = _data75_->self;
#line 376 "../src/Widgets/WorkspaceClone.vala"
	x = gala_gesture_tracker_animation_value (_data75_->initial_x, _data75_->target_x, percentage, FALSE);
#line 377 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_x ((ClutterActor*) self, x);
#line 379 "../src/Widgets/WorkspaceClone.vala"
	update_scale = (gdouble) gala_gesture_tracker_animation_value (1.0f, (gfloat) _data75_->scale, percentage, FALSE);
#line 380 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->background;
#line 380 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_scale ((ClutterActor*) _tmp0_, update_scale, update_scale);
#line 1601 "WorkspaceClone.c"
}

static void
___lambda54__gala_gesture_tracker_on_update (gdouble percentage,
                                             gpointer self)
{
#line 375 "../src/Widgets/WorkspaceClone.vala"
	__lambda54_ (self, percentage);
#line 1610 "WorkspaceClone.c"
}

static void
__lambda55_ (Block75Data* _data75_,
             gdouble percentage,
             gboolean cancel_action)
{
	GalaWorkspaceClone* self;
	gint _tmp0_ = 0;
	GalaWindowManager* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	GalaBackgroundManager* _tmp4_;
	GalaBackgroundManager* _tmp5_;
	gint _tmp6_ = 0;
	GalaWindowManager* _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	GalaBackgroundManager* _tmp10_;
	GalaBackgroundManager* _tmp11_;
	GalaBackgroundManager* _tmp12_;
#line 383 "../src/Widgets/WorkspaceClone.vala"
	self = _data75_->self;
#line 384 "../src/Widgets/WorkspaceClone.vala"
	if (cancel_action) {
#line 385 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 1638 "WorkspaceClone.c"
	}
#line 388 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_save_easing_state ((ClutterActor*) self);
#line 389 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_mode ((ClutterActor*) self, CLUTTER_EASE_OUT_QUAD);
#line 390 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = self->priv->_wm;
#line 390 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = gala_window_manager_get_enable_animations (_tmp1_);
#line 390 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = _tmp2_;
#line 390 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp3_) {
#line 390 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 1654 "WorkspaceClone.c"
	} else {
#line 390 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = 0;
#line 1658 "WorkspaceClone.c"
	}
#line 390 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_duration ((ClutterActor*) self, (guint) _tmp0_);
#line 391 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_x ((ClutterActor*) self, _data75_->target_x);
#line 392 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_restore_easing_state ((ClutterActor*) self);
#line 394 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = self->priv->background;
#line 394 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_save_easing_state ((ClutterActor*) _tmp4_);
#line 395 "../src/Widgets/WorkspaceClone.vala"
	_tmp5_ = self->priv->background;
#line 395 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_mode ((ClutterActor*) _tmp5_, CLUTTER_EASE_OUT_QUAD);
#line 396 "../src/Widgets/WorkspaceClone.vala"
	_tmp7_ = self->priv->_wm;
#line 396 "../src/Widgets/WorkspaceClone.vala"
	_tmp8_ = gala_window_manager_get_enable_animations (_tmp7_);
#line 396 "../src/Widgets/WorkspaceClone.vala"
	_tmp9_ = _tmp8_;
#line 396 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp9_) {
#line 396 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 1684 "WorkspaceClone.c"
	} else {
#line 396 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = 0;
#line 1688 "WorkspaceClone.c"
	}
#line 396 "../src/Widgets/WorkspaceClone.vala"
	_tmp10_ = self->priv->background;
#line 396 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_duration ((ClutterActor*) _tmp10_, (guint) _tmp6_);
#line 397 "../src/Widgets/WorkspaceClone.vala"
	_tmp11_ = self->priv->background;
#line 397 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_scale ((ClutterActor*) _tmp11_, (gdouble) _data75_->scale, (gdouble) _data75_->scale);
#line 398 "../src/Widgets/WorkspaceClone.vala"
	_tmp12_ = self->priv->background;
#line 398 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_restore_easing_state ((ClutterActor*) _tmp12_);
#line 1702 "WorkspaceClone.c"
}

static void
___lambda55__gala_gesture_tracker_on_end (gdouble percentage,
                                          gboolean cancel_action,
                                          gint calculated_duration,
                                          gpointer self)
{
#line 383 "../src/Widgets/WorkspaceClone.vala"
	__lambda55_ (self, percentage, cancel_action);
#line 1713 "WorkspaceClone.c"
}

void
gala_workspace_clone_open (GalaWorkspaceClone* self,
                           gboolean with_gesture,
                           gboolean is_cancel_animation)
{
	Block75Data* _data75_;
	GalaWindowCloneContainer* _tmp0_;
	MetaDisplay* display = NULL;
	MetaWorkspace* _tmp1_;
	MetaDisplay* _tmp2_;
	MtkRectangle monitor = {0};
	MetaDisplay* _tmp3_;
	MetaDisplay* _tmp4_;
	MtkRectangle _tmp5_ = {0};
	gfloat _tmp6_ = 0.0F;
	MtkRectangle _tmp11_;
	gfloat _tmp12_;
	gfloat _tmp13_;
	MtkRectangle _tmp14_;
	gfloat _tmp15_;
	gfloat _tmp16_;
	MtkRectangle _tmp17_;
	MtkRectangle _tmp18_;
	MtkRectangle _tmp19_;
	GalaGestureTrackerOnBegin on_animation_begin = NULL;
	gpointer on_animation_begin_target;
	GDestroyNotify on_animation_begin_target_destroy_notify;
	GalaGestureTrackerOnUpdate on_animation_update = NULL;
	gpointer on_animation_update_target;
	GDestroyNotify on_animation_update_target_destroy_notify;
	GalaGestureTrackerOnEnd on_animation_end = NULL;
	gpointer on_animation_end_target;
	GDestroyNotify on_animation_end_target_destroy_notify;
	gboolean _tmp20_ = FALSE;
	MtkRectangle area = {0};
	MtkRectangle _tmp30_;
	MtkRectangle _tmp31_;
	MtkRectangle _tmp32_;
	MtkRectangle _tmp33_;
	gfloat _tmp34_;
	gfloat _tmp35_;
	MtkRectangle _tmp36_;
	MtkRectangle _tmp37_;
	MtkRectangle _tmp38_ = {0};
	GalaWindowCloneContainer* _tmp39_;
	gfloat _tmp40_;
	gfloat _tmp41_;
	GalaWindowCloneContainer* _tmp42_;
	GalaWindowCloneContainer* _tmp43_;
	MtkRectangle _tmp44_;
	MtkRectangle _tmp45_;
	GalaWindowCloneContainer* _tmp46_;
	gfloat _tmp47_;
	gfloat _tmp48_;
	GalaIconGroup* _tmp49_;
	MetaWindow* _tmp50_ = NULL;
	MetaDisplay* _tmp51_;
	MetaWorkspaceManager* _tmp52_;
	MetaWorkspace* _tmp53_;
	MetaWorkspace* _tmp54_;
	MetaWindow* selected_window = NULL;
	MetaWindow* _tmp57_;
	GalaWindowCloneContainer* _tmp58_;
	MetaWindow* _tmp59_;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	_data75_ = g_slice_new0 (Block75Data);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	_data75_->_ref_count_ = 1;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	_data75_->self = g_object_ref (self);
#line 351 "../src/Widgets/WorkspaceClone.vala"
	if (self->priv->opened) {
#line 352 "../src/Widgets/WorkspaceClone.vala"
		block75_data_unref (_data75_);
#line 352 "../src/Widgets/WorkspaceClone.vala"
		_data75_ = NULL;
#line 352 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 1796 "WorkspaceClone.c"
	}
#line 355 "../src/Widgets/WorkspaceClone.vala"
	self->priv->opened = TRUE;
#line 357 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_window_container;
#line 357 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_restack_windows (_tmp0_);
#line 359 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = self->priv->_workspace;
#line 359 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = meta_workspace_get_display (_tmp1_);
#line 359 "../src/Widgets/WorkspaceClone.vala"
	display = _tmp2_;
#line 361 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = display;
#line 361 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = display;
#line 361 "../src/Widgets/WorkspaceClone.vala"
	meta_display_get_monitor_geometry (_tmp3_, meta_display_get_primary_monitor (_tmp4_), &_tmp5_);
#line 361 "../src/Widgets/WorkspaceClone.vala"
	monitor = _tmp5_;
#line 362 "../src/Widgets/WorkspaceClone.vala"
	if (is_cancel_animation) {
#line 1820 "WorkspaceClone.c"
		gfloat _tmp7_;
		gfloat _tmp8_;
#line 362 "../src/Widgets/WorkspaceClone.vala"
		_tmp7_ = clutter_actor_get_x ((ClutterActor*) self);
#line 362 "../src/Widgets/WorkspaceClone.vala"
		_tmp8_ = _tmp7_;
#line 362 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = _tmp8_;
#line 1829 "WorkspaceClone.c"
	} else {
		gfloat _tmp9_;
		gfloat _tmp10_;
#line 362 "../src/Widgets/WorkspaceClone.vala"
		_tmp9_ = clutter_actor_get_x ((ClutterActor*) self);
#line 362 "../src/Widgets/WorkspaceClone.vala"
		_tmp10_ = _tmp9_;
#line 362 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = _tmp10_ + gala_workspace_clone_current_x_overlap (self);
#line 1839 "WorkspaceClone.c"
	}
#line 362 "../src/Widgets/WorkspaceClone.vala"
	_data75_->initial_x = _tmp6_;
#line 363 "../src/Widgets/WorkspaceClone.vala"
	_data75_->target_x = gala_workspace_clone_multitasking_view_x (self);
#line 365 "../src/Widgets/WorkspaceClone.vala"
	_tmp11_ = monitor;
#line 365 "../src/Widgets/WorkspaceClone.vala"
	_tmp12_ = gala_workspace_clone_get_scale_factor (self);
#line 365 "../src/Widgets/WorkspaceClone.vala"
	_tmp13_ = _tmp12_;
#line 365 "../src/Widgets/WorkspaceClone.vala"
	_tmp14_ = monitor;
#line 365 "../src/Widgets/WorkspaceClone.vala"
	_data75_->scale = ((gfloat) (_tmp11_.height - gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_TOP_OFFSET + GALA_WORKSPACE_CLONE_BOTTOM_OFFSET, _tmp13_))) / _tmp14_.height;
#line 366 "../src/Widgets/WorkspaceClone.vala"
	_tmp15_ = gala_workspace_clone_get_scale_factor (self);
#line 366 "../src/Widgets/WorkspaceClone.vala"
	_tmp16_ = _tmp15_;
#line 366 "../src/Widgets/WorkspaceClone.vala"
	_tmp17_ = monitor;
#line 366 "../src/Widgets/WorkspaceClone.vala"
	_tmp18_ = monitor;
#line 366 "../src/Widgets/WorkspaceClone.vala"
	_data75_->pivot_y = gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_TOP_OFFSET, _tmp16_) / (_tmp17_.height - (_tmp18_.height * _data75_->scale));
#line 368 "../src/Widgets/WorkspaceClone.vala"
	_tmp19_ = monitor;
#line 368 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_update_size (self, &_tmp19_);
#line 370 "../src/Widgets/WorkspaceClone.vala"
	on_animation_begin = ___lambda53__gala_gesture_tracker_on_begin;
#line 370 "../src/Widgets/WorkspaceClone.vala"
	on_animation_begin_target = block75_data_ref (_data75_);
#line 370 "../src/Widgets/WorkspaceClone.vala"
	on_animation_begin_target_destroy_notify = block75_data_unref;
#line 375 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update = ___lambda54__gala_gesture_tracker_on_update;
#line 375 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target = block75_data_ref (_data75_);
#line 375 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target_destroy_notify = block75_data_unref;
#line 383 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end = ___lambda55__gala_gesture_tracker_on_end;
#line 383 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target = block75_data_ref (_data75_);
#line 383 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target_destroy_notify = block75_data_unref;
#line 401 "../src/Widgets/WorkspaceClone.vala"
	if (!with_gesture) {
#line 401 "../src/Widgets/WorkspaceClone.vala"
		_tmp20_ = TRUE;
#line 1891 "WorkspaceClone.c"
	} else {
		GalaWindowManager* _tmp21_;
		gboolean _tmp22_;
		gboolean _tmp23_;
#line 401 "../src/Widgets/WorkspaceClone.vala"
		_tmp21_ = self->priv->_wm;
#line 401 "../src/Widgets/WorkspaceClone.vala"
		_tmp22_ = gala_window_manager_get_enable_animations (_tmp21_);
#line 401 "../src/Widgets/WorkspaceClone.vala"
		_tmp23_ = _tmp22_;
#line 401 "../src/Widgets/WorkspaceClone.vala"
		_tmp20_ = !_tmp23_;
#line 1904 "WorkspaceClone.c"
	}
#line 401 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp20_) {
#line 1908 "WorkspaceClone.c"
		GalaGestureTrackerOnBegin _tmp24_;
		gpointer _tmp24__target;
		GalaGestureTrackerOnEnd _tmp25_;
		gpointer _tmp25__target;
#line 402 "../src/Widgets/WorkspaceClone.vala"
		_tmp24_ = on_animation_begin;
#line 402 "../src/Widgets/WorkspaceClone.vala"
		_tmp24__target = on_animation_begin_target;
#line 402 "../src/Widgets/WorkspaceClone.vala"
		_tmp24_ ((gdouble) 0, _tmp24__target);
#line 403 "../src/Widgets/WorkspaceClone.vala"
		_tmp25_ = on_animation_end;
#line 403 "../src/Widgets/WorkspaceClone.vala"
		_tmp25__target = on_animation_end_target;
#line 403 "../src/Widgets/WorkspaceClone.vala"
		_tmp25_ ((gdouble) 1, FALSE, 0, _tmp25__target);
#line 1925 "WorkspaceClone.c"
	} else {
		GalaGestureTracker* _tmp26_;
		GalaGestureTrackerOnBegin _tmp27_;
		gpointer _tmp27__target;
		GDestroyNotify _tmp27__target_destroy_notify;
		GalaGestureTrackerOnUpdate _tmp28_;
		gpointer _tmp28__target;
		GDestroyNotify _tmp28__target_destroy_notify;
		GalaGestureTrackerOnEnd _tmp29_;
		gpointer _tmp29__target;
		GDestroyNotify _tmp29__target_destroy_notify;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp26_ = self->priv->_gesture_tracker;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp27_ = on_animation_begin;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp27__target = on_animation_begin_target;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp27__target_destroy_notify = on_animation_begin_target_destroy_notify;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_begin = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_begin_target = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_begin_target_destroy_notify = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp28_ = on_animation_update;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp28__target = on_animation_update_target;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp28__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_update = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_update_target = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_update_target_destroy_notify = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp29_ = on_animation_end;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp29__target = on_animation_end_target;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		_tmp29__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_end = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_end_target = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		on_animation_end_target_destroy_notify = NULL;
#line 405 "../src/Widgets/WorkspaceClone.vala"
		gala_gesture_tracker_connect_handlers (_tmp26_, _tmp27_, _tmp27__target, _tmp27__target_destroy_notify, _tmp28_, _tmp28__target, _tmp28__target_destroy_notify, _tmp29_, _tmp29__target, _tmp29__target_destroy_notify);
#line 1977 "WorkspaceClone.c"
	}
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp30_ = monitor;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp31_ = monitor;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp32_ = monitor;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp33_ = monitor;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp34_ = gala_workspace_clone_get_scale_factor (self);
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp35_ = _tmp34_;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp36_ = monitor;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp37_ = monitor;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp38_.x = ((gint) floorf ((_tmp30_.x + _tmp31_.width) - (_tmp32_.width * _data75_->scale))) / 2;
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp38_.y = (gint) floorf ((gfloat) (_tmp33_.y + gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_TOP_OFFSET, _tmp35_)));
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp38_.width = (gint) floorf (_tmp36_.width * _data75_->scale);
#line 409 "../src/Widgets/WorkspaceClone.vala"
	_tmp38_.height = (gint) floorf (_tmp37_.height * _data75_->scale);
#line 409 "../src/Widgets/WorkspaceClone.vala"
	area = _tmp38_;
#line 418 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_shrink_rectangle (&area, 32);
#line 420 "../src/Widgets/WorkspaceClone.vala"
	_tmp39_ = self->priv->_window_container;
#line 420 "../src/Widgets/WorkspaceClone.vala"
	_tmp40_ = gala_workspace_clone_get_scale_factor (self);
#line 420 "../src/Widgets/WorkspaceClone.vala"
	_tmp41_ = _tmp40_;
#line 420 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_set_padding_top (_tmp39_, gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_TOP_OFFSET, _tmp41_));
#line 421 "../src/Widgets/WorkspaceClone.vala"
	_tmp42_ = self->priv->_window_container;
#line 421 "../src/Widgets/WorkspaceClone.vala"
	_tmp43_ = self->priv->_window_container;
#line 421 "../src/Widgets/WorkspaceClone.vala"
	_tmp44_ = monitor;
#line 421 "../src/Widgets/WorkspaceClone.vala"
	_tmp45_ = monitor;
#line 421 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_set_padding_right (_tmp43_, ((gint) (_tmp44_.width - (_tmp45_.width * _data75_->scale))) / 2);
#line 421 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_set_padding_left (_tmp42_, ((gint) (_tmp44_.width - (_tmp45_.width * _data75_->scale))) / 2);
#line 423 "../src/Widgets/WorkspaceClone.vala"
	_tmp46_ = self->priv->_window_container;
#line 423 "../src/Widgets/WorkspaceClone.vala"
	_tmp47_ = gala_workspace_clone_get_scale_factor (self);
#line 423 "../src/Widgets/WorkspaceClone.vala"
	_tmp48_ = _tmp47_;
#line 423 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_set_padding_bottom (_tmp46_, gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_BOTTOM_OFFSET, _tmp48_));
#line 425 "../src/Widgets/WorkspaceClone.vala"
	_tmp49_ = self->priv->_icon_group;
#line 425 "../src/Widgets/WorkspaceClone.vala"
	gala_icon_group_redraw (_tmp49_);
#line 427 "../src/Widgets/WorkspaceClone.vala"
	_tmp51_ = display;
#line 427 "../src/Widgets/WorkspaceClone.vala"
	_tmp52_ = meta_display_get_workspace_manager (_tmp51_);
#line 427 "../src/Widgets/WorkspaceClone.vala"
	_tmp53_ = meta_workspace_manager_get_active_workspace (_tmp52_);
#line 427 "../src/Widgets/WorkspaceClone.vala"
	_tmp54_ = self->priv->_workspace;
#line 427 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp53_ == _tmp54_) {
#line 2049 "WorkspaceClone.c"
		MetaDisplay* _tmp55_;
		MetaWindow* _tmp56_;
#line 427 "../src/Widgets/WorkspaceClone.vala"
		_tmp55_ = display;
#line 427 "../src/Widgets/WorkspaceClone.vala"
		_tmp56_ = meta_display_get_focus_window (_tmp55_);
#line 427 "../src/Widgets/WorkspaceClone.vala"
		_tmp50_ = _tmp56_;
#line 2058 "WorkspaceClone.c"
	} else {
#line 427 "../src/Widgets/WorkspaceClone.vala"
		_tmp50_ = NULL;
#line 2062 "WorkspaceClone.c"
	}
#line 427 "../src/Widgets/WorkspaceClone.vala"
	_tmp57_ = _g_object_ref0 (_tmp50_);
#line 427 "../src/Widgets/WorkspaceClone.vala"
	selected_window = _tmp57_;
#line 428 "../src/Widgets/WorkspaceClone.vala"
	_tmp58_ = self->priv->_window_container;
#line 428 "../src/Widgets/WorkspaceClone.vala"
	_tmp59_ = selected_window;
#line 428 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_open (_tmp58_, _tmp59_, with_gesture, is_cancel_animation);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (selected_window);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target_destroy_notify = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target_destroy_notify = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	(on_animation_begin_target_destroy_notify == NULL) ? NULL : (on_animation_begin_target_destroy_notify (on_animation_begin_target), NULL);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_begin = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_begin_target = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	on_animation_begin_target_destroy_notify = NULL;
#line 350 "../src/Widgets/WorkspaceClone.vala"
	block75_data_unref (_data75_);
#line 350 "../src/Widgets/WorkspaceClone.vala"
	_data75_ = NULL;
#line 2104 "WorkspaceClone.c"
}

/**
         * Close the view again by animating the background back to its scale and
         * the windows back to their old locations.
         */
static Block76Data*
block76_data_ref (Block76Data* _data76_)
{
#line 435 "../src/Widgets/WorkspaceClone.vala"
	g_atomic_int_inc (&_data76_->_ref_count_);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	return _data76_;
#line 2118 "WorkspaceClone.c"
}

static void
block76_data_unref (void * _userdata_)
{
	Block76Data* _data76_;
	_data76_ = (Block76Data*) _userdata_;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	if (g_atomic_int_dec_and_test (&_data76_->_ref_count_)) {
#line 2128 "WorkspaceClone.c"
		GalaWorkspaceClone* self;
#line 435 "../src/Widgets/WorkspaceClone.vala"
		self = _data76_->self;
#line 435 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self);
#line 435 "../src/Widgets/WorkspaceClone.vala"
		g_slice_free (Block76Data, _data76_);
#line 2136 "WorkspaceClone.c"
	}
}

static void
__lambda56_ (Block76Data* _data76_,
             gdouble percentage)
{
	GalaWorkspaceClone* self;
	gfloat x = 0.0F;
	gdouble scale_x = 0.0;
	gdouble scale_y = 0.0;
	GalaBackgroundManager* _tmp0_;
#line 450 "../src/Widgets/WorkspaceClone.vala"
	self = _data76_->self;
#line 451 "../src/Widgets/WorkspaceClone.vala"
	x = gala_gesture_tracker_animation_value (_data76_->initial_x, _data76_->target_x, percentage, FALSE);
#line 452 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_x ((ClutterActor*) self, x);
#line 454 "../src/Widgets/WorkspaceClone.vala"
	scale_x = (gdouble) gala_gesture_tracker_animation_value ((gfloat) _data76_->initial_scale_x, 1.0f, percentage, FALSE);
#line 455 "../src/Widgets/WorkspaceClone.vala"
	scale_y = (gdouble) gala_gesture_tracker_animation_value ((gfloat) _data76_->initial_scale_y, 1.0f, percentage, FALSE);
#line 456 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->background;
#line 456 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_scale ((ClutterActor*) _tmp0_, scale_x, scale_y);
#line 2163 "WorkspaceClone.c"
}

static void
___lambda56__gala_gesture_tracker_on_update (gdouble percentage,
                                             gpointer self)
{
#line 450 "../src/Widgets/WorkspaceClone.vala"
	__lambda56_ (self, percentage);
#line 2172 "WorkspaceClone.c"
}

static void
__lambda57_ (Block76Data* _data76_,
             gdouble percentage,
             gboolean cancel_action)
{
	GalaWorkspaceClone* self;
	gint _tmp0_ = 0;
	GalaWindowManager* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	GalaBackgroundManager* _tmp4_;
	GalaBackgroundManager* _tmp5_;
	gint _tmp6_ = 0;
	GalaWindowManager* _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	GalaBackgroundManager* _tmp10_;
	GalaBackgroundManager* _tmp11_;
	GalaBackgroundManager* _tmp12_;
#line 459 "../src/Widgets/WorkspaceClone.vala"
	self = _data76_->self;
#line 460 "../src/Widgets/WorkspaceClone.vala"
	if (cancel_action) {
#line 461 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 2200 "WorkspaceClone.c"
	}
#line 464 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_save_easing_state ((ClutterActor*) self);
#line 465 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_mode ((ClutterActor*) self, CLUTTER_EASE_OUT_QUAD);
#line 466 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = self->priv->_wm;
#line 466 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = gala_window_manager_get_enable_animations (_tmp1_);
#line 466 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = _tmp2_;
#line 466 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp3_) {
#line 466 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 2216 "WorkspaceClone.c"
	} else {
#line 466 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = 0;
#line 2220 "WorkspaceClone.c"
	}
#line 466 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_duration ((ClutterActor*) self, (guint) _tmp0_);
#line 467 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_x ((ClutterActor*) self, _data76_->target_x);
#line 468 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_restore_easing_state ((ClutterActor*) self);
#line 470 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = self->priv->background;
#line 470 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_save_easing_state ((ClutterActor*) _tmp4_);
#line 471 "../src/Widgets/WorkspaceClone.vala"
	_tmp5_ = self->priv->background;
#line 471 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_mode ((ClutterActor*) _tmp5_, CLUTTER_EASE_OUT_QUAD);
#line 472 "../src/Widgets/WorkspaceClone.vala"
	_tmp7_ = self->priv->_wm;
#line 472 "../src/Widgets/WorkspaceClone.vala"
	_tmp8_ = gala_window_manager_get_enable_animations (_tmp7_);
#line 472 "../src/Widgets/WorkspaceClone.vala"
	_tmp9_ = _tmp8_;
#line 472 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp9_) {
#line 472 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 2246 "WorkspaceClone.c"
	} else {
#line 472 "../src/Widgets/WorkspaceClone.vala"
		_tmp6_ = 0;
#line 2250 "WorkspaceClone.c"
	}
#line 472 "../src/Widgets/WorkspaceClone.vala"
	_tmp10_ = self->priv->background;
#line 472 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_easing_duration ((ClutterActor*) _tmp10_, (guint) _tmp6_);
#line 473 "../src/Widgets/WorkspaceClone.vala"
	_tmp11_ = self->priv->background;
#line 473 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_scale ((ClutterActor*) _tmp11_, (gdouble) 1, (gdouble) 1);
#line 474 "../src/Widgets/WorkspaceClone.vala"
	_tmp12_ = self->priv->background;
#line 474 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_restore_easing_state ((ClutterActor*) _tmp12_);
#line 2264 "WorkspaceClone.c"
}

static void
___lambda57__gala_gesture_tracker_on_end (gdouble percentage,
                                          gboolean cancel_action,
                                          gint calculated_duration,
                                          gpointer self)
{
#line 459 "../src/Widgets/WorkspaceClone.vala"
	__lambda57_ (self, percentage, cancel_action);
#line 2275 "WorkspaceClone.c"
}

void
gala_workspace_clone_close (GalaWorkspaceClone* self,
                            gboolean with_gesture,
                            gboolean is_cancel_animation)
{
	Block76Data* _data76_;
	GalaWindowCloneContainer* _tmp0_;
	gfloat _tmp1_ = 0.0F;
	GalaBackgroundManager* _tmp4_;
	gdouble _tmp5_ = 0.0;
	gdouble _tmp6_ = 0.0;
	GalaGestureTrackerOnUpdate on_animation_update = NULL;
	gpointer on_animation_update_target;
	GDestroyNotify on_animation_update_target_destroy_notify;
	GalaGestureTrackerOnEnd on_animation_end = NULL;
	gpointer on_animation_end_target;
	GDestroyNotify on_animation_end_target_destroy_notify;
	gboolean _tmp7_ = FALSE;
	GalaWindowCloneContainer* _tmp15_;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	_data76_ = g_slice_new0 (Block76Data);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	_data76_->_ref_count_ = 1;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	_data76_->self = g_object_ref (self);
#line 436 "../src/Widgets/WorkspaceClone.vala"
	if (!self->priv->opened) {
#line 437 "../src/Widgets/WorkspaceClone.vala"
		block76_data_unref (_data76_);
#line 437 "../src/Widgets/WorkspaceClone.vala"
		_data76_ = NULL;
#line 437 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 2313 "WorkspaceClone.c"
	}
#line 440 "../src/Widgets/WorkspaceClone.vala"
	self->priv->opened = FALSE;
#line 442 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_window_container;
#line 442 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_restack_windows (_tmp0_);
#line 444 "../src/Widgets/WorkspaceClone.vala"
	if (is_cancel_animation) {
#line 2323 "WorkspaceClone.c"
		gfloat _tmp2_;
		gfloat _tmp3_;
#line 444 "../src/Widgets/WorkspaceClone.vala"
		_tmp2_ = clutter_actor_get_x ((ClutterActor*) self);
#line 444 "../src/Widgets/WorkspaceClone.vala"
		_tmp3_ = _tmp2_;
#line 444 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = _tmp3_;
#line 2332 "WorkspaceClone.c"
	} else {
#line 444 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = gala_workspace_clone_multitasking_view_x (self);
#line 2336 "WorkspaceClone.c"
	}
#line 444 "../src/Widgets/WorkspaceClone.vala"
	_data76_->initial_x = _tmp1_;
#line 445 "../src/Widgets/WorkspaceClone.vala"
	_data76_->target_x = gala_workspace_clone_multitasking_view_x (self) + gala_workspace_clone_current_x_overlap (self);
#line 448 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = self->priv->background;
#line 448 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_get_scale ((ClutterActor*) _tmp4_, &_tmp5_, &_tmp6_);
#line 448 "../src/Widgets/WorkspaceClone.vala"
	_data76_->initial_scale_x = _tmp5_;
#line 448 "../src/Widgets/WorkspaceClone.vala"
	_data76_->initial_scale_y = _tmp6_;
#line 450 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update = ___lambda56__gala_gesture_tracker_on_update;
#line 450 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target = block76_data_ref (_data76_);
#line 450 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target_destroy_notify = block76_data_unref;
#line 459 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end = ___lambda57__gala_gesture_tracker_on_end;
#line 459 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target = block76_data_ref (_data76_);
#line 459 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target_destroy_notify = block76_data_unref;
#line 477 "../src/Widgets/WorkspaceClone.vala"
	if (!with_gesture) {
#line 477 "../src/Widgets/WorkspaceClone.vala"
		_tmp7_ = TRUE;
#line 2366 "WorkspaceClone.c"
	} else {
		GalaWindowManager* _tmp8_;
		gboolean _tmp9_;
		gboolean _tmp10_;
#line 477 "../src/Widgets/WorkspaceClone.vala"
		_tmp8_ = self->priv->_wm;
#line 477 "../src/Widgets/WorkspaceClone.vala"
		_tmp9_ = gala_window_manager_get_enable_animations (_tmp8_);
#line 477 "../src/Widgets/WorkspaceClone.vala"
		_tmp10_ = _tmp9_;
#line 477 "../src/Widgets/WorkspaceClone.vala"
		_tmp7_ = !_tmp10_;
#line 2379 "WorkspaceClone.c"
	}
#line 477 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp7_) {
#line 2383 "WorkspaceClone.c"
		GalaGestureTrackerOnEnd _tmp11_;
		gpointer _tmp11__target;
#line 478 "../src/Widgets/WorkspaceClone.vala"
		_tmp11_ = on_animation_end;
#line 478 "../src/Widgets/WorkspaceClone.vala"
		_tmp11__target = on_animation_end_target;
#line 478 "../src/Widgets/WorkspaceClone.vala"
		_tmp11_ ((gdouble) 1, FALSE, 0, _tmp11__target);
#line 2392 "WorkspaceClone.c"
	} else {
		GalaGestureTracker* _tmp12_;
		GalaGestureTrackerOnUpdate _tmp13_;
		gpointer _tmp13__target;
		GDestroyNotify _tmp13__target_destroy_notify;
		GalaGestureTrackerOnEnd _tmp14_;
		gpointer _tmp14__target;
		GDestroyNotify _tmp14__target_destroy_notify;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp12_ = self->priv->_gesture_tracker;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp13_ = on_animation_update;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp13__target = on_animation_update_target;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp13__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		on_animation_update = NULL;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		on_animation_update_target = NULL;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		on_animation_update_target_destroy_notify = NULL;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp14_ = on_animation_end;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp14__target = on_animation_end_target;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		_tmp14__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		on_animation_end = NULL;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		on_animation_end_target = NULL;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		on_animation_end_target_destroy_notify = NULL;
#line 480 "../src/Widgets/WorkspaceClone.vala"
		gala_gesture_tracker_connect_handlers (_tmp12_, NULL, NULL, NULL, _tmp13_, _tmp13__target, _tmp13__target_destroy_notify, _tmp14_, _tmp14__target, _tmp14__target_destroy_notify);
#line 2429 "WorkspaceClone.c"
	}
#line 483 "../src/Widgets/WorkspaceClone.vala"
	_tmp15_ = self->priv->_window_container;
#line 483 "../src/Widgets/WorkspaceClone.vala"
	gala_window_clone_container_close (_tmp15_, with_gesture, is_cancel_animation);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end = NULL;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target = NULL;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	on_animation_end_target_destroy_notify = NULL;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update = NULL;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target = NULL;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	on_animation_update_target_destroy_notify = NULL;
#line 435 "../src/Widgets/WorkspaceClone.vala"
	block76_data_unref (_data76_);
#line 435 "../src/Widgets/WorkspaceClone.vala"
	_data76_ = NULL;
#line 2455 "WorkspaceClone.c"
}

GalaWindowManager*
gala_workspace_clone_get_wm (GalaWorkspaceClone* self)
{
	GalaWindowManager* result;
	GalaWindowManager* _tmp0_;
#line 141 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 141 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_wm;
#line 141 "../src/Widgets/WorkspaceClone.vala"
	result = _tmp0_;
#line 141 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2471 "WorkspaceClone.c"
}

static void
gala_workspace_clone_set_wm (GalaWorkspaceClone* self,
                             GalaWindowManager* value)
{
	GalaWindowManager* old_value;
#line 141 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 141 "../src/Widgets/WorkspaceClone.vala"
	old_value = gala_workspace_clone_get_wm (self);
#line 141 "../src/Widgets/WorkspaceClone.vala"
	if (old_value != value) {
#line 2485 "WorkspaceClone.c"
		GalaWindowManager* _tmp0_;
#line 141 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 141 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self->priv->_wm);
#line 141 "../src/Widgets/WorkspaceClone.vala"
		self->priv->_wm = _tmp0_;
#line 141 "../src/Widgets/WorkspaceClone.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_WM_PROPERTY]);
#line 2495 "WorkspaceClone.c"
	}
}

MetaWorkspace*
gala_workspace_clone_get_workspace (GalaWorkspaceClone* self)
{
	MetaWorkspace* result;
	MetaWorkspace* _tmp0_;
#line 142 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 142 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_workspace;
#line 142 "../src/Widgets/WorkspaceClone.vala"
	result = _tmp0_;
#line 142 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2512 "WorkspaceClone.c"
}

static void
gala_workspace_clone_set_workspace (GalaWorkspaceClone* self,
                                    MetaWorkspace* value)
{
	MetaWorkspace* old_value;
#line 142 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 142 "../src/Widgets/WorkspaceClone.vala"
	old_value = gala_workspace_clone_get_workspace (self);
#line 142 "../src/Widgets/WorkspaceClone.vala"
	if (old_value != value) {
#line 2526 "WorkspaceClone.c"
		MetaWorkspace* _tmp0_;
#line 142 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 142 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self->priv->_workspace);
#line 142 "../src/Widgets/WorkspaceClone.vala"
		self->priv->_workspace = _tmp0_;
#line 142 "../src/Widgets/WorkspaceClone.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_WORKSPACE_PROPERTY]);
#line 2536 "WorkspaceClone.c"
	}
}

GalaGestureTracker*
gala_workspace_clone_get_gesture_tracker (GalaWorkspaceClone* self)
{
	GalaGestureTracker* result;
	GalaGestureTracker* _tmp0_;
#line 143 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 143 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_gesture_tracker;
#line 143 "../src/Widgets/WorkspaceClone.vala"
	result = _tmp0_;
#line 143 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2553 "WorkspaceClone.c"
}

static void
gala_workspace_clone_set_gesture_tracker (GalaWorkspaceClone* self,
                                          GalaGestureTracker* value)
{
	GalaGestureTracker* old_value;
#line 143 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 143 "../src/Widgets/WorkspaceClone.vala"
	old_value = gala_workspace_clone_get_gesture_tracker (self);
#line 143 "../src/Widgets/WorkspaceClone.vala"
	if (old_value != value) {
#line 2567 "WorkspaceClone.c"
		GalaGestureTracker* _tmp0_;
#line 143 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 143 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self->priv->_gesture_tracker);
#line 143 "../src/Widgets/WorkspaceClone.vala"
		self->priv->_gesture_tracker = _tmp0_;
#line 143 "../src/Widgets/WorkspaceClone.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_GESTURE_TRACKER_PROPERTY]);
#line 2577 "WorkspaceClone.c"
	}
}

GalaIconGroup*
gala_workspace_clone_get_icon_group (GalaWorkspaceClone* self)
{
	GalaIconGroup* result;
	GalaIconGroup* _tmp0_;
#line 144 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 144 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_icon_group;
#line 144 "../src/Widgets/WorkspaceClone.vala"
	result = _tmp0_;
#line 144 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2594 "WorkspaceClone.c"
}

static void
gala_workspace_clone_set_icon_group (GalaWorkspaceClone* self,
                                     GalaIconGroup* value)
{
	GalaIconGroup* old_value;
#line 144 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 144 "../src/Widgets/WorkspaceClone.vala"
	old_value = gala_workspace_clone_get_icon_group (self);
#line 144 "../src/Widgets/WorkspaceClone.vala"
	if (old_value != value) {
#line 2608 "WorkspaceClone.c"
		GalaIconGroup* _tmp0_;
#line 144 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 144 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self->priv->_icon_group);
#line 144 "../src/Widgets/WorkspaceClone.vala"
		self->priv->_icon_group = _tmp0_;
#line 144 "../src/Widgets/WorkspaceClone.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_ICON_GROUP_PROPERTY]);
#line 2618 "WorkspaceClone.c"
	}
}

GalaWindowCloneContainer*
gala_workspace_clone_get_window_container (GalaWorkspaceClone* self)
{
	GalaWindowCloneContainer* result;
	GalaWindowCloneContainer* _tmp0_;
#line 145 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 145 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_window_container;
#line 145 "../src/Widgets/WorkspaceClone.vala"
	result = _tmp0_;
#line 145 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2635 "WorkspaceClone.c"
}

static void
gala_workspace_clone_set_window_container (GalaWorkspaceClone* self,
                                           GalaWindowCloneContainer* value)
{
	GalaWindowCloneContainer* old_value;
#line 145 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 145 "../src/Widgets/WorkspaceClone.vala"
	old_value = gala_workspace_clone_get_window_container (self);
#line 145 "../src/Widgets/WorkspaceClone.vala"
	if (old_value != value) {
#line 2649 "WorkspaceClone.c"
		GalaWindowCloneContainer* _tmp0_;
#line 145 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 145 "../src/Widgets/WorkspaceClone.vala"
		_g_object_unref0 (self->priv->_window_container);
#line 145 "../src/Widgets/WorkspaceClone.vala"
		self->priv->_window_container = _tmp0_;
#line 145 "../src/Widgets/WorkspaceClone.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_WINDOW_CONTAINER_PROPERTY]);
#line 2659 "WorkspaceClone.c"
	}
}

gfloat
gala_workspace_clone_get_scale_factor (GalaWorkspaceClone* self)
{
	gfloat result;
#line 149 "../src/Widgets/WorkspaceClone.vala"
	g_return_val_if_fail (self != NULL, 0.0F);
#line 150 "../src/Widgets/WorkspaceClone.vala"
	result = self->priv->_scale_factor;
#line 150 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2673 "WorkspaceClone.c"
}

void
gala_workspace_clone_set_scale_factor (GalaWorkspaceClone* self,
                                       gfloat value)
{
#line 152 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (self != NULL);
#line 153 "../src/Widgets/WorkspaceClone.vala"
	if (value != self->priv->_scale_factor) {
#line 154 "../src/Widgets/WorkspaceClone.vala"
		self->priv->_scale_factor = value;
#line 155 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_reallocate (self);
#line 2688 "WorkspaceClone.c"
	}
#line 152 "../src/Widgets/WorkspaceClone.vala"
	g_object_notify_by_pspec ((GObject *) self, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_SCALE_FACTOR_PROPERTY]);
#line 2692 "WorkspaceClone.c"
}

static void
_gala_workspace_clone___lambda58_ (GalaWorkspaceClone* self)
{
#line 178 "../src/Widgets/WorkspaceClone.vala"
	g_signal_emit (self, gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_SELECTED_SIGNAL], 0, TRUE);
#line 2700 "WorkspaceClone.c"
}

static void
__gala_workspace_clone___lambda58__clutter_click_action_clicked (ClutterClickAction* _sender,
                                                                 ClutterActor* actor,
                                                                 gpointer self)
{
#line 177 "../src/Widgets/WorkspaceClone.vala"
	_gala_workspace_clone___lambda58_ ((GalaWorkspaceClone*) self);
#line 2710 "WorkspaceClone.c"
}

static void
_gala_workspace_clone___lambda59_ (GalaWorkspaceClone* self,
                                   MetaWindow* w)
{
#line 187 "../src/Widgets/WorkspaceClone.vala"
	g_return_if_fail (w != NULL);
#line 187 "../src/Widgets/WorkspaceClone.vala"
	g_signal_emit (self, gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_WINDOW_SELECTED_SIGNAL], 0, w);
#line 2721 "WorkspaceClone.c"
}

static void
__gala_workspace_clone___lambda59__gala_window_clone_container_window_selected (GalaWindowCloneContainer* _sender,
                                                                                MetaWindow* window,
                                                                                gpointer self)
{
#line 187 "../src/Widgets/WorkspaceClone.vala"
	_gala_workspace_clone___lambda59_ ((GalaWorkspaceClone*) self, window);
#line 2731 "WorkspaceClone.c"
}

static void
_gala_workspace_clone___lambda60_ (GalaWorkspaceClone* self)
{
#line 188 "../src/Widgets/WorkspaceClone.vala"
	g_signal_emit (self, gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_SELECTED_SIGNAL], 0, TRUE);
#line 2739 "WorkspaceClone.c"
}

static void
__gala_workspace_clone___lambda60__gala_window_clone_container_requested_close (GalaWindowCloneContainer* _sender,
                                                                                gpointer self)
{
#line 188 "../src/Widgets/WorkspaceClone.vala"
	_gala_workspace_clone___lambda60_ ((GalaWorkspaceClone*) self);
#line 2748 "WorkspaceClone.c"
}

static void
_gala_workspace_clone___lambda61_ (GalaWorkspaceClone* self)
{
#line 191 "../src/Widgets/WorkspaceClone.vala"
	g_signal_emit (self, gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_SELECTED_SIGNAL], 0, TRUE);
#line 2756 "WorkspaceClone.c"
}

static void
__gala_workspace_clone___lambda61__gala_icon_group_selected (GalaIconGroup* _sender,
                                                             gpointer self)
{
#line 191 "../src/Widgets/WorkspaceClone.vala"
	_gala_workspace_clone___lambda61_ ((GalaWorkspaceClone*) self);
#line 2765 "WorkspaceClone.c"
}

static gboolean
___lambda63_ (GalaWorkspaceClone* self)
{
	gboolean result;
#line 207 "../src/Widgets/WorkspaceClone.vala"
	g_signal_emit (self, gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_SELECTED_SIGNAL], 0, FALSE);
#line 208 "../src/Widgets/WorkspaceClone.vala"
	self->priv->hover_activate_timeout = (guint) 0;
#line 209 "../src/Widgets/WorkspaceClone.vala"
	result = FALSE;
#line 209 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2780 "WorkspaceClone.c"
}

static gboolean
____lambda63__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda63_ ((GalaWorkspaceClone*) self);
#line 206 "../src/Widgets/WorkspaceClone.vala"
	return result;
#line 2790 "WorkspaceClone.c"
}

static void
_gala_workspace_clone___lambda62_ (GalaWorkspaceClone* self,
                                   ClutterActor* target,
                                   gboolean hovered)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
#line 199 "../src/Widgets/WorkspaceClone.vala"
	if (!hovered) {
#line 199 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = self->priv->hover_activate_timeout != ((guint) 0);
#line 2804 "WorkspaceClone.c"
	} else {
#line 199 "../src/Widgets/WorkspaceClone.vala"
		_tmp0_ = FALSE;
#line 2808 "WorkspaceClone.c"
	}
#line 199 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp0_) {
#line 200 "../src/Widgets/WorkspaceClone.vala"
		g_source_remove (self->priv->hover_activate_timeout);
#line 201 "../src/Widgets/WorkspaceClone.vala"
		self->priv->hover_activate_timeout = (guint) 0;
#line 202 "../src/Widgets/WorkspaceClone.vala"
		return;
#line 2818 "WorkspaceClone.c"
	}
#line 205 "../src/Widgets/WorkspaceClone.vala"
	if (hovered) {
#line 205 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = self->priv->hover_activate_timeout == ((guint) 0);
#line 2824 "WorkspaceClone.c"
	} else {
#line 205 "../src/Widgets/WorkspaceClone.vala"
		_tmp1_ = FALSE;
#line 2828 "WorkspaceClone.c"
	}
#line 205 "../src/Widgets/WorkspaceClone.vala"
	if (_tmp1_) {
#line 206 "../src/Widgets/WorkspaceClone.vala"
		self->priv->hover_activate_timeout = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) GALA_WORKSPACE_CLONE_HOVER_ACTIVATE_DELAY, ____lambda63__gsource_func, g_object_ref (self), g_object_unref);
#line 2834 "WorkspaceClone.c"
	}
}

static void
__gala_workspace_clone___lambda62__gala_drag_drop_action_crossed (GalaDragDropAction* _sender,
                                                                  ClutterActor* target,
                                                                  gboolean hovered,
                                                                  gpointer self)
{
#line 198 "../src/Widgets/WorkspaceClone.vala"
	_gala_workspace_clone___lambda62_ ((GalaWorkspaceClone*) self, target, hovered);
#line 2846 "WorkspaceClone.c"
}

static GObject *
gala_workspace_clone_constructor (GType type,
                                  guint n_construct_properties,
                                  GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GalaWorkspaceClone * self;
	MetaDisplay* display = NULL;
	MetaWorkspace* _tmp0_;
	MetaDisplay* _tmp1_;
	gint primary_monitor = 0;
	MetaDisplay* _tmp2_;
	MtkRectangle monitor_geometry = {0};
	MetaDisplay* _tmp3_;
	MtkRectangle _tmp4_ = {0};
	ClutterClickAction* background_click_action = NULL;
	ClutterClickAction* _tmp5_;
	ClutterClickAction* _tmp6_;
	GalaWindowManager* _tmp7_;
	GalaFramedBackground* _tmp8_;
	GalaBackgroundManager* _tmp9_;
	ClutterClickAction* _tmp10_;
	GalaWindowManager* _tmp11_;
	GalaGestureTracker* _tmp12_;
	gfloat _tmp13_;
	gfloat _tmp14_;
	MtkRectangle _tmp15_;
	MtkRectangle _tmp16_;
	GalaWindowCloneContainer* _tmp17_ = NULL;
	GalaWindowCloneContainer* _tmp18_;
	GalaWindowCloneContainer* _tmp19_;
	GalaWindowCloneContainer* _tmp20_;
	GalaWindowManager* _tmp21_;
	MetaWorkspace* _tmp22_;
	gfloat _tmp23_;
	gfloat _tmp24_;
	GalaIconGroup* _tmp25_;
	GalaIconGroup* _tmp26_;
	GalaIconGroup* _tmp27_;
	GalaDragDropAction* icons_drop_action = NULL;
	GalaDragDropAction* _tmp28_;
	GalaIconGroup* _tmp29_;
	GalaDragDropAction* _tmp30_;
	GalaDragDropAction* background_drop_action = NULL;
	GalaDragDropAction* _tmp31_;
	GalaBackgroundManager* _tmp32_;
	GalaDragDropAction* _tmp33_;
	GalaDragDropAction* _tmp34_;
	MetaDisplay* _tmp35_;
	MetaDisplay* _tmp36_;
	MetaWorkspace* _tmp37_;
	MetaWorkspace* _tmp38_;
	GalaBackgroundManager* _tmp39_;
	GalaWindowCloneContainer* _tmp40_;
	GList* windows = NULL;
	MetaWorkspace* _tmp41_;
	GList* _tmp42_;
	GList* _tmp43_;
	GalaWindowListener* listener = NULL;
	GalaWindowListener* _tmp57_;
	GalaWindowListener* _tmp58_;
	GalaWindowListener* _tmp59_;
#line 169 "../src/Widgets/WorkspaceClone.vala"
	parent_class = G_OBJECT_CLASS (gala_workspace_clone_parent_class);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 170 "../src/Widgets/WorkspaceClone.vala"
	self->priv->opened = FALSE;
#line 172 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_workspace;
#line 172 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = meta_workspace_get_display (_tmp0_);
#line 172 "../src/Widgets/WorkspaceClone.vala"
	display = _tmp1_;
#line 173 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = display;
#line 173 "../src/Widgets/WorkspaceClone.vala"
	primary_monitor = meta_display_get_primary_monitor (_tmp2_);
#line 174 "../src/Widgets/WorkspaceClone.vala"
	_tmp3_ = display;
#line 174 "../src/Widgets/WorkspaceClone.vala"
	meta_display_get_monitor_geometry (_tmp3_, primary_monitor, &_tmp4_);
#line 174 "../src/Widgets/WorkspaceClone.vala"
	monitor_geometry = _tmp4_;
#line 176 "../src/Widgets/WorkspaceClone.vala"
	_tmp5_ = (ClutterClickAction*) clutter_click_action_new ();
#line 176 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp5_);
#line 176 "../src/Widgets/WorkspaceClone.vala"
	background_click_action = _tmp5_;
#line 177 "../src/Widgets/WorkspaceClone.vala"
	_tmp6_ = background_click_action;
#line 177 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp6_, "clicked", (GCallback) __gala_workspace_clone___lambda58__clutter_click_action_clicked, self, 0);
#line 180 "../src/Widgets/WorkspaceClone.vala"
	_tmp7_ = self->priv->_wm;
#line 180 "../src/Widgets/WorkspaceClone.vala"
	_tmp8_ = gala_framed_background_new (_tmp7_);
#line 180 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp8_);
#line 180 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->background);
#line 180 "../src/Widgets/WorkspaceClone.vala"
	self->priv->background = (GalaBackgroundManager*) _tmp8_;
#line 181 "../src/Widgets/WorkspaceClone.vala"
	_tmp9_ = self->priv->background;
#line 181 "../src/Widgets/WorkspaceClone.vala"
	_tmp10_ = background_click_action;
#line 181 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_add_action ((ClutterActor*) _tmp9_, (ClutterAction*) _tmp10_);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp11_ = self->priv->_wm;
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp12_ = self->priv->_gesture_tracker;
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp13_ = gala_workspace_clone_get_scale_factor (self);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp14_ = _tmp13_;
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp15_ = monitor_geometry;
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp16_ = monitor_geometry;
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp17_ = gala_window_clone_container_new (_tmp11_, _tmp12_, _tmp14_, FALSE);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_width ((ClutterActor*) _tmp17_, (gfloat) _tmp15_.width);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_set_height ((ClutterActor*) _tmp17_, (gfloat) _tmp16_.height);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp17_);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_tmp18_ = _tmp17_;
#line 183 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_set_window_container (self, _tmp18_);
#line 183 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (_tmp18_);
#line 187 "../src/Widgets/WorkspaceClone.vala"
	_tmp19_ = self->priv->_window_container;
#line 187 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp19_, "window-selected", (GCallback) __gala_workspace_clone___lambda59__gala_window_clone_container_window_selected, self, 0);
#line 188 "../src/Widgets/WorkspaceClone.vala"
	_tmp20_ = self->priv->_window_container;
#line 188 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp20_, "requested-close", (GCallback) __gala_workspace_clone___lambda60__gala_window_clone_container_requested_close, self, 0);
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_tmp21_ = self->priv->_wm;
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_tmp22_ = self->priv->_workspace;
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_tmp23_ = gala_workspace_clone_get_scale_factor (self);
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_tmp24_ = _tmp23_;
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_tmp25_ = gala_icon_group_new (_tmp21_, _tmp22_, _tmp24_);
#line 190 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp25_);
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_tmp26_ = _tmp25_;
#line 190 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_set_icon_group (self, _tmp26_);
#line 190 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (_tmp26_);
#line 191 "../src/Widgets/WorkspaceClone.vala"
	_tmp27_ = self->priv->_icon_group;
#line 191 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp27_, "selected", (GCallback) __gala_workspace_clone___lambda61__gala_icon_group_selected, self, 0);
#line 193 "../src/Widgets/WorkspaceClone.vala"
	_tmp28_ = gala_drag_drop_action_new (GALA_DRAG_DROP_ACTION_TYPE_DESTINATION, "multitaskingview-window");
#line 193 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp28_);
#line 193 "../src/Widgets/WorkspaceClone.vala"
	icons_drop_action = _tmp28_;
#line 194 "../src/Widgets/WorkspaceClone.vala"
	_tmp29_ = self->priv->_icon_group;
#line 194 "../src/Widgets/WorkspaceClone.vala"
	_tmp30_ = icons_drop_action;
#line 194 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_add_action ((ClutterActor*) _tmp29_, (ClutterAction*) _tmp30_);
#line 196 "../src/Widgets/WorkspaceClone.vala"
	_tmp31_ = gala_drag_drop_action_new (GALA_DRAG_DROP_ACTION_TYPE_DESTINATION, "multitaskingview-window");
#line 196 "../src/Widgets/WorkspaceClone.vala"
	g_object_ref_sink (_tmp31_);
#line 196 "../src/Widgets/WorkspaceClone.vala"
	background_drop_action = _tmp31_;
#line 197 "../src/Widgets/WorkspaceClone.vala"
	_tmp32_ = self->priv->background;
#line 197 "../src/Widgets/WorkspaceClone.vala"
	_tmp33_ = background_drop_action;
#line 197 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_add_action ((ClutterActor*) _tmp32_, (ClutterAction*) _tmp33_);
#line 198 "../src/Widgets/WorkspaceClone.vala"
	_tmp34_ = background_drop_action;
#line 198 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp34_, "crossed", (GCallback) __gala_workspace_clone___lambda62__gala_drag_drop_action_crossed, self, 0);
#line 214 "../src/Widgets/WorkspaceClone.vala"
	_tmp35_ = display;
#line 214 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp35_, "window-entered-monitor", (GCallback) _gala_workspace_clone_window_entered_monitor_meta_display_window_entered_monitor, self, 0);
#line 215 "../src/Widgets/WorkspaceClone.vala"
	_tmp36_ = display;
#line 215 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp36_, "window-left-monitor", (GCallback) _gala_workspace_clone_window_left_monitor_meta_display_window_left_monitor, self, 0);
#line 216 "../src/Widgets/WorkspaceClone.vala"
	_tmp37_ = self->priv->_workspace;
#line 216 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp37_, "window-added", (GCallback) _gala_workspace_clone_add_window_meta_workspace_window_added, self, 0);
#line 217 "../src/Widgets/WorkspaceClone.vala"
	_tmp38_ = self->priv->_workspace;
#line 217 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp38_, "window-removed", (GCallback) _gala_workspace_clone_remove_window_meta_workspace_window_removed, self, 0);
#line 219 "../src/Widgets/WorkspaceClone.vala"
	_tmp39_ = self->priv->background;
#line 219 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_add_child ((ClutterActor*) self, (ClutterActor*) _tmp39_);
#line 220 "../src/Widgets/WorkspaceClone.vala"
	_tmp40_ = self->priv->_window_container;
#line 220 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_add_child ((ClutterActor*) self, (ClutterActor*) _tmp40_);
#line 223 "../src/Widgets/WorkspaceClone.vala"
	_tmp41_ = self->priv->_workspace;
#line 223 "../src/Widgets/WorkspaceClone.vala"
	_tmp42_ = meta_workspace_list_windows (_tmp41_);
#line 223 "../src/Widgets/WorkspaceClone.vala"
	windows = _tmp42_;
#line 224 "../src/Widgets/WorkspaceClone.vala"
	_tmp43_ = windows;
#line 3078 "WorkspaceClone.c"
	{
		GList* window_collection = NULL;
		GList* window_it = NULL;
#line 224 "../src/Widgets/WorkspaceClone.vala"
		window_collection = _tmp43_;
#line 224 "../src/Widgets/WorkspaceClone.vala"
		for (window_it = window_collection; window_it != NULL; window_it = window_it->next) {
#line 3086 "WorkspaceClone.c"
			MetaWindow* window = NULL;
#line 224 "../src/Widgets/WorkspaceClone.vala"
			window = (MetaWindow*) window_it->data;
#line 3090 "WorkspaceClone.c"
			{
				gboolean _tmp44_ = FALSE;
				gboolean _tmp45_ = FALSE;
				MetaWindow* _tmp46_;
				MetaWindowType _tmp47_;
				MetaWindowType _tmp48_;
#line 225 "../src/Widgets/WorkspaceClone.vala"
				_tmp46_ = window;
#line 225 "../src/Widgets/WorkspaceClone.vala"
				_tmp47_ = meta_window_get_window_type (_tmp46_);
#line 225 "../src/Widgets/WorkspaceClone.vala"
				_tmp48_ = _tmp47_;
#line 225 "../src/Widgets/WorkspaceClone.vala"
				if (_tmp48_ == META_WINDOW_NORMAL) {
#line 3105 "WorkspaceClone.c"
					MetaWindow* _tmp49_;
					gboolean _tmp50_;
					gboolean _tmp51_;
#line 226 "../src/Widgets/WorkspaceClone.vala"
					_tmp49_ = window;
#line 226 "../src/Widgets/WorkspaceClone.vala"
					g_object_get (_tmp49_, "on-all-workspaces", &_tmp50_, NULL);
#line 226 "../src/Widgets/WorkspaceClone.vala"
					_tmp51_ = _tmp50_;
#line 226 "../src/Widgets/WorkspaceClone.vala"
					_tmp45_ = !_tmp51_;
#line 3117 "WorkspaceClone.c"
				} else {
#line 225 "../src/Widgets/WorkspaceClone.vala"
					_tmp45_ = FALSE;
#line 3121 "WorkspaceClone.c"
				}
#line 225 "../src/Widgets/WorkspaceClone.vala"
				if (_tmp45_) {
#line 3125 "WorkspaceClone.c"
					MetaWindow* _tmp52_;
#line 227 "../src/Widgets/WorkspaceClone.vala"
					_tmp52_ = window;
#line 227 "../src/Widgets/WorkspaceClone.vala"
					_tmp44_ = meta_window_is_on_primary_monitor (_tmp52_);
#line 3131 "WorkspaceClone.c"
				} else {
#line 225 "../src/Widgets/WorkspaceClone.vala"
					_tmp44_ = FALSE;
#line 3135 "WorkspaceClone.c"
				}
#line 225 "../src/Widgets/WorkspaceClone.vala"
				if (_tmp44_) {
#line 3139 "WorkspaceClone.c"
					GalaWindowCloneContainer* _tmp53_;
					MetaWindow* _tmp54_;
					GalaIconGroup* _tmp55_;
					MetaWindow* _tmp56_;
#line 228 "../src/Widgets/WorkspaceClone.vala"
					_tmp53_ = self->priv->_window_container;
#line 228 "../src/Widgets/WorkspaceClone.vala"
					_tmp54_ = window;
#line 228 "../src/Widgets/WorkspaceClone.vala"
					gala_window_clone_container_add_window (_tmp53_, _tmp54_);
#line 229 "../src/Widgets/WorkspaceClone.vala"
					_tmp55_ = self->priv->_icon_group;
#line 229 "../src/Widgets/WorkspaceClone.vala"
					_tmp56_ = window;
#line 229 "../src/Widgets/WorkspaceClone.vala"
					gala_icon_group_add_window (_tmp55_, _tmp56_, TRUE, FALSE);
#line 3156 "WorkspaceClone.c"
				}
			}
		}
	}
#line 233 "../src/Widgets/WorkspaceClone.vala"
	_tmp57_ = gala_window_listener_get_default ();
#line 233 "../src/Widgets/WorkspaceClone.vala"
	_tmp58_ = _g_object_ref0 (_tmp57_);
#line 233 "../src/Widgets/WorkspaceClone.vala"
	listener = _tmp58_;
#line 234 "../src/Widgets/WorkspaceClone.vala"
	_tmp59_ = listener;
#line 234 "../src/Widgets/WorkspaceClone.vala"
	g_signal_connect_object (_tmp59_, "window-no-longer-on-all-workspaces", (GCallback) _gala_workspace_clone_add_window_gala_window_listener_window_no_longer_on_all_workspaces, self, 0);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (listener);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	(windows == NULL) ? NULL : (windows = (g_list_free (windows), NULL));
#line 169 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (background_drop_action);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (icons_drop_action);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (background_click_action);
#line 169 "../src/Widgets/WorkspaceClone.vala"
	return obj;
#line 3183 "WorkspaceClone.c"
}

static void
gala_workspace_clone_class_init (GalaWorkspaceCloneClass * klass,
                                 gpointer klass_data)
{
#line 104 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_parent_class = g_type_class_peek_parent (klass);
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_type_class_adjust_private_offset (klass, &GalaWorkspaceClone_private_offset);
#line 104 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_gala_workspace_clone_get_property;
#line 104 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_gala_workspace_clone_set_property;
#line 104 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_workspace_clone_constructor;
#line 104 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_workspace_clone_finalize;
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WORKSPACE_CLONE_WM_PROPERTY, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_WM_PROPERTY] = g_param_spec_object ("wm", "wm", "wm", GALA_TYPE_WINDOW_MANAGER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WORKSPACE_CLONE_WORKSPACE_PROPERTY, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_WORKSPACE_PROPERTY] = g_param_spec_object ("workspace", "workspace", "workspace", meta_workspace_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WORKSPACE_CLONE_GESTURE_TRACKER_PROPERTY, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_GESTURE_TRACKER_PROPERTY] = g_param_spec_object ("gesture-tracker", "gesture-tracker", "gesture-tracker", GALA_TYPE_GESTURE_TRACKER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WORKSPACE_CLONE_ICON_GROUP_PROPERTY, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_ICON_GROUP_PROPERTY] = g_param_spec_object ("icon-group", "icon-group", "icon-group", GALA_TYPE_ICON_GROUP, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WORKSPACE_CLONE_WINDOW_CONTAINER_PROPERTY, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_WINDOW_CONTAINER_PROPERTY] = g_param_spec_object ("window-container", "window-container", "window-container", GALA_TYPE_WINDOW_CLONE_CONTAINER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 104 "../src/Widgets/WorkspaceClone.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_WORKSPACE_CLONE_SCALE_FACTOR_PROPERTY, gala_workspace_clone_properties[GALA_WORKSPACE_CLONE_SCALE_FACTOR_PROPERTY] = g_param_spec_float ("scale-factor", "scale-factor", "scale-factor", -G_MAXFLOAT, G_MAXFLOAT, 0.0F, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 3214 "WorkspaceClone.c"
	/**
	         * A window has been selected, the MultitaskingView should consider activating
	         * and closing the view.
	         */
#line 104 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_WINDOW_SELECTED_SIGNAL] = g_signal_new ("window-selected", GALA_TYPE_WORKSPACE_CLONE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, meta_window_get_type ());
#line 3221 "WorkspaceClone.c"
	/**
	         * The background has been selected. Switch to that workspace.
	         *
	         * @param close_view If the MultitaskingView should also consider closing itself
	         *                   after switching.
	         */
#line 104 "../src/Widgets/WorkspaceClone.vala"
	gala_workspace_clone_signals[GALA_WORKSPACE_CLONE_SELECTED_SIGNAL] = g_signal_new ("selected", GALA_TYPE_WORKSPACE_CLONE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__BOOLEAN, G_TYPE_NONE, 1, G_TYPE_BOOLEAN);
#line 3230 "WorkspaceClone.c"
}

static void
gala_workspace_clone_instance_init (GalaWorkspaceClone * self,
                                    gpointer klass)
{
#line 104 "../src/Widgets/WorkspaceClone.vala"
	self->priv = gala_workspace_clone_get_instance_private (self);
#line 147 "../src/Widgets/WorkspaceClone.vala"
	self->priv->_scale_factor = 1.0f;
#line 163 "../src/Widgets/WorkspaceClone.vala"
	self->priv->hover_activate_timeout = (guint) 0;
#line 3243 "WorkspaceClone.c"
}

static void
gala_workspace_clone_finalize (GObject * obj)
{
	GalaWorkspaceClone * self;
	MetaDisplay* display = NULL;
	MetaWorkspace* _tmp0_;
	MetaDisplay* _tmp1_;
	MetaDisplay* _tmp2_;
	guint _tmp3_;
	MetaDisplay* _tmp4_;
	guint _tmp5_;
	MetaWorkspace* _tmp6_;
	guint _tmp7_;
	MetaWorkspace* _tmp8_;
	guint _tmp9_;
	GalaWindowListener* listener = NULL;
	GalaWindowListener* _tmp10_;
	GalaWindowListener* _tmp11_;
	GalaWindowListener* _tmp12_;
	guint _tmp13_;
	GalaBackgroundManager* _tmp14_;
	GalaWindowCloneContainer* _tmp15_;
	GalaIconGroup* _tmp16_;
#line 104 "../src/Widgets/WorkspaceClone.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 238 "../src/Widgets/WorkspaceClone.vala"
	_tmp0_ = self->priv->_workspace;
#line 238 "../src/Widgets/WorkspaceClone.vala"
	_tmp1_ = meta_workspace_get_display (_tmp0_);
#line 238 "../src/Widgets/WorkspaceClone.vala"
	display = _tmp1_;
#line 240 "../src/Widgets/WorkspaceClone.vala"
	_tmp2_ = display;
#line 240 "../src/Widgets/WorkspaceClone.vala"
	g_signal_parse_name ("window-entered-monitor", meta_display_get_type (), &_tmp3_, NULL, FALSE);
#line 240 "../src/Widgets/WorkspaceClone.vala"
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _gala_workspace_clone_window_entered_monitor_meta_display_window_entered_monitor, self);
#line 241 "../src/Widgets/WorkspaceClone.vala"
	_tmp4_ = display;
#line 241 "../src/Widgets/WorkspaceClone.vala"
	g_signal_parse_name ("window-left-monitor", meta_display_get_type (), &_tmp5_, NULL, FALSE);
#line 241 "../src/Widgets/WorkspaceClone.vala"
	g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _gala_workspace_clone_window_left_monitor_meta_display_window_left_monitor, self);
#line 242 "../src/Widgets/WorkspaceClone.vala"
	_tmp6_ = self->priv->_workspace;
#line 242 "../src/Widgets/WorkspaceClone.vala"
	g_signal_parse_name ("window-added", meta_workspace_get_type (), &_tmp7_, NULL, FALSE);
#line 242 "../src/Widgets/WorkspaceClone.vala"
	g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _gala_workspace_clone_add_window_meta_workspace_window_added, self);
#line 243 "../src/Widgets/WorkspaceClone.vala"
	_tmp8_ = self->priv->_workspace;
#line 243 "../src/Widgets/WorkspaceClone.vala"
	g_signal_parse_name ("window-removed", meta_workspace_get_type (), &_tmp9_, NULL, FALSE);
#line 243 "../src/Widgets/WorkspaceClone.vala"
	g_signal_handlers_disconnect_matched (_tmp8_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp9_, 0, NULL, (GCallback) _gala_workspace_clone_remove_window_meta_workspace_window_removed, self);
#line 245 "../src/Widgets/WorkspaceClone.vala"
	_tmp10_ = gala_window_listener_get_default ();
#line 245 "../src/Widgets/WorkspaceClone.vala"
	_tmp11_ = _g_object_ref0 (_tmp10_);
#line 245 "../src/Widgets/WorkspaceClone.vala"
	listener = _tmp11_;
#line 246 "../src/Widgets/WorkspaceClone.vala"
	_tmp12_ = listener;
#line 246 "../src/Widgets/WorkspaceClone.vala"
	g_signal_parse_name ("window-no-longer-on-all-workspaces", GALA_TYPE_WINDOW_LISTENER, &_tmp13_, NULL, FALSE);
#line 246 "../src/Widgets/WorkspaceClone.vala"
	g_signal_handlers_disconnect_matched (_tmp12_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp13_, 0, NULL, (GCallback) _gala_workspace_clone_add_window_gala_window_listener_window_no_longer_on_all_workspaces, self);
#line 248 "../src/Widgets/WorkspaceClone.vala"
	_tmp14_ = self->priv->background;
#line 248 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_destroy ((ClutterActor*) _tmp14_);
#line 249 "../src/Widgets/WorkspaceClone.vala"
	_tmp15_ = self->priv->_window_container;
#line 249 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_destroy ((ClutterActor*) _tmp15_);
#line 250 "../src/Widgets/WorkspaceClone.vala"
	_tmp16_ = self->priv->_icon_group;
#line 250 "../src/Widgets/WorkspaceClone.vala"
	clutter_actor_destroy ((ClutterActor*) _tmp16_);
#line 104 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (listener);
#line 141 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->_wm);
#line 142 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->_workspace);
#line 143 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->_gesture_tracker);
#line 144 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->_icon_group);
#line 145 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->_window_container);
#line 160 "../src/Widgets/WorkspaceClone.vala"
	_g_object_unref0 (self->priv->background);
#line 104 "../src/Widgets/WorkspaceClone.vala"
	G_OBJECT_CLASS (gala_workspace_clone_parent_class)->finalize (obj);
#line 3341 "WorkspaceClone.c"
}

/**
     * This is the container which manages a clone of the background which will
     * be scaled and animated inwards, a WindowCloneContainer for the windows on
     * this workspace and also holds the instance for this workspace's IconGroup.
     * The latter is not added to the WorkspaceClone itself though but to a container
     * of the MultitaskingView.
     */
 G_GNUC_NO_INLINE static GType
gala_workspace_clone_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaWorkspaceCloneClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_workspace_clone_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaWorkspaceClone), 0, (GInstanceInitFunc) gala_workspace_clone_instance_init, NULL };
	GType gala_workspace_clone_type_id;
	gala_workspace_clone_type_id = g_type_register_static (clutter_actor_get_type (), "GalaWorkspaceClone", &g_define_type_info, 0);
	GalaWorkspaceClone_private_offset = g_type_add_instance_private (gala_workspace_clone_type_id, sizeof (GalaWorkspaceClonePrivate));
	return gala_workspace_clone_type_id;
}

GType
gala_workspace_clone_get_type (void)
{
	static gsize gala_workspace_clone_type_id__once = 0;
	if (g_once_init_enter (&gala_workspace_clone_type_id__once)) {
		GType gala_workspace_clone_type_id;
		gala_workspace_clone_type_id = gala_workspace_clone_get_type_once ();
		g_once_init_leave (&gala_workspace_clone_type_id__once, gala_workspace_clone_type_id);
	}
	return gala_workspace_clone_type_id__once;
}

static void
_vala_gala_workspace_clone_get_property (GObject * object,
                                         guint property_id,
                                         GValue * value,
                                         GParamSpec * pspec)
{
	GalaWorkspaceClone * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 104 "../src/Widgets/WorkspaceClone.vala"
	switch (property_id) {
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_WM_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		g_value_set_object (value, gala_workspace_clone_get_wm (self));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_WORKSPACE_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		g_value_set_object (value, gala_workspace_clone_get_workspace (self));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_GESTURE_TRACKER_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		g_value_set_object (value, gala_workspace_clone_get_gesture_tracker (self));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_ICON_GROUP_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		g_value_set_object (value, gala_workspace_clone_get_icon_group (self));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_WINDOW_CONTAINER_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		g_value_set_object (value, gala_workspace_clone_get_window_container (self));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_SCALE_FACTOR_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		g_value_set_float (value, gala_workspace_clone_get_scale_factor (self));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 3419 "WorkspaceClone.c"
		default:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 3425 "WorkspaceClone.c"
	}
}

static void
_vala_gala_workspace_clone_set_property (GObject * object,
                                         guint property_id,
                                         const GValue * value,
                                         GParamSpec * pspec)
{
	GalaWorkspaceClone * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 104 "../src/Widgets/WorkspaceClone.vala"
	switch (property_id) {
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_WM_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_set_wm (self, g_value_get_object (value));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_WORKSPACE_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_set_workspace (self, g_value_get_object (value));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_GESTURE_TRACKER_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_set_gesture_tracker (self, g_value_get_object (value));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_ICON_GROUP_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_set_icon_group (self, g_value_get_object (value));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_WINDOW_CONTAINER_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_set_window_container (self, g_value_get_object (value));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 104 "../src/Widgets/WorkspaceClone.vala"
		case GALA_WORKSPACE_CLONE_SCALE_FACTOR_PROPERTY:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		gala_workspace_clone_set_scale_factor (self, g_value_get_float (value));
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 3475 "WorkspaceClone.c"
		default:
#line 104 "../src/Widgets/WorkspaceClone.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 104 "../src/Widgets/WorkspaceClone.vala"
		break;
#line 3481 "WorkspaceClone.c"
	}
}

