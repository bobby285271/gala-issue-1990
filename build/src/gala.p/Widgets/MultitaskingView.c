/* MultitaskingView.c generated by valac 0.56.17, the Vala compiler
 * generated from MultitaskingView.vala, do not modify */

/**/
/*  Copyright (C) 2014 Tom Beckmann*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <clutter/clutter.h>
#include "gala.h"
#include <glib-object.h>
#include <meta/display.h>
#include <glib.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>
#include <meta/window.h>
#include <mtk/mtk.h>
#include <float.h>
#include <math.h>
#include <meta/meta-workspace-manager.h>
#include <meta/common.h>
#include <meta/workspace.h>
#include <meta/meta-plugin.h>
#include <meta/keybindings.h>
#include <meta/meta-background-group.h>
#include <meta/meta-window-actor.h>
#include <meta/compositor-mutter.h>
#include <meta/prefs.h>
#include <meta/meta-monitor-manager.h>
#include <meta/meta-context.h>
#include <meta/meta-backend.h>

#define GALA_MULTITASKING_VIEW_ANIMATION_DURATION 250
#define GALA_MULTITASKING_VIEW_OPEN_MULTITASKING_VIEW "dbus-send --session --dest=org.pantheon.gala --print-reply /org/panthe" \
"on/gala org.pantheon.gala.PerformAction int32:1"
#define GALA_WINDOW_MANAGER_GALA_NUDGE_GAP 32
#define GALA_ICON_GROUP_CONTAINER_SPACING 48
#define GALA_ICON_GROUP_SIZE 64
#define GALA_WORKSPACE_CLONE_BOTTOM_OFFSET 100
#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_MULTITASKING_VIEW (gala_multitasking_view_get_type ())
#define GALA_MULTITASKING_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView))
#define GALA_MULTITASKING_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingViewClass))
#define GALA_IS_MULTITASKING_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_MULTITASKING_VIEW))
#define GALA_IS_MULTITASKING_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_MULTITASKING_VIEW))
#define GALA_MULTITASKING_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingViewClass))

typedef struct _GalaMultitaskingView GalaMultitaskingView;
typedef struct _GalaMultitaskingViewClass GalaMultitaskingViewClass;
typedef struct _GalaMultitaskingViewPrivate GalaMultitaskingViewPrivate;

#define GALA_TYPE_GESTURE_TRACKER (gala_gesture_tracker_get_type ())
#define GALA_GESTURE_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE_TRACKER, GalaGestureTracker))
#define GALA_GESTURE_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE_TRACKER, GalaGestureTrackerClass))
#define GALA_IS_GESTURE_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE_TRACKER))
#define GALA_IS_GESTURE_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE_TRACKER))
#define GALA_GESTURE_TRACKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE_TRACKER, GalaGestureTrackerClass))

typedef struct _GalaGestureTracker GalaGestureTracker;
typedef struct _GalaGestureTrackerClass GalaGestureTrackerClass;

#define GALA_TYPE_MONITOR_CLONE (gala_monitor_clone_get_type ())
#define GALA_MONITOR_CLONE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_MONITOR_CLONE, GalaMonitorClone))
#define GALA_MONITOR_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_MONITOR_CLONE, GalaMonitorCloneClass))
#define GALA_IS_MONITOR_CLONE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_MONITOR_CLONE))
#define GALA_IS_MONITOR_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_MONITOR_CLONE))
#define GALA_MONITOR_CLONE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_MONITOR_CLONE, GalaMonitorCloneClass))

typedef struct _GalaMonitorClone GalaMonitorClone;
typedef struct _GalaMonitorCloneClass GalaMonitorCloneClass;

#define GALA_TYPE_ICON_GROUP_CONTAINER (gala_icon_group_container_get_type ())
#define GALA_ICON_GROUP_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_ICON_GROUP_CONTAINER, GalaIconGroupContainer))
#define GALA_ICON_GROUP_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_ICON_GROUP_CONTAINER, GalaIconGroupContainerClass))
#define GALA_IS_ICON_GROUP_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_ICON_GROUP_CONTAINER))
#define GALA_IS_ICON_GROUP_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_ICON_GROUP_CONTAINER))
#define GALA_ICON_GROUP_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_ICON_GROUP_CONTAINER, GalaIconGroupContainerClass))

typedef struct _GalaIconGroupContainer GalaIconGroupContainer;
typedef struct _GalaIconGroupContainerClass GalaIconGroupContainerClass;
enum  {
	GALA_MULTITASKING_VIEW_0_PROPERTY,
	GALA_MULTITASKING_VIEW_WM_PROPERTY,
	GALA_MULTITASKING_VIEW_NUM_PROPERTIES
};
static GParamSpec* gala_multitasking_view_properties[GALA_MULTITASKING_VIEW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define GALA_TYPE_WORKSPACE_CLONE (gala_workspace_clone_get_type ())
#define GALA_WORKSPACE_CLONE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone))
#define GALA_WORKSPACE_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceCloneClass))
#define GALA_IS_WORKSPACE_CLONE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WORKSPACE_CLONE))
#define GALA_IS_WORKSPACE_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WORKSPACE_CLONE))
#define GALA_WORKSPACE_CLONE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceCloneClass))

typedef struct _GalaWorkspaceClone GalaWorkspaceClone;
typedef struct _GalaWorkspaceCloneClass GalaWorkspaceCloneClass;

#define GALA_TYPE_ICON_GROUP (gala_icon_group_get_type ())
#define GALA_ICON_GROUP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_ICON_GROUP, GalaIconGroup))
#define GALA_ICON_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_ICON_GROUP, GalaIconGroupClass))
#define GALA_IS_ICON_GROUP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_ICON_GROUP))
#define GALA_IS_ICON_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_ICON_GROUP))
#define GALA_ICON_GROUP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_ICON_GROUP, GalaIconGroupClass))

typedef struct _GalaIconGroup GalaIconGroup;
typedef struct _GalaIconGroupClass GalaIconGroupClass;

#define GALA_TYPE_GESTURE (gala_gesture_get_type ())
#define GALA_GESTURE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE, GalaGesture))
#define GALA_GESTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE, GalaGestureClass))
#define GALA_IS_GESTURE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE))
#define GALA_IS_GESTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE))
#define GALA_GESTURE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE, GalaGestureClass))

typedef struct _GalaGesture GalaGesture;
typedef struct _GalaGestureClass GalaGestureClass;
typedef struct _GalaGesturePrivate GalaGesturePrivate;
typedef enum  {
	GALA_GESTURE_DIRECTION_UNKNOWN = 0,
	GALA_GESTURE_DIRECTION_UP = 1,
	GALA_GESTURE_DIRECTION_DOWN = 2,
	GALA_GESTURE_DIRECTION_LEFT = 3,
	GALA_GESTURE_DIRECTION_RIGHT = 4,
	GALA_GESTURE_DIRECTION_IN = 5,
	GALA_GESTURE_DIRECTION_OUT = 6
} GalaGestureDirection;

#define GALA_TYPE_GESTURE_DIRECTION (gala_gesture_direction_get_type ())
#define _g_free0(var) (var = (g_free (var), NULL))

#define GALA_TYPE_GESTURE_SETTINGS (gala_gesture_settings_get_type ())
#define GALA_GESTURE_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_GESTURE_SETTINGS, GalaGestureSettings))
#define GALA_GESTURE_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_GESTURE_SETTINGS, GalaGestureSettingsClass))
#define GALA_IS_GESTURE_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_GESTURE_SETTINGS))
#define GALA_IS_GESTURE_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_GESTURE_SETTINGS))
#define GALA_GESTURE_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_GESTURE_SETTINGS, GalaGestureSettingsClass))

typedef struct _GalaGestureSettings GalaGestureSettings;
typedef struct _GalaGestureSettingsClass GalaGestureSettingsClass;
typedef struct _Block64Data Block64Data;
typedef void (*GalaGestureTrackerOnUpdate) (gdouble percentage, gpointer user_data);
typedef void (*GalaGestureTrackerOnEnd) (gdouble percentage, gboolean cancel_action, gint calculated_duration, gpointer user_data);
typedef void (*GalaGestureTrackerOnBegin) (gdouble percentage, gpointer user_data);

#define GALA_TYPE_WINDOW_CLONE_CONTAINER (gala_window_clone_container_get_type ())
#define GALA_WINDOW_CLONE_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_CLONE_CONTAINER, GalaWindowCloneContainer))
#define GALA_WINDOW_CLONE_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_CLONE_CONTAINER, GalaWindowCloneContainerClass))
#define GALA_IS_WINDOW_CLONE_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_CLONE_CONTAINER))
#define GALA_IS_WINDOW_CLONE_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_CLONE_CONTAINER))
#define GALA_WINDOW_CLONE_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_CLONE_CONTAINER, GalaWindowCloneContainerClass))

typedef struct _GalaWindowCloneContainer GalaWindowCloneContainer;
typedef struct _GalaWindowCloneContainerClass GalaWindowCloneContainerClass;
typedef struct _Block65Data Block65Data;
typedef struct _Block66Data Block66Data;
typedef struct _Block67Data Block67Data;

#define GALA_TYPE_SAFE_WINDOW_CLONE (gala_safe_window_clone_get_type ())
#define GALA_SAFE_WINDOW_CLONE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SAFE_WINDOW_CLONE, GalaSafeWindowClone))
#define GALA_SAFE_WINDOW_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SAFE_WINDOW_CLONE, GalaSafeWindowCloneClass))
#define GALA_IS_SAFE_WINDOW_CLONE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SAFE_WINDOW_CLONE))
#define GALA_IS_SAFE_WINDOW_CLONE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SAFE_WINDOW_CLONE))
#define GALA_SAFE_WINDOW_CLONE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SAFE_WINDOW_CLONE, GalaSafeWindowCloneClass))

typedef struct _GalaSafeWindowClone GalaSafeWindowClone;
typedef struct _GalaSafeWindowCloneClass GalaSafeWindowCloneClass;
typedef struct _Block68Data Block68Data;
typedef struct _Block69Data Block69Data;
typedef struct _Block70Data Block70Data;

#define GALA_TYPE_BACKGROUND_MANAGER (gala_background_manager_get_type ())
#define GALA_BACKGROUND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManager))
#define GALA_BACKGROUND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManagerClass))
#define GALA_IS_BACKGROUND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BACKGROUND_MANAGER))
#define GALA_IS_BACKGROUND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BACKGROUND_MANAGER))
#define GALA_BACKGROUND_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManagerClass))

typedef struct _GalaBackgroundManager GalaBackgroundManager;
typedef struct _GalaBackgroundManagerClass GalaBackgroundManagerClass;

#define GALA_TYPE_BLUR_EFFECT (gala_blur_effect_get_type ())
#define GALA_BLUR_EFFECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BLUR_EFFECT, GalaBlurEffect))
#define GALA_BLUR_EFFECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BLUR_EFFECT, GalaBlurEffectClass))
#define GALA_IS_BLUR_EFFECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BLUR_EFFECT))
#define GALA_IS_BLUR_EFFECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BLUR_EFFECT))
#define GALA_BLUR_EFFECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BLUR_EFFECT, GalaBlurEffectClass))

typedef struct _GalaBlurEffect GalaBlurEffect;
typedef struct _GalaBlurEffectClass GalaBlurEffectClass;

struct _GalaMultitaskingView {
	ClutterActor parent_instance;
	GalaMultitaskingViewPrivate * priv;
};

struct _GalaMultitaskingViewClass {
	ClutterActorClass parent_class;
};

struct _GalaMultitaskingViewPrivate {
	GalaGestureTracker* multitasking_gesture_tracker;
	GalaGestureTracker* workspace_gesture_tracker;
	GalaWindowManager* _wm;
	MetaDisplay* display;
	GalaModalProxy* modal_proxy;
	gboolean opened;
	gboolean animating;
	GList* window_containers_monitors;
	GalaIconGroupContainer* icon_groups;
	ClutterActor* workspaces;
	ClutterActor* dock_clones;
	ClutterActor* primary_monitor_container;
	ClutterBrightnessContrastEffect* brightness_effect;
	GSettings* gala_behavior_settings;
	GalaDrawingStyleManager* style_manager;
	gboolean switching_workspace_with_gesture;
};

struct _GalaGesture {
	GTypeInstance parent_instance;
	volatile int ref_count;
	GalaGesturePrivate * priv;
	ClutterEventType type;
	GalaGestureDirection direction;
	gint fingers;
	ClutterInputDeviceType performed_on_device_type;
};

struct _GalaGestureClass {
	GTypeClass parent_class;
	void (*finalize) (GalaGesture *self);
};

struct _Block64Data {
	int _ref_count_;
	GalaMultitaskingView* self;
	MetaWorkspace* active_workspace;
	gfloat initial_x;
	gfloat target_x;
	gboolean is_nudge_animation;
	gint nudge_gap;
	GalaIconGroup* active_icon_group;
	GalaIconGroup* target_icon_group;
};

struct _Block65Data {
	int _ref_count_;
	GalaMultitaskingView* self;
	gboolean opening;
};

struct _Block66Data {
	int _ref_count_;
	Block65Data * _data65_;
	gboolean cancel_action;
};

struct _Block67Data {
	int _ref_count_;
	GalaMultitaskingView* self;
	gboolean is_cancel_animation;
};

struct _Block68Data {
	int _ref_count_;
	Block67Data * _data67_;
	gfloat initial_y;
	gfloat target_y;
	GalaSafeWindowClone* clone;
};

struct _Block69Data {
	int _ref_count_;
	GalaMultitaskingView* self;
	ClutterClone* dock;
	gfloat initial_y;
	gfloat target_y;
};

struct _Block70Data {
	int _ref_count_;
	GalaMultitaskingView* self;
	MetaWorkspaceManager* manager;
};

static gint GalaMultitaskingView_private_offset;
static gpointer gala_multitasking_view_parent_class = NULL;
static GalaActivatableComponentIface * gala_multitasking_view_gala_activatable_component_parent_iface = NULL;

VALA_EXTERN GType gala_multitasking_view_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaMultitaskingView, g_object_unref)
VALA_EXTERN GType gala_gesture_tracker_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGestureTracker, g_object_unref)
VALA_EXTERN GType gala_monitor_clone_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaMonitorClone, g_object_unref)
VALA_EXTERN GType gala_icon_group_container_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaIconGroupContainer, g_object_unref)
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
VALA_EXTERN GalaMultitaskingView* gala_multitasking_view_new (GalaWindowManager* wm);
VALA_EXTERN GalaMultitaskingView* gala_multitasking_view_construct (GType object_type,
                                                        GalaWindowManager* wm);
static void gala_multitasking_view_update_brightness_effect (GalaMultitaskingView* self);
static void gala_multitasking_view_update_monitors (GalaMultitaskingView* self);
static void gala_multitasking_view_update_workspaces (GalaMultitaskingView* self);
VALA_EXTERN gboolean gala_internal_utils_workspaces_only_on_primary (void);
VALA_EXTERN GalaWindowManager* gala_multitasking_view_get_wm (GalaMultitaskingView* self);
VALA_EXTERN GalaMonitorClone* gala_monitor_clone_new (GalaWindowManager* wm,
                                          MetaDisplay* display,
                                          gint monitor,
                                          GalaGestureTracker* gesture_tracker);
VALA_EXTERN GalaMonitorClone* gala_monitor_clone_construct (GType object_type,
                                                GalaWindowManager* wm,
                                                MetaDisplay* display,
                                                gint monitor,
                                                GalaGestureTracker* gesture_tracker);
static void gala_multitasking_view_window_selected (GalaMultitaskingView* self,
                                             MetaWindow* window);
static void _gala_multitasking_view_window_selected_gala_monitor_clone_window_selected (GalaMonitorClone* _sender,
                                                                                 MetaWindow* window,
                                                                                 gpointer self);
VALA_EXTERN void gala_icon_group_container_set_scale_factor (GalaIconGroupContainer* self,
                                                 gfloat value);
VALA_EXTERN GType gala_workspace_clone_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWorkspaceClone, g_object_unref)
VALA_EXTERN void gala_workspace_clone_set_scale_factor (GalaWorkspaceClone* self,
                                            gfloat value);
VALA_EXTERN void gala_workspace_clone_update_size (GalaWorkspaceClone* self,
                                       MtkRectangle* monitor_geometry);
VALA_EXTERN GType gala_icon_group_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaIconGroup, g_object_unref)
VALA_EXTERN void gala_icon_group_container_remove_group (GalaIconGroupContainer* self,
                                             GalaIconGroup* group);
VALA_EXTERN GalaIconGroup* gala_workspace_clone_get_icon_group (GalaWorkspaceClone* self);
static void gala_multitasking_view_add_workspace (GalaMultitaskingView* self,
                                           gint num);
static gboolean gala_multitasking_view_real_scroll_event (ClutterActor* base,
                                                   ClutterEvent* scroll_event);
VALA_EXTERN void gala_multitasking_view_play_nudge_animation (GalaMultitaskingView* self,
                                                  MetaMotionDirection direction);
VALA_EXTERN gint gala_internal_utils_scale_to_int (gint value,
                                       gfloat scale_factor);
static void _vala_GValue_array_free (GValue * array,
                              gssize array_length);
VALA_EXTERN gpointer gala_gesture_ref (gpointer instance);
VALA_EXTERN void gala_gesture_unref (gpointer instance);
VALA_EXTERN GParamSpec* gala_param_spec_gesture (const gchar* name,
                                     const gchar* nick,
                                     const gchar* blurb,
                                     GType object_type,
                                     GParamFlags flags);
VALA_EXTERN void gala_value_set_gesture (GValue* value,
                             gpointer v_object);
VALA_EXTERN void gala_value_take_gesture (GValue* value,
                              gpointer v_object);
VALA_EXTERN gpointer gala_value_get_gesture (const GValue* value);
VALA_EXTERN GType gala_gesture_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGesture, gala_gesture_unref)
static void gala_multitasking_view_on_multitasking_gesture_detected (GalaMultitaskingView* self,
                                                              GalaGesture* gesture);
VALA_EXTERN GType gala_gesture_direction_get_type (void) G_GNUC_CONST ;
VALA_EXTERN gchar* gala_gesture_settings_get_string (const gchar* setting_id);
static void gala_multitasking_view_toggle (GalaMultitaskingView* self,
                                    gboolean with_gesture,
                                    gboolean is_cancel_animation);
static void gala_multitasking_view_on_workspace_gesture_detected (GalaMultitaskingView* self,
                                                           GalaGesture* gesture);
VALA_EXTERN GType gala_gesture_settings_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaGestureSettings, g_object_unref)
VALA_EXTERN GalaGestureSettings* gala_gesture_tracker_get_settings (GalaGestureTracker* self);
VALA_EXTERN MetaMotionDirection* gala_gesture_settings_get_natural_scroll_direction (GalaGestureSettings* self,
                                                                         GalaGesture* gesture);
static void gala_multitasking_view_switch_workspace_with_gesture (GalaMultitaskingView* self,
                                                           MetaMotionDirection direction);
static Block64Data* block64_data_ref (Block64Data* _data64_);
static void block64_data_unref (void * _userdata_);
static gboolean gala_multitasking_view_get_switching_workspace_in_progress (GalaMultitaskingView* self);
VALA_EXTERN void gala_internal_utils_get_workspaces_geometry (MetaDisplay* display,
                                                  MtkRectangle* result);
VALA_EXTERN MetaWorkspace* gala_workspace_clone_get_workspace (GalaWorkspaceClone* self);
VALA_EXTERN gfloat gala_workspace_clone_multitasking_view_x (GalaWorkspaceClone* self);
static void __lambda72_ (Block64Data* _data64_,
                  gdouble percentage);
VALA_EXTERN gfloat gala_gesture_tracker_animation_value (gfloat initial_value,
                                             gfloat target_value,
                                             gdouble percentage,
                                             gboolean rounded);
VALA_EXTERN void gala_icon_group_set_backdrop_opacity (GalaIconGroup* self,
                                           gfloat value);
static void ___lambda72__gala_gesture_tracker_on_update (gdouble percentage,
                                                  gpointer self);
static void __lambda73_ (Block64Data* _data64_,
                  gdouble percentage,
                  gboolean cancel_action,
                  gint calculated_duration);
VALA_EXTERN gfloat gala_icon_group_get_backdrop_opacity (GalaIconGroup* self);
static void ___lambda73__gala_gesture_tracker_on_end (gdouble percentage,
                                               gboolean cancel_action,
                                               gint calculated_duration,
                                               gpointer self);
VALA_EXTERN void gala_gesture_tracker_connect_handlers (GalaGestureTracker* self,
                                            GalaGestureTrackerOnBegin on_begin_handler,
                                            gpointer on_begin_handler_target,
                                            GDestroyNotify on_begin_handler_target_destroy_notify,
                                            GalaGestureTrackerOnUpdate on_update_handler,
                                            gpointer on_update_handler_target,
                                            GDestroyNotify on_update_handler_target_destroy_notify,
                                            GalaGestureTrackerOnEnd on_end_handler,
                                            gpointer on_end_handler_target,
                                            GDestroyNotify on_end_handler_target_destroy_notify);
static void gala_multitasking_view_update_positions (GalaMultitaskingView* self,
                                              gboolean animate);
static void gala_multitasking_view_reposition_icon_groups (GalaMultitaskingView* self,
                                                    gboolean animate);
VALA_EXTERN gfloat gala_icon_group_container_calculate_total_width (GalaIconGroupContainer* self);
VALA_EXTERN GalaWorkspaceClone* gala_workspace_clone_new (GalaWindowManager* wm,
                                              MetaWorkspace* workspace,
                                              GalaGestureTracker* gesture_tracker,
                                              gfloat scale);
VALA_EXTERN GalaWorkspaceClone* gala_workspace_clone_construct (GType object_type,
                                                    GalaWindowManager* wm,
                                                    MetaWorkspace* workspace,
                                                    GalaGestureTracker* gesture_tracker,
                                                    gfloat scale);
VALA_EXTERN void gala_icon_group_container_add_group (GalaIconGroupContainer* self,
                                          GalaIconGroup* group);
static void _gala_multitasking_view_window_selected_gala_workspace_clone_window_selected (GalaWorkspaceClone* _sender,
                                                                                   MetaWindow* window,
                                                                                   gpointer self);
static void gala_multitasking_view_activate_workspace (GalaMultitaskingView* self,
                                                GalaWorkspaceClone* clone,
                                                gboolean close_view);
static void _gala_multitasking_view_activate_workspace_gala_workspace_clone_selected (GalaWorkspaceClone* _sender,
                                                                               gboolean close_view,
                                                                               gpointer self);
VALA_EXTERN void gala_workspace_clone_open (GalaWorkspaceClone* self,
                                gboolean with_gesture,
                                gboolean is_cancel_animation);
static void gala_multitasking_view_remove_workspace (GalaMultitaskingView* self,
                                              gint num);
static gboolean gala_multitasking_view_real_key_press_event (ClutterActor* base,
                                                      ClutterEvent* event);
VALA_EXTERN GType gala_window_clone_container_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowCloneContainer, g_object_unref)
static GalaWindowCloneContainer* gala_multitasking_view_get_active_window_clone_container (GalaMultitaskingView* self);
VALA_EXTERN GalaWindowCloneContainer* gala_workspace_clone_get_window_container (GalaWorkspaceClone* self);
static gboolean gala_multitasking_view_real_is_opened (GalaActivatableComponent* base);
static void gala_multitasking_view_real_open (GalaActivatableComponent* base,
                                       GHashTable* hints);
static void gala_multitasking_view_real_close (GalaActivatableComponent* base,
                                        GHashTable* hints);
static Block65Data* block65_data_ref (Block65Data* _data65_);
static void block65_data_unref (void * _userdata_);
VALA_EXTERN void gala_monitor_clone_open (GalaMonitorClone* self,
                              gboolean with_gesture,
                              gboolean is_cancel_animation);
VALA_EXTERN void gala_monitor_clone_close (GalaMonitorClone* self,
                               gboolean with_gesture,
                               gboolean is_cancel_animation);
static gboolean gala_multitasking_view_keybinding_filter (GalaMultitaskingView* self,
                                                   MetaKeyBinding* binding);
static gboolean _gala_multitasking_view_keybinding_filter_gala_keybinding_filter (MetaKeyBinding* binding,
                                                                           gpointer self);
VALA_EXTERN void gala_icon_group_container_force_reposition (GalaIconGroupContainer* self);
VALA_EXTERN void gala_workspace_clone_close (GalaWorkspaceClone* self,
                                 gboolean with_gesture,
                                 gboolean is_cancel_animation);
static void gala_multitasking_view_show_docks (GalaMultitaskingView* self,
                                        gboolean with_gesture,
                                        gboolean is_cancel_animation);
static void gala_multitasking_view_hide_docks (GalaMultitaskingView* self,
                                        gboolean with_gesture,
                                        gboolean is_cancel_animation);
static void __lambda70_ (Block65Data* _data65_,
                  gdouble percentage,
                  gboolean cancel_action);
static Block66Data* block66_data_ref (Block66Data* _data66_);
static void block66_data_unref (void * _userdata_);
static gboolean __lambda71_ (Block66Data* _data66_);
static gboolean ___lambda71__gsource_func (gpointer self);
static void ___lambda70__gala_gesture_tracker_on_end (gdouble percentage,
                                               gboolean cancel_action,
                                               gint calculated_duration,
                                               gpointer self);
static Block67Data* block67_data_ref (Block67Data* _data67_);
static void block67_data_unref (void * _userdata_);
VALA_EXTERN GType gala_safe_window_clone_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaSafeWindowClone, g_object_unref)
static Block68Data* block68_data_ref (Block68Data* _data68_);
static void block68_data_unref (void * _userdata_);
VALA_EXTERN GalaSafeWindowClone* gala_safe_window_clone_new (MetaWindow* window,
                                                 gboolean destroy_on_unmanaged);
VALA_EXTERN GalaSafeWindowClone* gala_safe_window_clone_construct (GType object_type,
                                                       MetaWindow* window,
                                                       gboolean destroy_on_unmanaged);
static void ____lambda66_ (Block68Data* _data68_,
                    gdouble percentage);
static void _____lambda66__gala_gesture_tracker_on_update (gdouble percentage,
                                                    gpointer self);
static void ____lambda67_ (Block68Data* _data68_,
                    gdouble percentage,
                    gboolean cancel_action);
static void _____lambda67__gala_gesture_tracker_on_end (gdouble percentage,
                                                 gboolean cancel_action,
                                                 gint calculated_duration,
                                                 gpointer self);
static Block69Data* block69_data_ref (Block69Data* _data69_);
static void block69_data_unref (void * _userdata_);
static void ____lambda68_ (Block69Data* _data69_,
                    gdouble percentage);
static void _____lambda68__gala_gesture_tracker_on_update (gdouble percentage,
                                                    gpointer self);
static void ____lambda69_ (Block69Data* _data69_,
                    gdouble percentage,
                    gboolean cancel_action);
static void _____lambda69__gala_gesture_tracker_on_end (gdouble percentage,
                                                 gboolean cancel_action,
                                                 gint calculated_duration,
                                                 gpointer self);
static void gala_multitasking_view_set_wm (GalaMultitaskingView* self,
                                    GalaWindowManager* value);
static GObject * gala_multitasking_view_constructor (GType type,
                                              guint n_construct_properties,
                                              GObjectConstructParam * construct_properties);
static Block70Data* block70_data_ref (Block70Data* _data70_);
static void block70_data_unref (void * _userdata_);
VALA_EXTERN GalaGestureTracker* gala_gesture_tracker_new (gint min_animation_duration,
                                              gint max_animation_duration);
VALA_EXTERN GalaGestureTracker* gala_gesture_tracker_construct (GType object_type,
                                                    gint min_animation_duration,
                                                    gint max_animation_duration);
VALA_EXTERN void gala_gesture_tracker_enable_touchpad (GalaGestureTracker* self);
static void _gala_multitasking_view_on_multitasking_gesture_detected_gala_gesture_tracker_on_gesture_detected (GalaGestureTracker* _sender,
                                                                                                        GalaGesture* gesture,
                                                                                                        gpointer self);
VALA_EXTERN void gala_gesture_tracker_enable_scroll (GalaGestureTracker* self,
                                         ClutterActor* actor,
                                         ClutterOrientation orientation);
static void _gala_multitasking_view_on_workspace_gesture_detected_gala_gesture_tracker_on_gesture_detected (GalaGestureTracker* _sender,
                                                                                                     GalaGesture* gesture,
                                                                                                     gpointer self);
VALA_EXTERN GalaIconGroupContainer* gala_icon_group_container_new (GalaWindowManager* wm,
                                                       gfloat scale);
VALA_EXTERN GalaIconGroupContainer* gala_icon_group_container_construct (GType object_type,
                                                             GalaWindowManager* wm,
                                                             gfloat scale);
VALA_EXTERN GType gala_background_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBackgroundManager, g_object_unref)
VALA_EXTERN GalaBackgroundManager* gala_background_manager_new (GalaWindowManager* wm,
                                                    gint monitor_index,
                                                    gboolean control_position);
VALA_EXTERN GalaBackgroundManager* gala_background_manager_construct (GType object_type,
                                                          GalaWindowManager* wm,
                                                          gint monitor_index,
                                                          gboolean control_position);
VALA_EXTERN GalaBlurEffect* gala_blur_effect_new (ClutterActor* actor,
                                      gfloat radius);
VALA_EXTERN GalaBlurEffect* gala_blur_effect_construct (GType object_type,
                                            ClutterActor* actor,
                                            gfloat radius);
VALA_EXTERN GType gala_blur_effect_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBlurEffect, g_object_unref)
static void _gala_multitasking_view_add_workspace_meta_workspace_manager_workspace_added (MetaWorkspaceManager* _sender,
                                                                                   gint object,
                                                                                   gpointer self);
static void _gala_multitasking_view_remove_workspace_meta_workspace_manager_workspace_removed (MetaWorkspaceManager* _sender,
                                                                                        gint object,
                                                                                        gpointer self);
static void _gala_multitasking_view___lambda74_ (GalaMultitaskingView* self);
static void __gala_multitasking_view___lambda74__meta_workspace_manager_workspaces_reordered (MetaWorkspaceManager* _sender,
                                                                                       gpointer self);
static void _gala_multitasking_view___lambda75_ (GalaMultitaskingView* self,
                                          gint from,
                                          gint to,
                                          MetaMotionDirection direction);
static void __gala_multitasking_view___lambda75__meta_workspace_manager_workspace_switched (MetaWorkspaceManager* _sender,
                                                                                     gint object,
                                                                                     gint p0,
                                                                                     MetaMotionDirection p1,
                                                                                     gpointer self);
static void _gala_multitasking_view_update_monitors_meta_monitor_manager_monitors_changed (MetaMonitorManager* _sender,
                                                                                    gpointer self);
static void _gala_multitasking_view___lambda76_ (Block70Data* _data70_,
                                          MetaPreference pref);
static gboolean __lambda77_ (Block70Data* _data70_);
static gboolean ___lambda77__gsource_func (gpointer self);
static void __gala_multitasking_view___lambda76__meta_prefs_changed_func (MetaPreference pref,
                                                                   gpointer self);
static void _gala_multitasking_view_update_brightness_effect_g_object_notify (GObject* _sender,
                                                                       GParamSpec* pspec,
                                                                       gpointer self);
static void gala_multitasking_view_finalize (GObject * obj);
static GType gala_multitasking_view_get_type_once (void);
static void _vala_gala_multitasking_view_get_property (GObject * object,
                                                guint property_id,
                                                GValue * value,
                                                GParamSpec * pspec);
static void _vala_gala_multitasking_view_set_property (GObject * object,
                                                guint property_id,
                                                const GValue * value,
                                                GParamSpec * pspec);

static inline gpointer
gala_multitasking_view_get_instance_private (GalaMultitaskingView* self)
{
	return G_STRUCT_MEMBER_P (self, GalaMultitaskingView_private_offset);
}

static void
_g_object_unref0_ (gpointer var)
{
#line 38 "../src/Widgets/MultitaskingView.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 645 "MultitaskingView.c"
}

static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 38 "../src/Widgets/MultitaskingView.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 653 "MultitaskingView.c"
}

GalaMultitaskingView*
gala_multitasking_view_construct (GType object_type,
                                  GalaWindowManager* wm)
{
	GalaMultitaskingView * self = NULL;
#line 56 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (wm != NULL, NULL);
#line 57 "../src/Widgets/MultitaskingView.vala"
	self = (GalaMultitaskingView*) g_object_new (object_type, "wm", wm, NULL);
#line 56 "../src/Widgets/MultitaskingView.vala"
	return self;
#line 667 "MultitaskingView.c"
}

GalaMultitaskingView*
gala_multitasking_view_new (GalaWindowManager* wm)
{
#line 56 "../src/Widgets/MultitaskingView.vala"
	return gala_multitasking_view_construct (GALA_TYPE_MULTITASKING_VIEW, wm);
#line 675 "MultitaskingView.c"
}

static void
gala_multitasking_view_update_brightness_effect (GalaMultitaskingView* self)
{
	GalaDrawingStyleManager* _tmp0_;
	GalaDrawingStyleManagerColorScheme _tmp1_;
	GalaDrawingStyleManagerColorScheme _tmp2_;
#line 156 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 157 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->style_manager;
#line 157 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = gala_drawing_style_manager_get_prefers_color_scheme (_tmp0_);
#line 157 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = _tmp1_;
#line 157 "../src/Widgets/MultitaskingView.vala"
	if (_tmp2_ == GALA_DRAWING_STYLE_MANAGER_COLOR_SCHEME_DARK) {
#line 694 "MultitaskingView.c"
		ClutterBrightnessContrastEffect* _tmp3_;
#line 158 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = self->priv->brightness_effect;
#line 158 "../src/Widgets/MultitaskingView.vala"
		clutter_brightness_contrast_effect_set_brightness (_tmp3_, -0.4f);
#line 700 "MultitaskingView.c"
	} else {
		ClutterBrightnessContrastEffect* _tmp4_;
#line 160 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = self->priv->brightness_effect;
#line 160 "../src/Widgets/MultitaskingView.vala"
		clutter_brightness_contrast_effect_set_brightness (_tmp4_, 0.4f);
#line 707 "MultitaskingView.c"
	}
}

/**
         * Places the primary container for the WorkspaceClones and the
         * MonitorClones at the right positions
         */
static gpointer
_g_object_ref0 (gpointer self)
{
#line 171 "../src/Widgets/MultitaskingView.vala"
	return self ? g_object_ref (self) : NULL;
#line 720 "MultitaskingView.c"
}

static void
_gala_multitasking_view_window_selected_gala_monitor_clone_window_selected (GalaMonitorClone* _sender,
                                                                            MetaWindow* window,
                                                                            gpointer self)
{
#line 184 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_window_selected ((GalaMultitaskingView*) self, window);
#line 730 "MultitaskingView.c"
}

static void
gala_multitasking_view_update_monitors (GalaMultitaskingView* self)
{
	GList* _tmp0_;
	gint primary = 0;
	MetaDisplay* _tmp3_;
	MtkRectangle primary_geometry = {0};
	MetaDisplay* _tmp16_;
	MtkRectangle _tmp17_ = {0};
	gfloat scale = 0.0F;
	MetaDisplay* _tmp18_;
	GalaIconGroupContainer* _tmp19_;
	ClutterActor* _tmp20_;
	MtkRectangle _tmp21_;
	MtkRectangle _tmp22_;
	ClutterActor* _tmp23_;
	MtkRectangle _tmp24_;
	MtkRectangle _tmp25_;
	ClutterActor* _tmp26_;
	GList* _tmp27_;
#line 168 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 169 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_workspaces (self);
#line 171 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->window_containers_monitors;
#line 759 "MultitaskingView.c"
	{
		GList* monitor_clone_collection = NULL;
		GList* monitor_clone_it = NULL;
#line 171 "../src/Widgets/MultitaskingView.vala"
		monitor_clone_collection = _tmp0_;
#line 171 "../src/Widgets/MultitaskingView.vala"
		for (monitor_clone_it = monitor_clone_collection; monitor_clone_it != NULL; monitor_clone_it = monitor_clone_it->next) {
#line 767 "MultitaskingView.c"
			GalaMonitorClone* _tmp1_;
			GalaMonitorClone* monitor_clone = NULL;
#line 171 "../src/Widgets/MultitaskingView.vala"
			_tmp1_ = _g_object_ref0 ((GalaMonitorClone*) monitor_clone_it->data);
#line 171 "../src/Widgets/MultitaskingView.vala"
			monitor_clone = _tmp1_;
#line 774 "MultitaskingView.c"
			{
				GalaMonitorClone* _tmp2_;
#line 172 "../src/Widgets/MultitaskingView.vala"
				_tmp2_ = monitor_clone;
#line 172 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_destroy ((ClutterActor*) _tmp2_);
#line 171 "../src/Widgets/MultitaskingView.vala"
				_g_object_unref0 (monitor_clone);
#line 783 "MultitaskingView.c"
			}
		}
	}
#line 175 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = self->priv->display;
#line 175 "../src/Widgets/MultitaskingView.vala"
	primary = meta_display_get_primary_monitor (_tmp3_);
#line 177 "../src/Widgets/MultitaskingView.vala"
	if (gala_internal_utils_workspaces_only_on_primary ()) {
#line 793 "MultitaskingView.c"
		{
			gint monitor = 0;
#line 178 "../src/Widgets/MultitaskingView.vala"
			monitor = 0;
#line 798 "MultitaskingView.c"
			{
				gboolean _tmp4_ = FALSE;
#line 178 "../src/Widgets/MultitaskingView.vala"
				_tmp4_ = TRUE;
#line 178 "../src/Widgets/MultitaskingView.vala"
				while (TRUE) {
#line 805 "MultitaskingView.c"
					MetaDisplay* _tmp6_;
					GalaMonitorClone* monitor_clone = NULL;
					GalaWindowManager* _tmp7_;
					MetaDisplay* _tmp8_;
					GalaGestureTracker* _tmp9_;
					GalaMonitorClone* _tmp10_;
					GalaMonitorClone* _tmp11_;
					GalaMonitorClone* _tmp12_;
					GalaMonitorClone* _tmp13_;
					GalaMonitorClone* _tmp14_;
					GalaMonitorClone* _tmp15_;
#line 178 "../src/Widgets/MultitaskingView.vala"
					if (!_tmp4_) {
#line 819 "MultitaskingView.c"
						gint _tmp5_;
#line 178 "../src/Widgets/MultitaskingView.vala"
						_tmp5_ = monitor;
#line 178 "../src/Widgets/MultitaskingView.vala"
						monitor = _tmp5_ + 1;
#line 825 "MultitaskingView.c"
					}
#line 178 "../src/Widgets/MultitaskingView.vala"
					_tmp4_ = FALSE;
#line 178 "../src/Widgets/MultitaskingView.vala"
					_tmp6_ = self->priv->display;
#line 178 "../src/Widgets/MultitaskingView.vala"
					if (!(monitor < meta_display_get_n_monitors (_tmp6_))) {
#line 178 "../src/Widgets/MultitaskingView.vala"
						break;
#line 835 "MultitaskingView.c"
					}
#line 179 "../src/Widgets/MultitaskingView.vala"
					if (monitor == primary) {
#line 180 "../src/Widgets/MultitaskingView.vala"
						continue;
#line 841 "MultitaskingView.c"
					}
#line 183 "../src/Widgets/MultitaskingView.vala"
					_tmp7_ = self->priv->_wm;
#line 183 "../src/Widgets/MultitaskingView.vala"
					_tmp8_ = self->priv->display;
#line 183 "../src/Widgets/MultitaskingView.vala"
					_tmp9_ = self->priv->multitasking_gesture_tracker;
#line 183 "../src/Widgets/MultitaskingView.vala"
					_tmp10_ = gala_monitor_clone_new (_tmp7_, _tmp8_, monitor, _tmp9_);
#line 183 "../src/Widgets/MultitaskingView.vala"
					g_object_ref_sink (_tmp10_);
#line 183 "../src/Widgets/MultitaskingView.vala"
					monitor_clone = _tmp10_;
#line 184 "../src/Widgets/MultitaskingView.vala"
					_tmp11_ = monitor_clone;
#line 184 "../src/Widgets/MultitaskingView.vala"
					g_signal_connect_object (_tmp11_, "window-selected", (GCallback) _gala_multitasking_view_window_selected_gala_monitor_clone_window_selected, self, 0);
#line 185 "../src/Widgets/MultitaskingView.vala"
					_tmp12_ = monitor_clone;
#line 185 "../src/Widgets/MultitaskingView.vala"
					g_object_set ((ClutterActor*) _tmp12_, "visible", self->priv->opened, NULL);
#line 187 "../src/Widgets/MultitaskingView.vala"
					_tmp13_ = monitor_clone;
#line 187 "../src/Widgets/MultitaskingView.vala"
					_tmp14_ = _g_object_ref0 (_tmp13_);
#line 187 "../src/Widgets/MultitaskingView.vala"
					self->priv->window_containers_monitors = g_list_append (self->priv->window_containers_monitors, _tmp14_);
#line 188 "../src/Widgets/MultitaskingView.vala"
					_tmp15_ = monitor_clone;
#line 188 "../src/Widgets/MultitaskingView.vala"
					clutter_actor_add_child ((ClutterActor*) self, (ClutterActor*) _tmp15_);
#line 178 "../src/Widgets/MultitaskingView.vala"
					_g_object_unref0 (monitor_clone);
#line 875 "MultitaskingView.c"
				}
			}
		}
	}
#line 192 "../src/Widgets/MultitaskingView.vala"
	_tmp16_ = self->priv->display;
#line 192 "../src/Widgets/MultitaskingView.vala"
	meta_display_get_monitor_geometry (_tmp16_, primary, &_tmp17_);
#line 192 "../src/Widgets/MultitaskingView.vala"
	primary_geometry = _tmp17_;
#line 193 "../src/Widgets/MultitaskingView.vala"
	_tmp18_ = self->priv->display;
#line 193 "../src/Widgets/MultitaskingView.vala"
	scale = meta_display_get_monitor_scale (_tmp18_, primary);
#line 194 "../src/Widgets/MultitaskingView.vala"
	_tmp19_ = self->priv->icon_groups;
#line 194 "../src/Widgets/MultitaskingView.vala"
	gala_icon_group_container_set_scale_factor (_tmp19_, scale);
#line 196 "../src/Widgets/MultitaskingView.vala"
	_tmp20_ = self->priv->primary_monitor_container;
#line 196 "../src/Widgets/MultitaskingView.vala"
	_tmp21_ = primary_geometry;
#line 196 "../src/Widgets/MultitaskingView.vala"
	_tmp22_ = primary_geometry;
#line 196 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_position (_tmp20_, (gfloat) _tmp21_.x, (gfloat) _tmp22_.y);
#line 197 "../src/Widgets/MultitaskingView.vala"
	_tmp23_ = self->priv->primary_monitor_container;
#line 197 "../src/Widgets/MultitaskingView.vala"
	_tmp24_ = primary_geometry;
#line 197 "../src/Widgets/MultitaskingView.vala"
	_tmp25_ = primary_geometry;
#line 197 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_size (_tmp23_, (gfloat) _tmp24_.width, (gfloat) _tmp25_.height);
#line 199 "../src/Widgets/MultitaskingView.vala"
	_tmp26_ = self->priv->workspaces;
#line 199 "../src/Widgets/MultitaskingView.vala"
	_tmp27_ = clutter_actor_get_children (_tmp26_);
#line 914 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 199 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp27_;
#line 199 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 922 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 199 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 926 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace_clone = NULL;
				ClutterActor* _tmp28_;
				GalaWorkspaceClone* _tmp29_;
				GalaWorkspaceClone* _tmp30_;
				MtkRectangle _tmp31_;
#line 200 "../src/Widgets/MultitaskingView.vala"
				_tmp28_ = child;
#line 200 "../src/Widgets/MultitaskingView.vala"
				workspace_clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 201 "../src/Widgets/MultitaskingView.vala"
				_tmp29_ = workspace_clone;
#line 201 "../src/Widgets/MultitaskingView.vala"
				gala_workspace_clone_set_scale_factor (_tmp29_, scale);
#line 202 "../src/Widgets/MultitaskingView.vala"
				_tmp30_ = workspace_clone;
#line 202 "../src/Widgets/MultitaskingView.vala"
				_tmp31_ = primary_geometry;
#line 202 "../src/Widgets/MultitaskingView.vala"
				gala_workspace_clone_update_size (_tmp30_, &_tmp31_);
#line 947 "MultitaskingView.c"
			}
		}
#line 199 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 952 "MultitaskingView.c"
	}
}

static void
gala_multitasking_view_update_workspaces (GalaMultitaskingView* self)
{
	ClutterActor* _tmp0_;
	GList* _tmp1_;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp8_;
	MetaWorkspaceManager* _tmp9_;
#line 206 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 207 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->workspaces;
#line 207 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = clutter_actor_get_children (_tmp0_);
#line 970 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 207 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp1_;
#line 207 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 978 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 207 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 982 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace_clone = NULL;
				ClutterActor* _tmp2_;
				GalaIconGroupContainer* _tmp3_;
				GalaWorkspaceClone* _tmp4_;
				GalaIconGroup* _tmp5_;
				GalaIconGroup* _tmp6_;
				GalaWorkspaceClone* _tmp7_;
#line 208 "../src/Widgets/MultitaskingView.vala"
				_tmp2_ = child;
#line 208 "../src/Widgets/MultitaskingView.vala"
				workspace_clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 209 "../src/Widgets/MultitaskingView.vala"
				_tmp3_ = self->priv->icon_groups;
#line 209 "../src/Widgets/MultitaskingView.vala"
				_tmp4_ = workspace_clone;
#line 209 "../src/Widgets/MultitaskingView.vala"
				_tmp5_ = gala_workspace_clone_get_icon_group (_tmp4_);
#line 209 "../src/Widgets/MultitaskingView.vala"
				_tmp6_ = _tmp5_;
#line 209 "../src/Widgets/MultitaskingView.vala"
				gala_icon_group_container_remove_group (_tmp3_, _tmp6_);
#line 210 "../src/Widgets/MultitaskingView.vala"
				_tmp7_ = workspace_clone;
#line 210 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_destroy ((ClutterActor*) _tmp7_);
#line 1009 "MultitaskingView.c"
			}
		}
#line 207 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 1014 "MultitaskingView.c"
	}
#line 213 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = self->priv->display;
#line 213 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = meta_display_get_workspace_manager (_tmp8_);
#line 213 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp9_;
#line 1022 "MultitaskingView.c"
	{
		gint i = 0;
#line 214 "../src/Widgets/MultitaskingView.vala"
		i = 0;
#line 1027 "MultitaskingView.c"
		{
			gboolean _tmp10_ = FALSE;
#line 214 "../src/Widgets/MultitaskingView.vala"
			_tmp10_ = TRUE;
#line 214 "../src/Widgets/MultitaskingView.vala"
			while (TRUE) {
#line 1034 "MultitaskingView.c"
				MetaWorkspaceManager* _tmp12_;
#line 214 "../src/Widgets/MultitaskingView.vala"
				if (!_tmp10_) {
#line 1038 "MultitaskingView.c"
					gint _tmp11_;
#line 214 "../src/Widgets/MultitaskingView.vala"
					_tmp11_ = i;
#line 214 "../src/Widgets/MultitaskingView.vala"
					i = _tmp11_ + 1;
#line 1044 "MultitaskingView.c"
				}
#line 214 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = FALSE;
#line 214 "../src/Widgets/MultitaskingView.vala"
				_tmp12_ = manager;
#line 214 "../src/Widgets/MultitaskingView.vala"
				if (!(i < meta_workspace_manager_get_n_workspaces (_tmp12_))) {
#line 214 "../src/Widgets/MultitaskingView.vala"
					break;
#line 1054 "MultitaskingView.c"
				}
#line 215 "../src/Widgets/MultitaskingView.vala"
				gala_multitasking_view_add_workspace (self, i);
#line 1058 "MultitaskingView.c"
			}
		}
	}
}

/**
         * Scroll through workspaces with the mouse wheel. Smooth scrolling is handled by
         * GestureTracker.
         */
static gboolean
gala_multitasking_view_real_scroll_event (ClutterActor* base,
                                          ClutterEvent* scroll_event)
{
	GalaMultitaskingView * self;
	ClutterScrollDirection scroll_direction = 0;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	MetaMotionDirection direction = 0;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp3_;
	MetaWorkspaceManager* _tmp4_;
	MetaWorkspace* active_workspace = NULL;
	MetaWorkspaceManager* _tmp5_;
	MetaWorkspace* _tmp6_;
	MetaWorkspace* _tmp7_;
	MetaWorkspace* new_workspace = NULL;
	MetaWorkspace* _tmp8_;
	MetaWorkspace* _tmp9_;
	MetaWorkspace* _tmp10_;
	MetaWorkspace* _tmp11_;
	MetaWorkspace* _tmp12_;
	gboolean result;
#line 224 "../src/Widgets/MultitaskingView.vala"
	self = (GalaMultitaskingView*) base;
#line 224 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (scroll_event != NULL, FALSE);
#line 228 "../src/Widgets/MultitaskingView.vala"
	if (!self->priv->opened) {
#line 229 "../src/Widgets/MultitaskingView.vala"
		result = TRUE;
#line 229 "../src/Widgets/MultitaskingView.vala"
		return result;
#line 1101 "MultitaskingView.c"
	}
#line 232 "../src/Widgets/MultitaskingView.vala"
	scroll_direction = clutter_event_get_scroll_direction (scroll_event);
#line 233 "../src/Widgets/MultitaskingView.vala"
	if (scroll_direction == CLUTTER_SCROLL_SMOOTH) {
#line 233 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = TRUE;
#line 1109 "MultitaskingView.c"
	} else {
#line 234 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = clutter_event_get_scroll_source (scroll_event) == CLUTTER_SCROLL_SOURCE_FINGER;
#line 1113 "MultitaskingView.c"
	}
#line 233 "../src/Widgets/MultitaskingView.vala"
	if (_tmp1_) {
#line 233 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = TRUE;
#line 1119 "MultitaskingView.c"
	} else {
		ClutterInputDevice* _tmp2_;
#line 235 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = clutter_event_get_source_device (scroll_event);
#line 235 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = clutter_input_device_get_device_type (_tmp2_) == CLUTTER_TOUCHPAD_DEVICE;
#line 1126 "MultitaskingView.c"
	}
#line 233 "../src/Widgets/MultitaskingView.vala"
	if (_tmp0_) {
#line 236 "../src/Widgets/MultitaskingView.vala"
		result = FALSE;
#line 236 "../src/Widgets/MultitaskingView.vala"
		return result;
#line 1134 "MultitaskingView.c"
	}
#line 240 "../src/Widgets/MultitaskingView.vala"
	switch (scroll_direction) {
#line 240 "../src/Widgets/MultitaskingView.vala"
		case CLUTTER_SCROLL_UP:
#line 240 "../src/Widgets/MultitaskingView.vala"
		case CLUTTER_SCROLL_LEFT:
#line 1142 "MultitaskingView.c"
		{
#line 243 "../src/Widgets/MultitaskingView.vala"
			direction = META_MOTION_LEFT;
#line 244 "../src/Widgets/MultitaskingView.vala"
			break;
#line 1148 "MultitaskingView.c"
		}
		default:
#line 240 "../src/Widgets/MultitaskingView.vala"
		case CLUTTER_SCROLL_DOWN:
#line 240 "../src/Widgets/MultitaskingView.vala"
		case CLUTTER_SCROLL_RIGHT:
#line 1155 "MultitaskingView.c"
		{
#line 248 "../src/Widgets/MultitaskingView.vala"
			direction = META_MOTION_RIGHT;
#line 249 "../src/Widgets/MultitaskingView.vala"
			break;
#line 1161 "MultitaskingView.c"
		}
	}
#line 252 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = self->priv->display;
#line 252 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = meta_display_get_workspace_manager (_tmp3_);
#line 252 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp4_;
#line 253 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = manager;
#line 253 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = meta_workspace_manager_get_active_workspace (_tmp5_);
#line 253 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = _g_object_ref0 (_tmp6_);
#line 253 "../src/Widgets/MultitaskingView.vala"
	active_workspace = _tmp7_;
#line 254 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = active_workspace;
#line 254 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = meta_workspace_get_neighbor (_tmp8_, direction);
#line 254 "../src/Widgets/MultitaskingView.vala"
	_tmp10_ = _g_object_ref0 (_tmp9_);
#line 254 "../src/Widgets/MultitaskingView.vala"
	new_workspace = _tmp10_;
#line 256 "../src/Widgets/MultitaskingView.vala"
	_tmp11_ = active_workspace;
#line 256 "../src/Widgets/MultitaskingView.vala"
	_tmp12_ = new_workspace;
#line 256 "../src/Widgets/MultitaskingView.vala"
	if (_tmp11_ != _tmp12_) {
#line 1192 "MultitaskingView.c"
		MetaWorkspace* _tmp13_;
#line 257 "../src/Widgets/MultitaskingView.vala"
		_tmp13_ = new_workspace;
#line 257 "../src/Widgets/MultitaskingView.vala"
		meta_workspace_activate (_tmp13_, clutter_event_get_time (scroll_event));
#line 1198 "MultitaskingView.c"
	} else {
#line 259 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_play_nudge_animation (self, direction);
#line 1202 "MultitaskingView.c"
	}
#line 262 "../src/Widgets/MultitaskingView.vala"
	result = TRUE;
#line 262 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (new_workspace);
#line 262 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (active_workspace);
#line 262 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 1212 "MultitaskingView.c"
}

static void
_vala_GValue_array_free (GValue * array,
                         gssize array_length)
{
#line 265 "../src/Widgets/MultitaskingView.vala"
	if (array != NULL) {
#line 1221 "MultitaskingView.c"
		gssize i;
#line 265 "../src/Widgets/MultitaskingView.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 265 "../src/Widgets/MultitaskingView.vala"
			g_value_unset (&array[i]);
#line 1227 "MultitaskingView.c"
		}
	}
#line 265 "../src/Widgets/MultitaskingView.vala"
	g_free (array);
#line 1232 "MultitaskingView.c"
}

void
gala_multitasking_view_play_nudge_animation (GalaMultitaskingView* self,
                                             MetaMotionDirection direction)
{
	GalaWindowManager* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gfloat scale = 0.0F;
	MetaDisplay* _tmp3_;
	MetaDisplay* _tmp4_;
	gint nudge_gap = 0;
	gfloat dest = 0.0F;
	gdouble* keyframes = NULL;
	gdouble* _tmp5_;
	gint keyframes_length1;
	gint _keyframes_size_;
	GValue* x = NULL;
	GValue _tmp6_ = {0};
	GValue* _tmp7_;
	gint x_length1;
	gint _x_size_;
	ClutterKeyframeTransition* nudge = NULL;
	ClutterKeyframeTransition* _tmp8_ = NULL;
	ClutterKeyframeTransition* _tmp9_;
	GValue _tmp10_ = {0};
	ClutterKeyframeTransition* _tmp11_;
	GValue _tmp12_ = {0};
	ClutterKeyframeTransition* _tmp13_;
	gdouble* _tmp14_;
	gint _tmp14__length1;
	ClutterKeyframeTransition* _tmp15_;
	GValue* _tmp16_;
	gint _tmp16__length1;
	ClutterActor* _tmp17_;
	ClutterKeyframeTransition* _tmp18_;
#line 265 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 266 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->_wm;
#line 266 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = gala_window_manager_get_enable_animations (_tmp0_);
#line 266 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = _tmp1_;
#line 266 "../src/Widgets/MultitaskingView.vala"
	if (!_tmp2_) {
#line 267 "../src/Widgets/MultitaskingView.vala"
		return;
#line 1282 "MultitaskingView.c"
	}
#line 270 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = self->priv->display;
#line 270 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = self->priv->display;
#line 270 "../src/Widgets/MultitaskingView.vala"
	scale = meta_display_get_monitor_scale (_tmp3_, meta_display_get_primary_monitor (_tmp4_));
#line 271 "../src/Widgets/MultitaskingView.vala"
	nudge_gap = gala_internal_utils_scale_to_int (GALA_WINDOW_MANAGER_GALA_NUDGE_GAP, scale);
#line 273 "../src/Widgets/MultitaskingView.vala"
	dest = (gfloat) nudge_gap;
#line 274 "../src/Widgets/MultitaskingView.vala"
	if (direction == META_MOTION_RIGHT) {
#line 275 "../src/Widgets/MultitaskingView.vala"
		dest *= (gfloat) -1;
#line 1298 "MultitaskingView.c"
	}
#line 278 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = g_new0 (gdouble, 1);
#line 278 "../src/Widgets/MultitaskingView.vala"
	_tmp5_[0] = 0.5;
#line 278 "../src/Widgets/MultitaskingView.vala"
	keyframes = _tmp5_;
#line 278 "../src/Widgets/MultitaskingView.vala"
	keyframes_length1 = 1;
#line 278 "../src/Widgets/MultitaskingView.vala"
	_keyframes_size_ = keyframes_length1;
#line 279 "../src/Widgets/MultitaskingView.vala"
	g_value_init (&_tmp6_, G_TYPE_FLOAT);
#line 279 "../src/Widgets/MultitaskingView.vala"
	g_value_set_float (&_tmp6_, dest);
#line 279 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = g_new0 (GValue, 1);
#line 279 "../src/Widgets/MultitaskingView.vala"
	_tmp7_[0] = _tmp6_;
#line 279 "../src/Widgets/MultitaskingView.vala"
	x = _tmp7_;
#line 279 "../src/Widgets/MultitaskingView.vala"
	x_length1 = 1;
#line 279 "../src/Widgets/MultitaskingView.vala"
	_x_size_ = x_length1;
#line 281 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = (ClutterKeyframeTransition*) clutter_keyframe_transition_new ("translation-x");
#line 281 "../src/Widgets/MultitaskingView.vala"
	clutter_timeline_set_duration ((ClutterTimeline*) _tmp8_, (guint) GALA_ANIMATION_DURATION_NUDGE);
#line 281 "../src/Widgets/MultitaskingView.vala"
	clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp8_, TRUE);
#line 281 "../src/Widgets/MultitaskingView.vala"
	clutter_timeline_set_progress_mode ((ClutterTimeline*) _tmp8_, CLUTTER_EASE_IN_QUAD);
#line 281 "../src/Widgets/MultitaskingView.vala"
	nudge = _tmp8_;
#line 286 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = nudge;
#line 286 "../src/Widgets/MultitaskingView.vala"
	g_value_init (&_tmp10_, G_TYPE_FLOAT);
#line 286 "../src/Widgets/MultitaskingView.vala"
	g_value_set_float (&_tmp10_, 0.0f);
#line 286 "../src/Widgets/MultitaskingView.vala"
	clutter_transition_set_from_value ((ClutterTransition*) _tmp9_, &_tmp10_);
#line 286 "../src/Widgets/MultitaskingView.vala"
	G_IS_VALUE (&_tmp10_) ? (g_value_unset (&_tmp10_), NULL) : NULL;
#line 287 "../src/Widgets/MultitaskingView.vala"
	_tmp11_ = nudge;
#line 287 "../src/Widgets/MultitaskingView.vala"
	g_value_init (&_tmp12_, G_TYPE_FLOAT);
#line 287 "../src/Widgets/MultitaskingView.vala"
	g_value_set_float (&_tmp12_, 0.0f);
#line 287 "../src/Widgets/MultitaskingView.vala"
	clutter_transition_set_to_value ((ClutterTransition*) _tmp11_, &_tmp12_);
#line 287 "../src/Widgets/MultitaskingView.vala"
	G_IS_VALUE (&_tmp12_) ? (g_value_unset (&_tmp12_), NULL) : NULL;
#line 288 "../src/Widgets/MultitaskingView.vala"
	_tmp13_ = nudge;
#line 288 "../src/Widgets/MultitaskingView.vala"
	_tmp14_ = keyframes;
#line 288 "../src/Widgets/MultitaskingView.vala"
	_tmp14__length1 = keyframes_length1;
#line 288 "../src/Widgets/MultitaskingView.vala"
	clutter_keyframe_transition_set_key_frames (_tmp13_, (guint) _tmp14__length1, _tmp14_);
#line 289 "../src/Widgets/MultitaskingView.vala"
	_tmp15_ = nudge;
#line 289 "../src/Widgets/MultitaskingView.vala"
	_tmp16_ = x;
#line 289 "../src/Widgets/MultitaskingView.vala"
	_tmp16__length1 = x_length1;
#line 289 "../src/Widgets/MultitaskingView.vala"
	clutter_keyframe_transition_set_values (_tmp15_, (guint) _tmp16__length1, _tmp16_);
#line 290 "../src/Widgets/MultitaskingView.vala"
	_tmp17_ = self->priv->workspaces;
#line 290 "../src/Widgets/MultitaskingView.vala"
	_tmp18_ = nudge;
#line 290 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_transition (_tmp17_, "nudge", (ClutterTransition*) _tmp18_);
#line 265 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (nudge);
#line 265 "../src/Widgets/MultitaskingView.vala"
	x = (_vala_GValue_array_free (x, x_length1), NULL);
#line 265 "../src/Widgets/MultitaskingView.vala"
	keyframes = (g_free (keyframes), NULL);
#line 1382 "MultitaskingView.c"
}

static void
gala_multitasking_view_on_multitasking_gesture_detected (GalaMultitaskingView* self,
                                                         GalaGesture* gesture)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp8_ = FALSE;
#line 293 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 293 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (gesture != NULL);
#line 294 "../src/Widgets/MultitaskingView.vala"
	if (gesture->type != CLUTTER_TOUCHPAD_SWIPE) {
#line 294 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = TRUE;
#line 1400 "MultitaskingView.c"
	} else {
		gboolean _tmp2_ = FALSE;
#line 295 "../src/Widgets/MultitaskingView.vala"
		if (gesture->fingers == 3) {
#line 1405 "MultitaskingView.c"
			gchar* _tmp3_;
			gchar* _tmp4_;
#line 295 "../src/Widgets/MultitaskingView.vala"
			_tmp3_ = gala_gesture_settings_get_string ("three-finger-swipe-up");
#line 295 "../src/Widgets/MultitaskingView.vala"
			_tmp4_ = _tmp3_;
#line 295 "../src/Widgets/MultitaskingView.vala"
			_tmp2_ = g_strcmp0 (_tmp4_, "multitasking-view") != 0;
#line 295 "../src/Widgets/MultitaskingView.vala"
			_g_free0 (_tmp4_);
#line 1416 "MultitaskingView.c"
		} else {
#line 295 "../src/Widgets/MultitaskingView.vala"
			_tmp2_ = FALSE;
#line 1420 "MultitaskingView.c"
		}
#line 295 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = _tmp2_;
#line 1424 "MultitaskingView.c"
	}
#line 294 "../src/Widgets/MultitaskingView.vala"
	if (_tmp1_) {
#line 294 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = TRUE;
#line 1430 "MultitaskingView.c"
	} else {
		gboolean _tmp5_ = FALSE;
#line 296 "../src/Widgets/MultitaskingView.vala"
		if (gesture->fingers == 4) {
#line 1435 "MultitaskingView.c"
			gchar* _tmp6_;
			gchar* _tmp7_;
#line 296 "../src/Widgets/MultitaskingView.vala"
			_tmp6_ = gala_gesture_settings_get_string ("four-finger-swipe-up");
#line 296 "../src/Widgets/MultitaskingView.vala"
			_tmp7_ = _tmp6_;
#line 296 "../src/Widgets/MultitaskingView.vala"
			_tmp5_ = g_strcmp0 (_tmp7_, "multitasking-view") != 0;
#line 296 "../src/Widgets/MultitaskingView.vala"
			_g_free0 (_tmp7_);
#line 1446 "MultitaskingView.c"
		} else {
#line 296 "../src/Widgets/MultitaskingView.vala"
			_tmp5_ = FALSE;
#line 1450 "MultitaskingView.c"
		}
#line 296 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = _tmp5_;
#line 1454 "MultitaskingView.c"
	}
#line 294 "../src/Widgets/MultitaskingView.vala"
	if (_tmp0_) {
#line 298 "../src/Widgets/MultitaskingView.vala"
		return;
#line 1460 "MultitaskingView.c"
	}
#line 301 "../src/Widgets/MultitaskingView.vala"
	if (gesture->direction == GALA_GESTURE_DIRECTION_UP) {
#line 301 "../src/Widgets/MultitaskingView.vala"
		_tmp8_ = !self->priv->opened;
#line 1466 "MultitaskingView.c"
	} else {
#line 301 "../src/Widgets/MultitaskingView.vala"
		_tmp8_ = FALSE;
#line 1470 "MultitaskingView.c"
	}
#line 301 "../src/Widgets/MultitaskingView.vala"
	if (_tmp8_) {
#line 302 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_toggle (self, TRUE, FALSE);
#line 1476 "MultitaskingView.c"
	} else {
		gboolean _tmp9_ = FALSE;
#line 303 "../src/Widgets/MultitaskingView.vala"
		if (gesture->direction == GALA_GESTURE_DIRECTION_DOWN) {
#line 303 "../src/Widgets/MultitaskingView.vala"
			_tmp9_ = self->priv->opened;
#line 1483 "MultitaskingView.c"
		} else {
#line 303 "../src/Widgets/MultitaskingView.vala"
			_tmp9_ = FALSE;
#line 1487 "MultitaskingView.c"
		}
#line 303 "../src/Widgets/MultitaskingView.vala"
		if (_tmp9_) {
#line 304 "../src/Widgets/MultitaskingView.vala"
			gala_multitasking_view_toggle (self, TRUE, FALSE);
#line 1493 "MultitaskingView.c"
		}
	}
}

static void
gala_multitasking_view_on_workspace_gesture_detected (GalaMultitaskingView* self,
                                                      GalaGesture* gesture)
{
	gboolean _tmp0_ = FALSE;
	gboolean can_handle_swipe = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean fingers = FALSE;
	gboolean _tmp9_ = FALSE;
#line 308 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 308 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (gesture != NULL);
#line 309 "../src/Widgets/MultitaskingView.vala"
	if (!self->priv->opened) {
#line 310 "../src/Widgets/MultitaskingView.vala"
		return;
#line 1516 "MultitaskingView.c"
	}
#line 313 "../src/Widgets/MultitaskingView.vala"
	if (gesture->type == CLUTTER_TOUCHPAD_SWIPE) {
#line 1520 "MultitaskingView.c"
		gboolean _tmp1_ = FALSE;
#line 314 "../src/Widgets/MultitaskingView.vala"
		if (gesture->direction == GALA_GESTURE_DIRECTION_LEFT) {
#line 314 "../src/Widgets/MultitaskingView.vala"
			_tmp1_ = TRUE;
#line 1526 "MultitaskingView.c"
		} else {
#line 314 "../src/Widgets/MultitaskingView.vala"
			_tmp1_ = gesture->direction == GALA_GESTURE_DIRECTION_RIGHT;
#line 1530 "MultitaskingView.c"
		}
#line 314 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = _tmp1_;
#line 1534 "MultitaskingView.c"
	} else {
#line 313 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = FALSE;
#line 1538 "MultitaskingView.c"
	}
#line 313 "../src/Widgets/MultitaskingView.vala"
	can_handle_swipe = _tmp0_;
#line 316 "../src/Widgets/MultitaskingView.vala"
	if (gesture->fingers == 3) {
#line 1544 "MultitaskingView.c"
		gchar* _tmp4_;
		gchar* _tmp5_;
#line 316 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = gala_gesture_settings_get_string ("three-finger-swipe-horizontal");
#line 316 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = _tmp4_;
#line 316 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = g_strcmp0 (_tmp5_, "switch-to-workspace") == 0;
#line 316 "../src/Widgets/MultitaskingView.vala"
		_g_free0 (_tmp5_);
#line 1555 "MultitaskingView.c"
	} else {
#line 316 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = FALSE;
#line 1559 "MultitaskingView.c"
	}
#line 316 "../src/Widgets/MultitaskingView.vala"
	if (_tmp3_) {
#line 316 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = TRUE;
#line 1565 "MultitaskingView.c"
	} else {
		gboolean _tmp6_ = FALSE;
#line 317 "../src/Widgets/MultitaskingView.vala"
		if (gesture->fingers == 4) {
#line 1570 "MultitaskingView.c"
			gchar* _tmp7_;
			gchar* _tmp8_;
#line 317 "../src/Widgets/MultitaskingView.vala"
			_tmp7_ = gala_gesture_settings_get_string ("four-finger-swipe-horizontal");
#line 317 "../src/Widgets/MultitaskingView.vala"
			_tmp8_ = _tmp7_;
#line 317 "../src/Widgets/MultitaskingView.vala"
			_tmp6_ = g_strcmp0 (_tmp8_, "switch-to-workspace") == 0;
#line 317 "../src/Widgets/MultitaskingView.vala"
			_g_free0 (_tmp8_);
#line 1581 "MultitaskingView.c"
		} else {
#line 317 "../src/Widgets/MultitaskingView.vala"
			_tmp6_ = FALSE;
#line 1585 "MultitaskingView.c"
		}
#line 317 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = _tmp6_;
#line 1589 "MultitaskingView.c"
	}
#line 316 "../src/Widgets/MultitaskingView.vala"
	fingers = _tmp2_;
#line 319 "../src/Widgets/MultitaskingView.vala"
	if (gesture->type == CLUTTER_SCROLL) {
#line 319 "../src/Widgets/MultitaskingView.vala"
		_tmp9_ = TRUE;
#line 1597 "MultitaskingView.c"
	} else {
		gboolean _tmp10_ = FALSE;
#line 319 "../src/Widgets/MultitaskingView.vala"
		if (can_handle_swipe) {
#line 319 "../src/Widgets/MultitaskingView.vala"
			_tmp10_ = fingers;
#line 1604 "MultitaskingView.c"
		} else {
#line 319 "../src/Widgets/MultitaskingView.vala"
			_tmp10_ = FALSE;
#line 1608 "MultitaskingView.c"
		}
#line 319 "../src/Widgets/MultitaskingView.vala"
		_tmp9_ = _tmp10_;
#line 1612 "MultitaskingView.c"
	}
#line 319 "../src/Widgets/MultitaskingView.vala"
	if (_tmp9_) {
#line 1616 "MultitaskingView.c"
		MetaMotionDirection* direction = NULL;
		GalaGestureTracker* _tmp11_;
		GalaGestureSettings* _tmp12_;
		GalaGestureSettings* _tmp13_;
		MetaMotionDirection* _tmp14_;
		MetaMotionDirection* _tmp15_;
#line 320 "../src/Widgets/MultitaskingView.vala"
		_tmp11_ = self->priv->workspace_gesture_tracker;
#line 320 "../src/Widgets/MultitaskingView.vala"
		_tmp12_ = gala_gesture_tracker_get_settings (_tmp11_);
#line 320 "../src/Widgets/MultitaskingView.vala"
		_tmp13_ = _tmp12_;
#line 320 "../src/Widgets/MultitaskingView.vala"
		_tmp14_ = gala_gesture_settings_get_natural_scroll_direction (_tmp13_, gesture);
#line 320 "../src/Widgets/MultitaskingView.vala"
		direction = _tmp14_;
#line 321 "../src/Widgets/MultitaskingView.vala"
		_tmp15_ = direction;
#line 321 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_switch_workspace_with_gesture (self, *_tmp15_);
#line 319 "../src/Widgets/MultitaskingView.vala"
		_g_free0 (direction);
#line 1639 "MultitaskingView.c"
	}
}

static Block64Data*
block64_data_ref (Block64Data* _data64_)
{
#line 325 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data64_->_ref_count_);
#line 325 "../src/Widgets/MultitaskingView.vala"
	return _data64_;
#line 1650 "MultitaskingView.c"
}

static void
block64_data_unref (void * _userdata_)
{
	Block64Data* _data64_;
	_data64_ = (Block64Data*) _userdata_;
#line 325 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data64_->_ref_count_)) {
#line 1660 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 325 "../src/Widgets/MultitaskingView.vala"
		self = _data64_->self;
#line 325 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self);
#line 325 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block64Data, _data64_);
#line 1668 "MultitaskingView.c"
	}
}

static void
__lambda72_ (Block64Data* _data64_,
             gdouble percentage)
{
	GalaMultitaskingView* self;
	gfloat x = 0.0F;
	gfloat icon_group_opacity = 0.0F;
	ClutterActor* _tmp0_;
#line 386 "../src/Widgets/MultitaskingView.vala"
	self = _data64_->self;
#line 387 "../src/Widgets/MultitaskingView.vala"
	x = gala_gesture_tracker_animation_value (_data64_->initial_x, _data64_->target_x, percentage, TRUE);
#line 388 "../src/Widgets/MultitaskingView.vala"
	icon_group_opacity = gala_gesture_tracker_animation_value (0.0f, 1.0f, percentage, FALSE);
#line 390 "../src/Widgets/MultitaskingView.vala"
	if (_data64_->is_nudge_animation) {
#line 391 "../src/Widgets/MultitaskingView.vala"
		x = CLAMP (x, _data64_->initial_x - _data64_->nudge_gap, _data64_->initial_x + _data64_->nudge_gap);
#line 1690 "MultitaskingView.c"
	}
#line 394 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->workspaces;
#line 394 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_x (_tmp0_, x);
#line 396 "../src/Widgets/MultitaskingView.vala"
	if (!_data64_->is_nudge_animation) {
#line 1698 "MultitaskingView.c"
		GalaIconGroup* _tmp1_;
		GalaIconGroup* _tmp2_;
#line 397 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = _data64_->active_icon_group;
#line 397 "../src/Widgets/MultitaskingView.vala"
		gala_icon_group_set_backdrop_opacity (_tmp1_, 1.0f - icon_group_opacity);
#line 398 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = _data64_->target_icon_group;
#line 398 "../src/Widgets/MultitaskingView.vala"
		gala_icon_group_set_backdrop_opacity (_tmp2_, icon_group_opacity);
#line 1709 "MultitaskingView.c"
	}
}

static void
___lambda72__gala_gesture_tracker_on_update (gdouble percentage,
                                             gpointer self)
{
#line 386 "../src/Widgets/MultitaskingView.vala"
	__lambda72_ (self, percentage);
#line 1719 "MultitaskingView.c"
}

static void
__lambda73_ (Block64Data* _data64_,
             gdouble percentage,
             gboolean cancel_action,
             gint calculated_duration)
{
	GalaMultitaskingView* self;
	guint _tmp0_ = 0U;
	guint duration = 0U;
	ClutterActor* _tmp1_;
	ClutterActor* _tmp2_;
	ClutterActor* _tmp3_;
	gfloat _tmp4_ = 0.0F;
	gboolean _tmp5_ = FALSE;
	ClutterActor* _tmp6_;
	ClutterActor* _tmp7_;
	gboolean _tmp37_ = FALSE;
#line 402 "../src/Widgets/MultitaskingView.vala"
	self = _data64_->self;
#line 403 "../src/Widgets/MultitaskingView.vala"
	self->priv->switching_workspace_with_gesture = FALSE;
#line 405 "../src/Widgets/MultitaskingView.vala"
	if (_data64_->is_nudge_animation) {
#line 406 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = (guint) (GALA_ANIMATION_DURATION_NUDGE / 2);
#line 1747 "MultitaskingView.c"
	} else {
#line 407 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = (guint) calculated_duration;
#line 1751 "MultitaskingView.c"
	}
#line 405 "../src/Widgets/MultitaskingView.vala"
	duration = _tmp0_;
#line 409 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = self->priv->workspaces;
#line 409 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_save_easing_state (_tmp1_);
#line 410 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = self->priv->workspaces;
#line 410 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_mode (_tmp2_, CLUTTER_EASE_OUT_QUAD);
#line 411 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = self->priv->workspaces;
#line 411 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_duration (_tmp3_, duration);
#line 412 "../src/Widgets/MultitaskingView.vala"
	if (_data64_->is_nudge_animation) {
#line 412 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = TRUE;
#line 1771 "MultitaskingView.c"
	} else {
#line 412 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = cancel_action;
#line 1775 "MultitaskingView.c"
	}
#line 412 "../src/Widgets/MultitaskingView.vala"
	if (_tmp5_) {
#line 412 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = _data64_->initial_x;
#line 1781 "MultitaskingView.c"
	} else {
#line 412 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = _data64_->target_x;
#line 1785 "MultitaskingView.c"
	}
#line 412 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = self->priv->workspaces;
#line 412 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_x (_tmp6_, _tmp4_);
#line 413 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = self->priv->workspaces;
#line 413 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_restore_easing_state (_tmp7_);
#line 415 "../src/Widgets/MultitaskingView.vala"
	if (!_data64_->is_nudge_animation) {
#line 1797 "MultitaskingView.c"
		GalaWindowManager* _tmp8_;
		gboolean _tmp9_;
		gboolean _tmp10_;
#line 416 "../src/Widgets/MultitaskingView.vala"
		_tmp8_ = self->priv->_wm;
#line 416 "../src/Widgets/MultitaskingView.vala"
		_tmp9_ = gala_window_manager_get_enable_animations (_tmp8_);
#line 416 "../src/Widgets/MultitaskingView.vala"
		_tmp10_ = _tmp9_;
#line 416 "../src/Widgets/MultitaskingView.vala"
		if (_tmp10_) {
#line 1809 "MultitaskingView.c"
			ClutterPropertyTransition* active_transition = NULL;
			ClutterPropertyTransition* _tmp11_ = NULL;
			ClutterPropertyTransition* _tmp12_;
			GalaIconGroup* _tmp13_;
			gfloat _tmp14_;
			gfloat _tmp15_;
			GValue _tmp16_ = {0};
			gfloat _tmp17_ = 0.0F;
			ClutterPropertyTransition* _tmp18_;
			GValue _tmp19_ = {0};
			GalaIconGroup* _tmp20_;
			ClutterPropertyTransition* _tmp21_;
			ClutterPropertyTransition* target_transition = NULL;
			ClutterPropertyTransition* _tmp22_ = NULL;
			ClutterPropertyTransition* _tmp23_;
			GalaIconGroup* _tmp24_;
			gfloat _tmp25_;
			gfloat _tmp26_;
			GValue _tmp27_ = {0};
			gfloat _tmp28_ = 0.0F;
			ClutterPropertyTransition* _tmp29_;
			GValue _tmp30_ = {0};
			GalaIconGroup* _tmp31_;
			ClutterPropertyTransition* _tmp32_;
#line 417 "../src/Widgets/MultitaskingView.vala"
			_tmp11_ = (ClutterPropertyTransition*) clutter_property_transition_new ("backdrop-opacity");
#line 417 "../src/Widgets/MultitaskingView.vala"
			clutter_timeline_set_duration ((ClutterTimeline*) _tmp11_, duration);
#line 417 "../src/Widgets/MultitaskingView.vala"
			clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp11_, TRUE);
#line 417 "../src/Widgets/MultitaskingView.vala"
			active_transition = _tmp11_;
#line 421 "../src/Widgets/MultitaskingView.vala"
			_tmp12_ = active_transition;
#line 421 "../src/Widgets/MultitaskingView.vala"
			_tmp13_ = _data64_->active_icon_group;
#line 421 "../src/Widgets/MultitaskingView.vala"
			_tmp14_ = gala_icon_group_get_backdrop_opacity (_tmp13_);
#line 421 "../src/Widgets/MultitaskingView.vala"
			_tmp15_ = _tmp14_;
#line 421 "../src/Widgets/MultitaskingView.vala"
			g_value_init (&_tmp16_, G_TYPE_FLOAT);
#line 421 "../src/Widgets/MultitaskingView.vala"
			g_value_set_float (&_tmp16_, _tmp15_);
#line 421 "../src/Widgets/MultitaskingView.vala"
			clutter_transition_set_from_value ((ClutterTransition*) _tmp12_, &_tmp16_);
#line 421 "../src/Widgets/MultitaskingView.vala"
			G_IS_VALUE (&_tmp16_) ? (g_value_unset (&_tmp16_), NULL) : NULL;
#line 422 "../src/Widgets/MultitaskingView.vala"
			if (cancel_action) {
#line 422 "../src/Widgets/MultitaskingView.vala"
				_tmp17_ = 1.0f;
#line 1862 "MultitaskingView.c"
			} else {
#line 422 "../src/Widgets/MultitaskingView.vala"
				_tmp17_ = 0.0f;
#line 1866 "MultitaskingView.c"
			}
#line 422 "../src/Widgets/MultitaskingView.vala"
			_tmp18_ = active_transition;
#line 422 "../src/Widgets/MultitaskingView.vala"
			g_value_init (&_tmp19_, G_TYPE_FLOAT);
#line 422 "../src/Widgets/MultitaskingView.vala"
			g_value_set_float (&_tmp19_, _tmp17_);
#line 422 "../src/Widgets/MultitaskingView.vala"
			clutter_transition_set_to_value ((ClutterTransition*) _tmp18_, &_tmp19_);
#line 422 "../src/Widgets/MultitaskingView.vala"
			G_IS_VALUE (&_tmp19_) ? (g_value_unset (&_tmp19_), NULL) : NULL;
#line 423 "../src/Widgets/MultitaskingView.vala"
			_tmp20_ = _data64_->active_icon_group;
#line 423 "../src/Widgets/MultitaskingView.vala"
			_tmp21_ = active_transition;
#line 423 "../src/Widgets/MultitaskingView.vala"
			clutter_actor_add_transition ((ClutterActor*) _tmp20_, "backdrop-opacity", (ClutterTransition*) _tmp21_);
#line 425 "../src/Widgets/MultitaskingView.vala"
			_tmp22_ = (ClutterPropertyTransition*) clutter_property_transition_new ("backdrop-opacity");
#line 425 "../src/Widgets/MultitaskingView.vala"
			clutter_timeline_set_duration ((ClutterTimeline*) _tmp22_, duration);
#line 425 "../src/Widgets/MultitaskingView.vala"
			clutter_transition_set_remove_on_complete ((ClutterTransition*) _tmp22_, TRUE);
#line 425 "../src/Widgets/MultitaskingView.vala"
			target_transition = _tmp22_;
#line 429 "../src/Widgets/MultitaskingView.vala"
			_tmp23_ = target_transition;
#line 429 "../src/Widgets/MultitaskingView.vala"
			_tmp24_ = _data64_->target_icon_group;
#line 429 "../src/Widgets/MultitaskingView.vala"
			_tmp25_ = gala_icon_group_get_backdrop_opacity (_tmp24_);
#line 429 "../src/Widgets/MultitaskingView.vala"
			_tmp26_ = _tmp25_;
#line 429 "../src/Widgets/MultitaskingView.vala"
			g_value_init (&_tmp27_, G_TYPE_FLOAT);
#line 429 "../src/Widgets/MultitaskingView.vala"
			g_value_set_float (&_tmp27_, _tmp26_);
#line 429 "../src/Widgets/MultitaskingView.vala"
			clutter_transition_set_from_value ((ClutterTransition*) _tmp23_, &_tmp27_);
#line 429 "../src/Widgets/MultitaskingView.vala"
			G_IS_VALUE (&_tmp27_) ? (g_value_unset (&_tmp27_), NULL) : NULL;
#line 430 "../src/Widgets/MultitaskingView.vala"
			if (cancel_action) {
#line 430 "../src/Widgets/MultitaskingView.vala"
				_tmp28_ = 0.0f;
#line 1912 "MultitaskingView.c"
			} else {
#line 430 "../src/Widgets/MultitaskingView.vala"
				_tmp28_ = 1.0f;
#line 1916 "MultitaskingView.c"
			}
#line 430 "../src/Widgets/MultitaskingView.vala"
			_tmp29_ = target_transition;
#line 430 "../src/Widgets/MultitaskingView.vala"
			g_value_init (&_tmp30_, G_TYPE_FLOAT);
#line 430 "../src/Widgets/MultitaskingView.vala"
			g_value_set_float (&_tmp30_, _tmp28_);
#line 430 "../src/Widgets/MultitaskingView.vala"
			clutter_transition_set_to_value ((ClutterTransition*) _tmp29_, &_tmp30_);
#line 430 "../src/Widgets/MultitaskingView.vala"
			G_IS_VALUE (&_tmp30_) ? (g_value_unset (&_tmp30_), NULL) : NULL;
#line 431 "../src/Widgets/MultitaskingView.vala"
			_tmp31_ = _data64_->target_icon_group;
#line 431 "../src/Widgets/MultitaskingView.vala"
			_tmp32_ = target_transition;
#line 431 "../src/Widgets/MultitaskingView.vala"
			clutter_actor_add_transition ((ClutterActor*) _tmp31_, "backdrop-opacity", (ClutterTransition*) _tmp32_);
#line 416 "../src/Widgets/MultitaskingView.vala"
			_g_object_unref0 (target_transition);
#line 416 "../src/Widgets/MultitaskingView.vala"
			_g_object_unref0 (active_transition);
#line 1938 "MultitaskingView.c"
		} else {
			gfloat _tmp33_ = 0.0F;
			GalaIconGroup* _tmp34_;
			gfloat _tmp35_ = 0.0F;
			GalaIconGroup* _tmp36_;
#line 433 "../src/Widgets/MultitaskingView.vala"
			if (cancel_action) {
#line 433 "../src/Widgets/MultitaskingView.vala"
				_tmp33_ = 1.0f;
#line 1948 "MultitaskingView.c"
			} else {
#line 433 "../src/Widgets/MultitaskingView.vala"
				_tmp33_ = 0.0f;
#line 1952 "MultitaskingView.c"
			}
#line 433 "../src/Widgets/MultitaskingView.vala"
			_tmp34_ = _data64_->active_icon_group;
#line 433 "../src/Widgets/MultitaskingView.vala"
			gala_icon_group_set_backdrop_opacity (_tmp34_, _tmp33_);
#line 434 "../src/Widgets/MultitaskingView.vala"
			if (cancel_action) {
#line 434 "../src/Widgets/MultitaskingView.vala"
				_tmp35_ = 0.0f;
#line 1962 "MultitaskingView.c"
			} else {
#line 434 "../src/Widgets/MultitaskingView.vala"
				_tmp35_ = 1.0f;
#line 1966 "MultitaskingView.c"
			}
#line 434 "../src/Widgets/MultitaskingView.vala"
			_tmp36_ = _data64_->target_icon_group;
#line 434 "../src/Widgets/MultitaskingView.vala"
			gala_icon_group_set_backdrop_opacity (_tmp36_, _tmp35_);
#line 1972 "MultitaskingView.c"
		}
	}
#line 438 "../src/Widgets/MultitaskingView.vala"
	if (_data64_->is_nudge_animation) {
#line 438 "../src/Widgets/MultitaskingView.vala"
		_tmp37_ = TRUE;
#line 1979 "MultitaskingView.c"
	} else {
#line 438 "../src/Widgets/MultitaskingView.vala"
		_tmp37_ = cancel_action;
#line 1983 "MultitaskingView.c"
	}
#line 438 "../src/Widgets/MultitaskingView.vala"
	if (_tmp37_) {
#line 1987 "MultitaskingView.c"
		MetaWorkspace* _tmp38_;
		MetaDisplay* _tmp39_;
#line 439 "../src/Widgets/MultitaskingView.vala"
		_tmp38_ = _data64_->active_workspace;
#line 439 "../src/Widgets/MultitaskingView.vala"
		_tmp39_ = self->priv->display;
#line 439 "../src/Widgets/MultitaskingView.vala"
		meta_workspace_activate (_tmp38_, meta_display_get_current_time (_tmp39_));
#line 1996 "MultitaskingView.c"
	}
}

static void
___lambda73__gala_gesture_tracker_on_end (gdouble percentage,
                                          gboolean cancel_action,
                                          gint calculated_duration,
                                          gpointer self)
{
#line 402 "../src/Widgets/MultitaskingView.vala"
	__lambda73_ (self, percentage, cancel_action, calculated_duration);
#line 2008 "MultitaskingView.c"
}

static void
gala_multitasking_view_switch_workspace_with_gesture (GalaMultitaskingView* self,
                                                      MetaMotionDirection direction)
{
	Block64Data* _data64_;
	gboolean _tmp0_;
	gboolean _tmp1_;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp2_;
	MetaWorkspaceManager* _tmp3_;
	gint num_workspaces = 0;
	MetaWorkspaceManager* _tmp4_;
	gint _tmp5_ = 0;
	gint relative_dir = 0;
	MetaWorkspaceManager* _tmp6_;
	MetaWorkspace* _tmp7_;
	gint target_workspace_index = 0;
	MetaWorkspace* _tmp8_;
	gboolean _tmp9_ = FALSE;
	gboolean target_workspace_exists = FALSE;
	MetaWorkspace* target_workspace = NULL;
	MetaWorkspaceManager* _tmp10_;
	MetaWorkspace* _tmp11_;
	ClutterActor* _tmp12_;
	gfloat _tmp13_;
	gfloat _tmp14_;
	gfloat scale = 0.0F;
	MetaDisplay* _tmp15_;
	MetaDisplay* _tmp16_;
	gboolean _tmp38_ = FALSE;
	gboolean _tmp42_ = FALSE;
	MetaWorkspace* _tmp46_;
	const gchar* _tmp47_ = NULL;
	MetaWorkspace* _tmp48_;
	GalaGestureTrackerOnUpdate on_animation_update = NULL;
	gpointer on_animation_update_target;
	GDestroyNotify on_animation_update_target_destroy_notify;
	GalaGestureTrackerOnEnd on_animation_end = NULL;
	gpointer on_animation_end_target;
	GDestroyNotify on_animation_end_target_destroy_notify;
	GalaWindowManager* _tmp51_;
	gboolean _tmp52_;
	gboolean _tmp53_;
#line 325 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 325 "../src/Widgets/MultitaskingView.vala"
	_data64_ = g_slice_new0 (Block64Data);
#line 325 "../src/Widgets/MultitaskingView.vala"
	_data64_->_ref_count_ = 1;
#line 325 "../src/Widgets/MultitaskingView.vala"
	_data64_->self = g_object_ref (self);
#line 326 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = gala_multitasking_view_get_switching_workspace_in_progress (self);
#line 326 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = _tmp0_;
#line 326 "../src/Widgets/MultitaskingView.vala"
	if (_tmp1_) {
#line 327 "../src/Widgets/MultitaskingView.vala"
		block64_data_unref (_data64_);
#line 327 "../src/Widgets/MultitaskingView.vala"
		_data64_ = NULL;
#line 327 "../src/Widgets/MultitaskingView.vala"
		return;
#line 2074 "MultitaskingView.c"
	}
#line 330 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = self->priv->display;
#line 330 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = meta_display_get_workspace_manager (_tmp2_);
#line 330 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp3_;
#line 331 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = manager;
#line 331 "../src/Widgets/MultitaskingView.vala"
	num_workspaces = meta_workspace_manager_get_n_workspaces (_tmp4_);
#line 332 "../src/Widgets/MultitaskingView.vala"
	if (direction == META_MOTION_LEFT) {
#line 332 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = -1;
#line 2090 "MultitaskingView.c"
	} else {
#line 332 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = 1;
#line 2094 "MultitaskingView.c"
	}
#line 332 "../src/Widgets/MultitaskingView.vala"
	relative_dir = _tmp5_;
#line 334 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = manager;
#line 334 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = meta_workspace_manager_get_active_workspace (_tmp6_);
#line 334 "../src/Widgets/MultitaskingView.vala"
	_data64_->active_workspace = _tmp7_;
#line 336 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = _data64_->active_workspace;
#line 336 "../src/Widgets/MultitaskingView.vala"
	target_workspace_index = meta_workspace_index (_tmp8_) + relative_dir;
#line 337 "../src/Widgets/MultitaskingView.vala"
	if (target_workspace_index >= 0) {
#line 337 "../src/Widgets/MultitaskingView.vala"
		_tmp9_ = target_workspace_index < num_workspaces;
#line 2112 "MultitaskingView.c"
	} else {
#line 337 "../src/Widgets/MultitaskingView.vala"
		_tmp9_ = FALSE;
#line 2116 "MultitaskingView.c"
	}
#line 337 "../src/Widgets/MultitaskingView.vala"
	target_workspace_exists = _tmp9_;
#line 338 "../src/Widgets/MultitaskingView.vala"
	_tmp10_ = manager;
#line 338 "../src/Widgets/MultitaskingView.vala"
	_tmp11_ = meta_workspace_manager_get_workspace_by_index (_tmp10_, target_workspace_index);
#line 338 "../src/Widgets/MultitaskingView.vala"
	target_workspace = _tmp11_;
#line 340 "../src/Widgets/MultitaskingView.vala"
	_tmp12_ = self->priv->workspaces;
#line 340 "../src/Widgets/MultitaskingView.vala"
	_tmp13_ = clutter_actor_get_x (_tmp12_);
#line 340 "../src/Widgets/MultitaskingView.vala"
	_tmp14_ = _tmp13_;
#line 340 "../src/Widgets/MultitaskingView.vala"
	_data64_->initial_x = _tmp14_;
#line 341 "../src/Widgets/MultitaskingView.vala"
	_data64_->target_x = (gfloat) 0;
#line 342 "../src/Widgets/MultitaskingView.vala"
	_data64_->is_nudge_animation = !target_workspace_exists;
#line 343 "../src/Widgets/MultitaskingView.vala"
	_tmp15_ = self->priv->display;
#line 343 "../src/Widgets/MultitaskingView.vala"
	_tmp16_ = self->priv->display;
#line 343 "../src/Widgets/MultitaskingView.vala"
	scale = meta_display_get_monitor_scale (_tmp15_, meta_display_get_primary_monitor (_tmp16_));
#line 344 "../src/Widgets/MultitaskingView.vala"
	_data64_->nudge_gap = gala_internal_utils_scale_to_int (GALA_WINDOW_MANAGER_GALA_NUDGE_GAP, scale);
#line 346 "../src/Widgets/MultitaskingView.vala"
	_data64_->active_icon_group = NULL;
#line 347 "../src/Widgets/MultitaskingView.vala"
	_data64_->target_icon_group = NULL;
#line 349 "../src/Widgets/MultitaskingView.vala"
	if (_data64_->is_nudge_animation) {
#line 2152 "MultitaskingView.c"
		MtkRectangle workspaces_geometry = {0};
		MetaDisplay* _tmp17_;
		MtkRectangle _tmp18_ = {0};
		MtkRectangle _tmp19_;
#line 350 "../src/Widgets/MultitaskingView.vala"
		_tmp17_ = self->priv->display;
#line 350 "../src/Widgets/MultitaskingView.vala"
		gala_internal_utils_get_workspaces_geometry (_tmp17_, &_tmp18_);
#line 350 "../src/Widgets/MultitaskingView.vala"
		workspaces_geometry = _tmp18_;
#line 351 "../src/Widgets/MultitaskingView.vala"
		_tmp19_ = workspaces_geometry;
#line 351 "../src/Widgets/MultitaskingView.vala"
		_data64_->target_x = _data64_->initial_x + (_tmp19_.width * (-relative_dir));
#line 2167 "MultitaskingView.c"
	} else {
		ClutterActor* _tmp20_;
		GList* _tmp21_;
#line 353 "../src/Widgets/MultitaskingView.vala"
		_tmp20_ = self->priv->workspaces;
#line 353 "../src/Widgets/MultitaskingView.vala"
		_tmp21_ = clutter_actor_get_children (_tmp20_);
#line 2175 "MultitaskingView.c"
		{
			GList* child_collection = NULL;
			GList* child_it = NULL;
#line 353 "../src/Widgets/MultitaskingView.vala"
			child_collection = _tmp21_;
#line 353 "../src/Widgets/MultitaskingView.vala"
			for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 2183 "MultitaskingView.c"
				ClutterActor* child = NULL;
#line 353 "../src/Widgets/MultitaskingView.vala"
				child = (ClutterActor*) child_it->data;
#line 2187 "MultitaskingView.c"
				{
					GalaWorkspaceClone* workspace_clone = NULL;
					ClutterActor* _tmp22_;
					MetaWorkspace* workspace = NULL;
					GalaWorkspaceClone* _tmp23_;
					MetaWorkspace* _tmp24_;
					MetaWorkspace* _tmp25_;
					MetaWorkspace* _tmp26_;
					MetaWorkspace* _tmp27_;
					MetaWorkspace* _tmp28_;
#line 354 "../src/Widgets/MultitaskingView.vala"
					_tmp22_ = child;
#line 354 "../src/Widgets/MultitaskingView.vala"
					workspace_clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 355 "../src/Widgets/MultitaskingView.vala"
					_tmp23_ = workspace_clone;
#line 355 "../src/Widgets/MultitaskingView.vala"
					_tmp24_ = gala_workspace_clone_get_workspace (_tmp23_);
#line 355 "../src/Widgets/MultitaskingView.vala"
					_tmp25_ = _tmp24_;
#line 355 "../src/Widgets/MultitaskingView.vala"
					_tmp26_ = _g_object_ref0 (_tmp25_);
#line 355 "../src/Widgets/MultitaskingView.vala"
					workspace = _tmp26_;
#line 357 "../src/Widgets/MultitaskingView.vala"
					_tmp27_ = workspace;
#line 357 "../src/Widgets/MultitaskingView.vala"
					_tmp28_ = target_workspace;
#line 357 "../src/Widgets/MultitaskingView.vala"
					if (_tmp27_ == _tmp28_) {
#line 2218 "MultitaskingView.c"
						GalaWorkspaceClone* _tmp29_;
						GalaIconGroup* _tmp30_;
						GalaIconGroup* _tmp31_;
						GalaWorkspaceClone* _tmp32_;
#line 358 "../src/Widgets/MultitaskingView.vala"
						_tmp29_ = workspace_clone;
#line 358 "../src/Widgets/MultitaskingView.vala"
						_tmp30_ = gala_workspace_clone_get_icon_group (_tmp29_);
#line 358 "../src/Widgets/MultitaskingView.vala"
						_tmp31_ = _tmp30_;
#line 358 "../src/Widgets/MultitaskingView.vala"
						_data64_->target_icon_group = _tmp31_;
#line 359 "../src/Widgets/MultitaskingView.vala"
						_tmp32_ = workspace_clone;
#line 359 "../src/Widgets/MultitaskingView.vala"
						_data64_->target_x = -gala_workspace_clone_multitasking_view_x (_tmp32_);
#line 2235 "MultitaskingView.c"
					} else {
						MetaWorkspace* _tmp33_;
						MetaWorkspace* _tmp34_;
#line 360 "../src/Widgets/MultitaskingView.vala"
						_tmp33_ = workspace;
#line 360 "../src/Widgets/MultitaskingView.vala"
						_tmp34_ = _data64_->active_workspace;
#line 360 "../src/Widgets/MultitaskingView.vala"
						if (_tmp33_ == _tmp34_) {
#line 2245 "MultitaskingView.c"
							GalaWorkspaceClone* _tmp35_;
							GalaIconGroup* _tmp36_;
							GalaIconGroup* _tmp37_;
#line 361 "../src/Widgets/MultitaskingView.vala"
							_tmp35_ = workspace_clone;
#line 361 "../src/Widgets/MultitaskingView.vala"
							_tmp36_ = gala_workspace_clone_get_icon_group (_tmp35_);
#line 361 "../src/Widgets/MultitaskingView.vala"
							_tmp37_ = _tmp36_;
#line 361 "../src/Widgets/MultitaskingView.vala"
							_data64_->active_icon_group = _tmp37_;
#line 2257 "MultitaskingView.c"
						}
					}
#line 353 "../src/Widgets/MultitaskingView.vala"
					_g_object_unref0 (workspace);
#line 2262 "MultitaskingView.c"
				}
			}
#line 353 "../src/Widgets/MultitaskingView.vala"
			(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 2267 "MultitaskingView.c"
		}
	}
#line 366 "../src/Widgets/MultitaskingView.vala"
	if (!_data64_->is_nudge_animation) {
#line 2272 "MultitaskingView.c"
		GalaIconGroup* _tmp39_;
		ClutterTransition* _tmp40_;
#line 366 "../src/Widgets/MultitaskingView.vala"
		_tmp39_ = _data64_->active_icon_group;
#line 366 "../src/Widgets/MultitaskingView.vala"
		_tmp40_ = clutter_actor_get_transition ((ClutterActor*) _tmp39_, "backdrop-opacity");
#line 366 "../src/Widgets/MultitaskingView.vala"
		_tmp38_ = _tmp40_ != NULL;
#line 2281 "MultitaskingView.c"
	} else {
#line 366 "../src/Widgets/MultitaskingView.vala"
		_tmp38_ = FALSE;
#line 2285 "MultitaskingView.c"
	}
#line 366 "../src/Widgets/MultitaskingView.vala"
	if (_tmp38_) {
#line 2289 "MultitaskingView.c"
		GalaIconGroup* _tmp41_;
#line 367 "../src/Widgets/MultitaskingView.vala"
		_tmp41_ = _data64_->active_icon_group;
#line 367 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_remove_transition ((ClutterActor*) _tmp41_, "backdrop-opacity");
#line 2295 "MultitaskingView.c"
	}
#line 369 "../src/Widgets/MultitaskingView.vala"
	if (!_data64_->is_nudge_animation) {
#line 2299 "MultitaskingView.c"
		GalaIconGroup* _tmp43_;
		ClutterTransition* _tmp44_;
#line 369 "../src/Widgets/MultitaskingView.vala"
		_tmp43_ = _data64_->target_icon_group;
#line 369 "../src/Widgets/MultitaskingView.vala"
		_tmp44_ = clutter_actor_get_transition ((ClutterActor*) _tmp43_, "backdrop-opacity");
#line 369 "../src/Widgets/MultitaskingView.vala"
		_tmp42_ = _tmp44_ != NULL;
#line 2308 "MultitaskingView.c"
	} else {
#line 369 "../src/Widgets/MultitaskingView.vala"
		_tmp42_ = FALSE;
#line 2312 "MultitaskingView.c"
	}
#line 369 "../src/Widgets/MultitaskingView.vala"
	if (_tmp42_) {
#line 2316 "MultitaskingView.c"
		GalaIconGroup* _tmp45_;
#line 370 "../src/Widgets/MultitaskingView.vala"
		_tmp45_ = _data64_->target_icon_group;
#line 370 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_remove_transition ((ClutterActor*) _tmp45_, "backdrop-opacity");
#line 2322 "MultitaskingView.c"
	}
#line 373 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:373: Starting MultitaskingView switch workspace " \
"animation:");
#line 374 "../src/Widgets/MultitaskingView.vala"
	_tmp46_ = _data64_->active_workspace;
#line 374 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:374: Active workspace index: %d", meta_workspace_index (_tmp46_));
#line 375 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:375: Target workspace index: %d", target_workspace_index);
#line 376 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:376: Total number of workspaces: %d", num_workspaces);
#line 377 "../src/Widgets/MultitaskingView.vala"
	if (_data64_->is_nudge_animation) {
#line 377 "../src/Widgets/MultitaskingView.vala"
		_tmp47_ = "Yes";
#line 2338 "MultitaskingView.c"
	} else {
#line 377 "../src/Widgets/MultitaskingView.vala"
		_tmp47_ = "No";
#line 2342 "MultitaskingView.c"
	}
#line 377 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:377: Is nudge animation: %s", _tmp47_);
#line 378 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:378: Initial X: %f", (gdouble) _data64_->initial_x);
#line 379 "../src/Widgets/MultitaskingView.vala"
	g_debug ("MultitaskingView.vala:379: Target X: %f", (gdouble) _data64_->target_x);
#line 381 "../src/Widgets/MultitaskingView.vala"
	self->priv->switching_workspace_with_gesture = TRUE;
#line 382 "../src/Widgets/MultitaskingView.vala"
	_tmp48_ = target_workspace;
#line 382 "../src/Widgets/MultitaskingView.vala"
	if (_tmp48_ != NULL) {
#line 2356 "MultitaskingView.c"
		MetaWorkspace* _tmp49_;
		MetaDisplay* _tmp50_;
#line 383 "../src/Widgets/MultitaskingView.vala"
		_tmp49_ = target_workspace;
#line 383 "../src/Widgets/MultitaskingView.vala"
		_tmp50_ = self->priv->display;
#line 383 "../src/Widgets/MultitaskingView.vala"
		meta_workspace_activate (_tmp49_, meta_display_get_current_time (_tmp50_));
#line 2365 "MultitaskingView.c"
	}
#line 386 "../src/Widgets/MultitaskingView.vala"
	on_animation_update = ___lambda72__gala_gesture_tracker_on_update;
#line 386 "../src/Widgets/MultitaskingView.vala"
	on_animation_update_target = block64_data_ref (_data64_);
#line 386 "../src/Widgets/MultitaskingView.vala"
	on_animation_update_target_destroy_notify = block64_data_unref;
#line 402 "../src/Widgets/MultitaskingView.vala"
	on_animation_end = ___lambda73__gala_gesture_tracker_on_end;
#line 402 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target = block64_data_ref (_data64_);
#line 402 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target_destroy_notify = block64_data_unref;
#line 443 "../src/Widgets/MultitaskingView.vala"
	_tmp51_ = self->priv->_wm;
#line 443 "../src/Widgets/MultitaskingView.vala"
	_tmp52_ = gala_window_manager_get_enable_animations (_tmp51_);
#line 443 "../src/Widgets/MultitaskingView.vala"
	_tmp53_ = _tmp52_;
#line 443 "../src/Widgets/MultitaskingView.vala"
	if (!_tmp53_) {
#line 2387 "MultitaskingView.c"
		GalaGestureTrackerOnEnd _tmp54_;
		gpointer _tmp54__target;
#line 444 "../src/Widgets/MultitaskingView.vala"
		_tmp54_ = on_animation_end;
#line 444 "../src/Widgets/MultitaskingView.vala"
		_tmp54__target = on_animation_end_target;
#line 444 "../src/Widgets/MultitaskingView.vala"
		_tmp54_ ((gdouble) 1, FALSE, 0, _tmp54__target);
#line 2396 "MultitaskingView.c"
	} else {
		GalaGestureTracker* _tmp55_;
		GalaGestureTrackerOnUpdate _tmp56_;
		gpointer _tmp56__target;
		GDestroyNotify _tmp56__target_destroy_notify;
		GalaGestureTrackerOnEnd _tmp57_;
		gpointer _tmp57__target;
		GDestroyNotify _tmp57__target_destroy_notify;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp55_ = self->priv->workspace_gesture_tracker;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp56_ = on_animation_update;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp56__target = on_animation_update_target;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp56__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 446 "../src/Widgets/MultitaskingView.vala"
		on_animation_update = NULL;
#line 446 "../src/Widgets/MultitaskingView.vala"
		on_animation_update_target = NULL;
#line 446 "../src/Widgets/MultitaskingView.vala"
		on_animation_update_target_destroy_notify = NULL;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp57_ = on_animation_end;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp57__target = on_animation_end_target;
#line 446 "../src/Widgets/MultitaskingView.vala"
		_tmp57__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 446 "../src/Widgets/MultitaskingView.vala"
		on_animation_end = NULL;
#line 446 "../src/Widgets/MultitaskingView.vala"
		on_animation_end_target = NULL;
#line 446 "../src/Widgets/MultitaskingView.vala"
		on_animation_end_target_destroy_notify = NULL;
#line 446 "../src/Widgets/MultitaskingView.vala"
		gala_gesture_tracker_connect_handlers (_tmp55_, NULL, NULL, NULL, _tmp56_, _tmp56__target, _tmp56__target_destroy_notify, _tmp57_, _tmp57__target, _tmp57__target_destroy_notify);
#line 2433 "MultitaskingView.c"
	}
#line 325 "../src/Widgets/MultitaskingView.vala"
	(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 325 "../src/Widgets/MultitaskingView.vala"
	on_animation_end = NULL;
#line 325 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target = NULL;
#line 325 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target_destroy_notify = NULL;
#line 325 "../src/Widgets/MultitaskingView.vala"
	(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 325 "../src/Widgets/MultitaskingView.vala"
	on_animation_update = NULL;
#line 325 "../src/Widgets/MultitaskingView.vala"
	on_animation_update_target = NULL;
#line 325 "../src/Widgets/MultitaskingView.vala"
	on_animation_update_target_destroy_notify = NULL;
#line 325 "../src/Widgets/MultitaskingView.vala"
	block64_data_unref (_data64_);
#line 325 "../src/Widgets/MultitaskingView.vala"
	_data64_ = NULL;
#line 2455 "MultitaskingView.c"
}

/**
         * Places the WorkspaceClones, moves the view so that the active one is shown
         * and does the same for the IconGroups.
         *
         * @param animate Whether to animate the movement or have all elements take their
         *                positions immediately.
         */
static void
gala_multitasking_view_update_positions (GalaMultitaskingView* self,
                                         gboolean animate)
{
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* _tmp1_;
	MetaWorkspace* active_workspace = NULL;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* _tmp3_;
	MetaWorkspace* _tmp4_;
	gfloat active_x = 0.0F;
	ClutterActor* _tmp5_;
	GList* _tmp6_;
	ClutterActor* _tmp30_;
	ClutterActor* _tmp31_;
	GalaAnimationDuration _tmp32_ = 0;
	gboolean _tmp33_ = FALSE;
	ClutterActor* _tmp37_;
	ClutterActor* _tmp38_;
	ClutterActor* _tmp39_;
#line 457 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 458 "../src/Widgets/MultitaskingView.vala"
	if (self->priv->switching_workspace_with_gesture) {
#line 459 "../src/Widgets/MultitaskingView.vala"
		return;
#line 2492 "MultitaskingView.c"
	}
#line 462 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 462 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_display_get_workspace_manager (_tmp0_);
#line 462 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp1_;
#line 463 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = manager;
#line 463 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = meta_workspace_manager_get_active_workspace (_tmp2_);
#line 463 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 463 "../src/Widgets/MultitaskingView.vala"
	active_workspace = _tmp4_;
#line 464 "../src/Widgets/MultitaskingView.vala"
	active_x = 0.0f;
#line 466 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = self->priv->workspaces;
#line 466 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = clutter_actor_get_children (_tmp5_);
#line 2514 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 466 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp6_;
#line 466 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 2522 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 466 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 2526 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace_clone = NULL;
				ClutterActor* _tmp7_;
				MetaWorkspace* workspace = NULL;
				GalaWorkspaceClone* _tmp8_;
				MetaWorkspace* _tmp9_;
				MetaWorkspace* _tmp10_;
				MetaWorkspace* _tmp11_;
				gfloat dest_x = 0.0F;
				GalaWorkspaceClone* _tmp12_;
				MetaWorkspace* _tmp13_;
				MetaWorkspace* _tmp14_;
				GalaWorkspaceClone* _tmp21_;
				gint _tmp22_ = 0;
				gboolean _tmp23_ = FALSE;
				GalaWorkspaceClone* _tmp27_;
				GalaWorkspaceClone* _tmp28_;
				GalaWorkspaceClone* _tmp29_;
#line 467 "../src/Widgets/MultitaskingView.vala"
				_tmp7_ = child;
#line 467 "../src/Widgets/MultitaskingView.vala"
				workspace_clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 468 "../src/Widgets/MultitaskingView.vala"
				_tmp8_ = workspace_clone;
#line 468 "../src/Widgets/MultitaskingView.vala"
				_tmp9_ = gala_workspace_clone_get_workspace (_tmp8_);
#line 468 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = _tmp9_;
#line 468 "../src/Widgets/MultitaskingView.vala"
				_tmp11_ = _g_object_ref0 (_tmp10_);
#line 468 "../src/Widgets/MultitaskingView.vala"
				workspace = _tmp11_;
#line 469 "../src/Widgets/MultitaskingView.vala"
				_tmp12_ = workspace_clone;
#line 469 "../src/Widgets/MultitaskingView.vala"
				dest_x = gala_workspace_clone_multitasking_view_x (_tmp12_);
#line 471 "../src/Widgets/MultitaskingView.vala"
				_tmp13_ = workspace;
#line 471 "../src/Widgets/MultitaskingView.vala"
				_tmp14_ = active_workspace;
#line 471 "../src/Widgets/MultitaskingView.vala"
				if (_tmp13_ == _tmp14_) {
#line 2569 "MultitaskingView.c"
					GalaWorkspaceClone* _tmp15_;
					GalaIconGroup* _tmp16_;
					GalaIconGroup* _tmp17_;
#line 472 "../src/Widgets/MultitaskingView.vala"
					active_x = dest_x;
#line 473 "../src/Widgets/MultitaskingView.vala"
					_tmp15_ = workspace_clone;
#line 473 "../src/Widgets/MultitaskingView.vala"
					_tmp16_ = gala_workspace_clone_get_icon_group (_tmp15_);
#line 473 "../src/Widgets/MultitaskingView.vala"
					_tmp17_ = _tmp16_;
#line 473 "../src/Widgets/MultitaskingView.vala"
					gala_icon_group_set_backdrop_opacity (_tmp17_, 1.0f);
#line 2583 "MultitaskingView.c"
				} else {
					GalaWorkspaceClone* _tmp18_;
					GalaIconGroup* _tmp19_;
					GalaIconGroup* _tmp20_;
#line 475 "../src/Widgets/MultitaskingView.vala"
					_tmp18_ = workspace_clone;
#line 475 "../src/Widgets/MultitaskingView.vala"
					_tmp19_ = gala_workspace_clone_get_icon_group (_tmp18_);
#line 475 "../src/Widgets/MultitaskingView.vala"
					_tmp20_ = _tmp19_;
#line 475 "../src/Widgets/MultitaskingView.vala"
					gala_icon_group_set_backdrop_opacity (_tmp20_, 0.0f);
#line 2596 "MultitaskingView.c"
				}
#line 478 "../src/Widgets/MultitaskingView.vala"
				_tmp21_ = workspace_clone;
#line 478 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_save_easing_state ((ClutterActor*) _tmp21_);
#line 479 "../src/Widgets/MultitaskingView.vala"
				if (animate) {
#line 2604 "MultitaskingView.c"
					GalaWindowManager* _tmp24_;
					gboolean _tmp25_;
					gboolean _tmp26_;
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp24_ = self->priv->_wm;
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp25_ = gala_window_manager_get_enable_animations (_tmp24_);
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp26_ = _tmp25_;
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp23_ = _tmp26_;
#line 2616 "MultitaskingView.c"
				} else {
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp23_ = FALSE;
#line 2620 "MultitaskingView.c"
				}
#line 479 "../src/Widgets/MultitaskingView.vala"
				if (_tmp23_) {
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp22_ = 200;
#line 2626 "MultitaskingView.c"
				} else {
#line 479 "../src/Widgets/MultitaskingView.vala"
					_tmp22_ = 0;
#line 2630 "MultitaskingView.c"
				}
#line 479 "../src/Widgets/MultitaskingView.vala"
				_tmp27_ = workspace_clone;
#line 479 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_set_easing_duration ((ClutterActor*) _tmp27_, (guint) _tmp22_);
#line 480 "../src/Widgets/MultitaskingView.vala"
				_tmp28_ = workspace_clone;
#line 480 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_set_x ((ClutterActor*) _tmp28_, dest_x);
#line 481 "../src/Widgets/MultitaskingView.vala"
				_tmp29_ = workspace_clone;
#line 481 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_restore_easing_state ((ClutterActor*) _tmp29_);
#line 466 "../src/Widgets/MultitaskingView.vala"
				_g_object_unref0 (workspace);
#line 2646 "MultitaskingView.c"
			}
		}
#line 466 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 2651 "MultitaskingView.c"
	}
#line 484 "../src/Widgets/MultitaskingView.vala"
	_tmp30_ = self->priv->workspaces;
#line 484 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_save_easing_state (_tmp30_);
#line 485 "../src/Widgets/MultitaskingView.vala"
	_tmp31_ = self->priv->workspaces;
#line 485 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_mode (_tmp31_, CLUTTER_EASE_OUT_QUAD);
#line 486 "../src/Widgets/MultitaskingView.vala"
	if (animate) {
#line 2663 "MultitaskingView.c"
		GalaWindowManager* _tmp34_;
		gboolean _tmp35_;
		gboolean _tmp36_;
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp34_ = self->priv->_wm;
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp35_ = gala_window_manager_get_enable_animations (_tmp34_);
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp36_ = _tmp35_;
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp33_ = _tmp36_;
#line 2675 "MultitaskingView.c"
	} else {
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp33_ = FALSE;
#line 2679 "MultitaskingView.c"
	}
#line 486 "../src/Widgets/MultitaskingView.vala"
	if (_tmp33_) {
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp32_ = GALA_ANIMATION_DURATION_WORKSPACE_SWITCH_MIN;
#line 2685 "MultitaskingView.c"
	} else {
#line 486 "../src/Widgets/MultitaskingView.vala"
		_tmp32_ = 0;
#line 2689 "MultitaskingView.c"
	}
#line 486 "../src/Widgets/MultitaskingView.vala"
	_tmp37_ = self->priv->workspaces;
#line 486 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_duration (_tmp37_, (guint) _tmp32_);
#line 487 "../src/Widgets/MultitaskingView.vala"
	_tmp38_ = self->priv->workspaces;
#line 487 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_x (_tmp38_, -active_x);
#line 488 "../src/Widgets/MultitaskingView.vala"
	_tmp39_ = self->priv->workspaces;
#line 488 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_restore_easing_state (_tmp39_);
#line 490 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_reposition_icon_groups (self, animate);
#line 457 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (active_workspace);
#line 2707 "MultitaskingView.c"
}

static void
gala_multitasking_view_reposition_icon_groups (GalaMultitaskingView* self,
                                               gboolean animate)
{
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* _tmp1_;
	gint active_index = 0;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* _tmp3_;
	gfloat scale = 0.0F;
	MetaDisplay* _tmp7_;
	MetaDisplay* _tmp8_;
	gfloat icon_groups_width = 0.0F;
	GalaIconGroupContainer* _tmp9_;
	ClutterActor* _tmp10_;
	gfloat _tmp11_;
	gfloat _tmp12_;
#line 493 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 494 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 494 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_display_get_workspace_manager (_tmp0_);
#line 494 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp1_;
#line 495 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = manager;
#line 495 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = meta_workspace_manager_get_active_workspace (_tmp2_);
#line 495 "../src/Widgets/MultitaskingView.vala"
	active_index = meta_workspace_index (_tmp3_);
#line 497 "../src/Widgets/MultitaskingView.vala"
	if (animate) {
#line 2744 "MultitaskingView.c"
		GalaIconGroupContainer* _tmp4_;
		GalaIconGroupContainer* _tmp5_;
		GalaIconGroupContainer* _tmp6_;
#line 498 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = self->priv->icon_groups;
#line 498 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_save_easing_state ((ClutterActor*) _tmp4_);
#line 499 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = self->priv->icon_groups;
#line 499 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_set_easing_mode ((ClutterActor*) _tmp5_, CLUTTER_EASE_OUT_QUAD);
#line 500 "../src/Widgets/MultitaskingView.vala"
		_tmp6_ = self->priv->icon_groups;
#line 500 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_set_easing_duration ((ClutterActor*) _tmp6_, (guint) 200);
#line 2760 "MultitaskingView.c"
	}
#line 503 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = self->priv->display;
#line 503 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = self->priv->display;
#line 503 "../src/Widgets/MultitaskingView.vala"
	scale = meta_display_get_monitor_scale (_tmp7_, meta_display_get_primary_monitor (_tmp8_));
#line 505 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = self->priv->icon_groups;
#line 505 "../src/Widgets/MultitaskingView.vala"
	icon_groups_width = gala_icon_group_container_calculate_total_width (_tmp9_);
#line 506 "../src/Widgets/MultitaskingView.vala"
	_tmp10_ = self->priv->primary_monitor_container;
#line 506 "../src/Widgets/MultitaskingView.vala"
	_tmp11_ = clutter_actor_get_width (_tmp10_);
#line 506 "../src/Widgets/MultitaskingView.vala"
	_tmp12_ = _tmp11_;
#line 506 "../src/Widgets/MultitaskingView.vala"
	if (icon_groups_width > _tmp12_) {
#line 2780 "MultitaskingView.c"
		GalaIconGroupContainer* _tmp13_;
		ClutterActor* _tmp14_;
		gfloat _tmp15_;
		gfloat _tmp16_;
		ClutterActor* _tmp17_;
		gfloat _tmp18_;
		gfloat _tmp19_;
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp13_ = self->priv->icon_groups;
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp14_ = self->priv->primary_monitor_container;
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp15_ = clutter_actor_get_width (_tmp14_);
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp16_ = _tmp15_;
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp17_ = self->priv->primary_monitor_container;
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp18_ = clutter_actor_get_width (_tmp17_);
#line 507 "../src/Widgets/MultitaskingView.vala"
		_tmp19_ = _tmp18_;
#line 507 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_set_x ((ClutterActor*) _tmp13_, CLAMP (((-active_index) * gala_internal_utils_scale_to_int (GALA_ICON_GROUP_CONTAINER_SPACING + GALA_ICON_GROUP_SIZE, scale)) + (_tmp16_ / 2), (_tmp19_ - icon_groups_width) - gala_internal_utils_scale_to_int (64, scale), (gfloat) gala_internal_utils_scale_to_int (64, scale)));
#line 2804 "MultitaskingView.c"
	} else {
		GalaIconGroupContainer* _tmp20_;
		ClutterActor* _tmp21_;
		gfloat _tmp22_;
		gfloat _tmp23_;
#line 510 "../src/Widgets/MultitaskingView.vala"
		_tmp20_ = self->priv->icon_groups;
#line 510 "../src/Widgets/MultitaskingView.vala"
		_tmp21_ = self->priv->primary_monitor_container;
#line 510 "../src/Widgets/MultitaskingView.vala"
		_tmp22_ = clutter_actor_get_width (_tmp21_);
#line 510 "../src/Widgets/MultitaskingView.vala"
		_tmp23_ = _tmp22_;
#line 510 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_set_x ((ClutterActor*) _tmp20_, (_tmp23_ / 2) - (icon_groups_width / 2));
#line 2820 "MultitaskingView.c"
	}
#line 512 "../src/Widgets/MultitaskingView.vala"
	if (animate) {
#line 2824 "MultitaskingView.c"
		GalaIconGroupContainer* _tmp24_;
#line 513 "../src/Widgets/MultitaskingView.vala"
		_tmp24_ = self->priv->icon_groups;
#line 513 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_restore_easing_state ((ClutterActor*) _tmp24_);
#line 2830 "MultitaskingView.c"
	}
}

static void
_gala_multitasking_view_window_selected_gala_workspace_clone_window_selected (GalaWorkspaceClone* _sender,
                                                                              MetaWindow* window,
                                                                              gpointer self)
{
#line 525 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_window_selected ((GalaMultitaskingView*) self, window);
#line 2841 "MultitaskingView.c"
}

static void
_gala_multitasking_view_activate_workspace_gala_workspace_clone_selected (GalaWorkspaceClone* _sender,
                                                                          gboolean close_view,
                                                                          gpointer self)
{
#line 526 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_activate_workspace ((GalaMultitaskingView*) self, _sender, close_view);
#line 2851 "MultitaskingView.c"
}

static void
gala_multitasking_view_add_workspace (GalaMultitaskingView* self,
                                      gint num)
{
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* _tmp1_;
	gfloat scale = 0.0F;
	MetaDisplay* _tmp2_;
	MetaDisplay* _tmp3_;
	GalaWorkspaceClone* workspace = NULL;
	GalaWindowManager* _tmp4_;
	MetaWorkspaceManager* _tmp5_;
	MetaWorkspace* _tmp6_;
	GalaGestureTracker* _tmp7_;
	GalaWorkspaceClone* _tmp8_;
	ClutterActor* _tmp9_;
	GalaWorkspaceClone* _tmp10_;
	GalaIconGroupContainer* _tmp11_;
	GalaWorkspaceClone* _tmp12_;
	GalaIconGroup* _tmp13_;
	GalaIconGroup* _tmp14_;
	GalaWorkspaceClone* _tmp15_;
	GalaWorkspaceClone* _tmp16_;
#line 517 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 518 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 518 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_display_get_workspace_manager (_tmp0_);
#line 518 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp1_;
#line 519 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = self->priv->display;
#line 519 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = self->priv->display;
#line 519 "../src/Widgets/MultitaskingView.vala"
	scale = meta_display_get_monitor_scale (_tmp2_, meta_display_get_primary_monitor (_tmp3_));
#line 521 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = self->priv->_wm;
#line 521 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = manager;
#line 521 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = meta_workspace_manager_get_workspace_by_index (_tmp5_, num);
#line 521 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = self->priv->multitasking_gesture_tracker;
#line 521 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = gala_workspace_clone_new (_tmp4_, _tmp6_, _tmp7_, scale);
#line 521 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp8_);
#line 521 "../src/Widgets/MultitaskingView.vala"
	workspace = _tmp8_;
#line 522 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = self->priv->workspaces;
#line 522 "../src/Widgets/MultitaskingView.vala"
	_tmp10_ = workspace;
#line 522 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_insert_child_at_index (_tmp9_, (ClutterActor*) _tmp10_, num);
#line 523 "../src/Widgets/MultitaskingView.vala"
	_tmp11_ = self->priv->icon_groups;
#line 523 "../src/Widgets/MultitaskingView.vala"
	_tmp12_ = workspace;
#line 523 "../src/Widgets/MultitaskingView.vala"
	_tmp13_ = gala_workspace_clone_get_icon_group (_tmp12_);
#line 523 "../src/Widgets/MultitaskingView.vala"
	_tmp14_ = _tmp13_;
#line 523 "../src/Widgets/MultitaskingView.vala"
	gala_icon_group_container_add_group (_tmp11_, _tmp14_);
#line 525 "../src/Widgets/MultitaskingView.vala"
	_tmp15_ = workspace;
#line 525 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp15_, "window-selected", (GCallback) _gala_multitasking_view_window_selected_gala_workspace_clone_window_selected, self, 0);
#line 526 "../src/Widgets/MultitaskingView.vala"
	_tmp16_ = workspace;
#line 526 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp16_, "selected", (GCallback) _gala_multitasking_view_activate_workspace_gala_workspace_clone_selected, self, 0);
#line 528 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_positions (self, FALSE);
#line 530 "../src/Widgets/MultitaskingView.vala"
	if (self->priv->opened) {
#line 2934 "MultitaskingView.c"
		GalaWorkspaceClone* _tmp17_;
#line 531 "../src/Widgets/MultitaskingView.vala"
		_tmp17_ = workspace;
#line 531 "../src/Widgets/MultitaskingView.vala"
		gala_workspace_clone_open (_tmp17_, FALSE, FALSE);
#line 2940 "MultitaskingView.c"
	}
#line 517 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (workspace);
#line 2944 "MultitaskingView.c"
}

static void
gala_multitasking_view_remove_workspace (GalaMultitaskingView* self,
                                         gint num)
{
	GalaWorkspaceClone* workspace = NULL;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* _tmp1_;
	GList* existing_workspaces = NULL;
	ClutterActor* _tmp8_;
	GList* _tmp9_;
	GalaWorkspaceClone* _tmp17_;
	GalaWorkspaceClone* _tmp18_;
	guint _tmp19_;
	GalaWorkspaceClone* _tmp20_;
	guint _tmp21_;
	GalaIconGroupContainer* _tmp22_;
	GalaWorkspaceClone* _tmp23_;
	GalaIconGroup* _tmp24_;
	GalaIconGroup* _tmp25_;
	GalaWorkspaceClone* _tmp30_;
#line 535 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 536 "../src/Widgets/MultitaskingView.vala"
	workspace = NULL;
#line 539 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 539 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_display_get_workspace_manager (_tmp0_);
#line 539 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp1_;
#line 540 "../src/Widgets/MultitaskingView.vala"
	existing_workspaces = NULL;
#line 2980 "MultitaskingView.c"
	{
		gint i = 0;
#line 541 "../src/Widgets/MultitaskingView.vala"
		i = 0;
#line 2985 "MultitaskingView.c"
		{
			gboolean _tmp2_ = FALSE;
#line 541 "../src/Widgets/MultitaskingView.vala"
			_tmp2_ = TRUE;
#line 541 "../src/Widgets/MultitaskingView.vala"
			while (TRUE) {
#line 2992 "MultitaskingView.c"
				MetaWorkspaceManager* _tmp4_;
				MetaWorkspaceManager* _tmp5_;
				MetaWorkspace* _tmp6_;
				MetaWorkspace* _tmp7_;
#line 541 "../src/Widgets/MultitaskingView.vala"
				if (!_tmp2_) {
#line 2999 "MultitaskingView.c"
					gint _tmp3_;
#line 541 "../src/Widgets/MultitaskingView.vala"
					_tmp3_ = i;
#line 541 "../src/Widgets/MultitaskingView.vala"
					i = _tmp3_ + 1;
#line 3005 "MultitaskingView.c"
				}
#line 541 "../src/Widgets/MultitaskingView.vala"
				_tmp2_ = FALSE;
#line 541 "../src/Widgets/MultitaskingView.vala"
				_tmp4_ = manager;
#line 541 "../src/Widgets/MultitaskingView.vala"
				if (!(i < meta_workspace_manager_get_n_workspaces (_tmp4_))) {
#line 541 "../src/Widgets/MultitaskingView.vala"
					break;
#line 3015 "MultitaskingView.c"
				}
#line 542 "../src/Widgets/MultitaskingView.vala"
				_tmp5_ = manager;
#line 542 "../src/Widgets/MultitaskingView.vala"
				_tmp6_ = meta_workspace_manager_get_workspace_by_index (_tmp5_, i);
#line 542 "../src/Widgets/MultitaskingView.vala"
				_tmp7_ = _g_object_ref0 (_tmp6_);
#line 542 "../src/Widgets/MultitaskingView.vala"
				existing_workspaces = g_list_append (existing_workspaces, _tmp7_);
#line 3025 "MultitaskingView.c"
			}
		}
	}
#line 545 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = self->priv->workspaces;
#line 545 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = clutter_actor_get_children (_tmp8_);
#line 3033 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 545 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp9_;
#line 545 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 3041 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 545 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 3045 "MultitaskingView.c"
			{
				GalaWorkspaceClone* clone = NULL;
				ClutterActor* _tmp10_;
				GList* _tmp11_;
				GalaWorkspaceClone* _tmp12_;
				MetaWorkspace* _tmp13_;
				MetaWorkspace* _tmp14_;
#line 546 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = child;
#line 546 "../src/Widgets/MultitaskingView.vala"
				clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 547 "../src/Widgets/MultitaskingView.vala"
				_tmp11_ = existing_workspaces;
#line 547 "../src/Widgets/MultitaskingView.vala"
				_tmp12_ = clone;
#line 547 "../src/Widgets/MultitaskingView.vala"
				_tmp13_ = gala_workspace_clone_get_workspace (_tmp12_);
#line 547 "../src/Widgets/MultitaskingView.vala"
				_tmp14_ = _tmp13_;
#line 547 "../src/Widgets/MultitaskingView.vala"
				if (g_list_index (_tmp11_, _tmp14_) < 0) {
#line 3067 "MultitaskingView.c"
					GalaWorkspaceClone* _tmp15_;
					GalaWorkspaceClone* _tmp16_;
#line 548 "../src/Widgets/MultitaskingView.vala"
					_tmp15_ = clone;
#line 548 "../src/Widgets/MultitaskingView.vala"
					_tmp16_ = _g_object_ref0 (_tmp15_);
#line 548 "../src/Widgets/MultitaskingView.vala"
					_g_object_unref0 (workspace);
#line 548 "../src/Widgets/MultitaskingView.vala"
					workspace = _tmp16_;
#line 549 "../src/Widgets/MultitaskingView.vala"
					break;
#line 3080 "MultitaskingView.c"
				}
			}
		}
#line 545 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 3086 "MultitaskingView.c"
	}
#line 553 "../src/Widgets/MultitaskingView.vala"
	_tmp17_ = workspace;
#line 553 "../src/Widgets/MultitaskingView.vala"
	if (_tmp17_ == NULL) {
#line 554 "../src/Widgets/MultitaskingView.vala"
		(existing_workspaces == NULL) ? NULL : (existing_workspaces = (_g_list_free__g_object_unref0_ (existing_workspaces), NULL));
#line 554 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (workspace);
#line 554 "../src/Widgets/MultitaskingView.vala"
		return;
#line 3098 "MultitaskingView.c"
	}
#line 557 "../src/Widgets/MultitaskingView.vala"
	_tmp18_ = workspace;
#line 557 "../src/Widgets/MultitaskingView.vala"
	g_signal_parse_name ("window-selected", GALA_TYPE_WORKSPACE_CLONE, &_tmp19_, NULL, FALSE);
#line 557 "../src/Widgets/MultitaskingView.vala"
	g_signal_handlers_disconnect_matched (_tmp18_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp19_, 0, NULL, (GCallback) _gala_multitasking_view_window_selected_gala_workspace_clone_window_selected, self);
#line 558 "../src/Widgets/MultitaskingView.vala"
	_tmp20_ = workspace;
#line 558 "../src/Widgets/MultitaskingView.vala"
	g_signal_parse_name ("selected", GALA_TYPE_WORKSPACE_CLONE, &_tmp21_, NULL, FALSE);
#line 558 "../src/Widgets/MultitaskingView.vala"
	g_signal_handlers_disconnect_matched (_tmp20_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp21_, 0, NULL, (GCallback) _gala_multitasking_view_activate_workspace_gala_workspace_clone_selected, self);
#line 560 "../src/Widgets/MultitaskingView.vala"
	_tmp22_ = self->priv->icon_groups;
#line 560 "../src/Widgets/MultitaskingView.vala"
	_tmp23_ = workspace;
#line 560 "../src/Widgets/MultitaskingView.vala"
	_tmp24_ = gala_workspace_clone_get_icon_group (_tmp23_);
#line 560 "../src/Widgets/MultitaskingView.vala"
	_tmp25_ = _tmp24_;
#line 560 "../src/Widgets/MultitaskingView.vala"
	if (clutter_actor_contains ((ClutterActor*) _tmp22_, (ClutterActor*) _tmp25_)) {
#line 3122 "MultitaskingView.c"
		GalaIconGroupContainer* _tmp26_;
		GalaWorkspaceClone* _tmp27_;
		GalaIconGroup* _tmp28_;
		GalaIconGroup* _tmp29_;
#line 561 "../src/Widgets/MultitaskingView.vala"
		_tmp26_ = self->priv->icon_groups;
#line 561 "../src/Widgets/MultitaskingView.vala"
		_tmp27_ = workspace;
#line 561 "../src/Widgets/MultitaskingView.vala"
		_tmp28_ = gala_workspace_clone_get_icon_group (_tmp27_);
#line 561 "../src/Widgets/MultitaskingView.vala"
		_tmp29_ = _tmp28_;
#line 561 "../src/Widgets/MultitaskingView.vala"
		gala_icon_group_container_remove_group (_tmp26_, _tmp29_);
#line 3137 "MultitaskingView.c"
	}
#line 564 "../src/Widgets/MultitaskingView.vala"
	_tmp30_ = workspace;
#line 564 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_destroy ((ClutterActor*) _tmp30_);
#line 566 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_positions (self, self->priv->opened);
#line 535 "../src/Widgets/MultitaskingView.vala"
	(existing_workspaces == NULL) ? NULL : (existing_workspaces = (_g_list_free__g_object_unref0_ (existing_workspaces), NULL));
#line 535 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (workspace);
#line 3149 "MultitaskingView.c"
}

/**
         * Activates the workspace of a WorkspaceClone
         *
         * @param close_view Whether to close the view as well. Will only be considered
         *                   if the workspace is also the currently active workspace.
         *                   Otherwise it will only be made active, but the view won't be
         *                   closed.
         */
static void
gala_multitasking_view_activate_workspace (GalaMultitaskingView* self,
                                           GalaWorkspaceClone* clone,
                                           gboolean close_view)
{
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* _tmp1_;
	gboolean _tmp2_ = FALSE;
	MetaWorkspace* _tmp7_;
	MetaWorkspace* _tmp8_;
	MetaDisplay* _tmp9_;
#line 577 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 577 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (clone != NULL);
#line 578 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 578 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_display_get_workspace_manager (_tmp0_);
#line 578 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp1_;
#line 579 "../src/Widgets/MultitaskingView.vala"
	if (close_view) {
#line 3184 "MultitaskingView.c"
		MetaWorkspaceManager* _tmp3_;
		MetaWorkspace* _tmp4_;
		MetaWorkspace* _tmp5_;
		MetaWorkspace* _tmp6_;
#line 579 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = manager;
#line 579 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = meta_workspace_manager_get_active_workspace (_tmp3_);
#line 579 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = gala_workspace_clone_get_workspace (clone);
#line 579 "../src/Widgets/MultitaskingView.vala"
		_tmp6_ = _tmp5_;
#line 579 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = _tmp4_ == _tmp6_;
#line 3199 "MultitaskingView.c"
	} else {
#line 579 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = FALSE;
#line 3203 "MultitaskingView.c"
	}
#line 579 "../src/Widgets/MultitaskingView.vala"
	close_view = _tmp2_;
#line 581 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = gala_workspace_clone_get_workspace (clone);
#line 581 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = _tmp7_;
#line 581 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = self->priv->display;
#line 581 "../src/Widgets/MultitaskingView.vala"
	meta_workspace_activate (_tmp8_, meta_display_get_current_time (_tmp9_));
#line 583 "../src/Widgets/MultitaskingView.vala"
	if (close_view) {
#line 584 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_toggle (self, FALSE, FALSE);
#line 3219 "MultitaskingView.c"
	}
}

/**
         * Collect key events, mainly for redirecting them to the WindowCloneContainers to
         * select the active window.
         */
static gboolean
gala_multitasking_view_real_key_press_event (ClutterActor* base,
                                             ClutterEvent* event)
{
	GalaMultitaskingView * self;
	GalaWindowCloneContainer* _tmp0_;
	GalaWindowCloneContainer* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_;
	gboolean result;
#line 593 "../src/Widgets/MultitaskingView.vala"
	self = (GalaMultitaskingView*) base;
#line 593 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 597 "../src/Widgets/MultitaskingView.vala"
	if (!self->priv->opened) {
#line 598 "../src/Widgets/MultitaskingView.vala"
		result = CLUTTER_EVENT_PROPAGATE;
#line 598 "../src/Widgets/MultitaskingView.vala"
		return result;
#line 3247 "MultitaskingView.c"
	}
#line 601 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = gala_multitasking_view_get_active_window_clone_container (self);
#line 601 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = _tmp0_;
#line 601 "../src/Widgets/MultitaskingView.vala"
	g_signal_emit_by_name ((ClutterActor*) _tmp1_, "key-press-event", event, &_tmp2_);
#line 601 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = _tmp2_;
#line 601 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (_tmp1_);
#line 601 "../src/Widgets/MultitaskingView.vala"
	result = _tmp3_;
#line 601 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 3263 "MultitaskingView.c"
}

/**
         * Finds the active WorkspaceClone
         *
         * @return The active WorkspaceClone
         */
static GalaWindowCloneContainer*
gala_multitasking_view_get_active_window_clone_container (GalaMultitaskingView* self)
{
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* _tmp1_;
	MetaWorkspace* active_workspace = NULL;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* _tmp3_;
	ClutterActor* _tmp4_;
	GList* _tmp5_;
	GalaWindowCloneContainer* result;
#line 609 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 610 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 610 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_display_get_workspace_manager (_tmp0_);
#line 610 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp1_;
#line 611 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = manager;
#line 611 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = meta_workspace_manager_get_active_workspace (_tmp2_);
#line 611 "../src/Widgets/MultitaskingView.vala"
	active_workspace = _tmp3_;
#line 612 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = self->priv->workspaces;
#line 612 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = clutter_actor_get_children (_tmp4_);
#line 3301 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 612 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp5_;
#line 612 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 3309 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 612 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 3313 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace_clone = NULL;
				ClutterActor* _tmp6_;
				GalaWorkspaceClone* _tmp7_;
				MetaWorkspace* _tmp8_;
				MetaWorkspace* _tmp9_;
				MetaWorkspace* _tmp10_;
#line 613 "../src/Widgets/MultitaskingView.vala"
				_tmp6_ = child;
#line 613 "../src/Widgets/MultitaskingView.vala"
				workspace_clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 614 "../src/Widgets/MultitaskingView.vala"
				_tmp7_ = workspace_clone;
#line 614 "../src/Widgets/MultitaskingView.vala"
				_tmp8_ = gala_workspace_clone_get_workspace (_tmp7_);
#line 614 "../src/Widgets/MultitaskingView.vala"
				_tmp9_ = _tmp8_;
#line 614 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = active_workspace;
#line 614 "../src/Widgets/MultitaskingView.vala"
				if (_tmp9_ == _tmp10_) {
#line 3335 "MultitaskingView.c"
					GalaWorkspaceClone* _tmp11_;
					GalaWindowCloneContainer* _tmp12_;
					GalaWindowCloneContainer* _tmp13_;
					GalaWindowCloneContainer* _tmp14_;
#line 615 "../src/Widgets/MultitaskingView.vala"
					_tmp11_ = workspace_clone;
#line 615 "../src/Widgets/MultitaskingView.vala"
					_tmp12_ = gala_workspace_clone_get_window_container (_tmp11_);
#line 615 "../src/Widgets/MultitaskingView.vala"
					_tmp13_ = _tmp12_;
#line 615 "../src/Widgets/MultitaskingView.vala"
					_tmp14_ = _g_object_ref0 (_tmp13_);
#line 615 "../src/Widgets/MultitaskingView.vala"
					result = _tmp14_;
#line 615 "../src/Widgets/MultitaskingView.vala"
					(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 615 "../src/Widgets/MultitaskingView.vala"
					return result;
#line 3354 "MultitaskingView.c"
				}
			}
		}
#line 612 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 3360 "MultitaskingView.c"
	}
#line 619 "../src/Widgets/MultitaskingView.vala"
	g_assert_not_reached ();
#line 3364 "MultitaskingView.c"
}

static void
gala_multitasking_view_window_selected (GalaMultitaskingView* self,
                                        MetaWindow* window)
{
	guint32 time = 0U;
	MetaDisplay* _tmp0_;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp1_;
	MetaWorkspaceManager* _tmp2_;
	MetaWorkspace* workspace = NULL;
	MetaWorkspace* _tmp3_;
	MetaWorkspace* _tmp4_;
	MetaWorkspaceManager* _tmp5_;
	MetaWorkspace* _tmp6_;
#line 622 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 622 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (window != NULL);
#line 623 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 623 "../src/Widgets/MultitaskingView.vala"
	time = meta_display_get_current_time (_tmp0_);
#line 624 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = self->priv->display;
#line 624 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = meta_display_get_workspace_manager (_tmp1_);
#line 624 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp2_;
#line 625 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = meta_window_get_workspace (window);
#line 625 "../src/Widgets/MultitaskingView.vala"
	workspace = _tmp3_;
#line 627 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = workspace;
#line 627 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = manager;
#line 627 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = meta_workspace_manager_get_active_workspace (_tmp5_);
#line 627 "../src/Widgets/MultitaskingView.vala"
	if (_tmp4_ != _tmp6_) {
#line 3407 "MultitaskingView.c"
		MetaWorkspace* _tmp7_;
#line 628 "../src/Widgets/MultitaskingView.vala"
		_tmp7_ = workspace;
#line 628 "../src/Widgets/MultitaskingView.vala"
		meta_workspace_activate (_tmp7_, time);
#line 3413 "MultitaskingView.c"
	} else {
#line 630 "../src/Widgets/MultitaskingView.vala"
		meta_window_activate (window, time);
#line 631 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_toggle (self, FALSE, FALSE);
#line 3419 "MultitaskingView.c"
	}
}

/**
         * {@inheritDoc}
         */
static gboolean
gala_multitasking_view_real_is_opened (GalaActivatableComponent* base)
{
	GalaMultitaskingView * self;
	gboolean result;
#line 638 "../src/Widgets/MultitaskingView.vala"
	self = (GalaMultitaskingView*) base;
#line 639 "../src/Widgets/MultitaskingView.vala"
	result = self->priv->opened;
#line 639 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 3437 "MultitaskingView.c"
}

/**
         * {@inheritDoc}
         */
static void
gala_multitasking_view_real_open (GalaActivatableComponent* base,
                                  GHashTable* hints)
{
	GalaMultitaskingView * self;
#line 645 "../src/Widgets/MultitaskingView.vala"
	self = (GalaMultitaskingView*) base;
#line 646 "../src/Widgets/MultitaskingView.vala"
	if (!self->priv->opened) {
#line 647 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_toggle (self, FALSE, FALSE);
#line 3454 "MultitaskingView.c"
	}
}

/**
         * {@inheritDoc}
         */
static void
gala_multitasking_view_real_close (GalaActivatableComponent* base,
                                   GHashTable* hints)
{
	GalaMultitaskingView * self;
#line 654 "../src/Widgets/MultitaskingView.vala"
	self = (GalaMultitaskingView*) base;
#line 655 "../src/Widgets/MultitaskingView.vala"
	if (self->priv->opened) {
#line 656 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_toggle (self, FALSE, FALSE);
#line 3472 "MultitaskingView.c"
	}
}

/**
         * Toggles the view open or closed. Takes care of all the wm related tasks, like
         * starting the modal mode and hiding the WindowGroup. Finally tells all components
         * to animate to their positions.
         */
static Block65Data*
block65_data_ref (Block65Data* _data65_)
{
#line 665 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data65_->_ref_count_);
#line 665 "../src/Widgets/MultitaskingView.vala"
	return _data65_;
#line 3488 "MultitaskingView.c"
}

static void
block65_data_unref (void * _userdata_)
{
	Block65Data* _data65_;
	_data65_ = (Block65Data*) _userdata_;
#line 665 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data65_->_ref_count_)) {
#line 3498 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 665 "../src/Widgets/MultitaskingView.vala"
		self = _data65_->self;
#line 665 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self);
#line 665 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block65Data, _data65_);
#line 3506 "MultitaskingView.c"
	}
}

static gboolean
_gala_multitasking_view_keybinding_filter_gala_keybinding_filter (MetaKeyBinding* binding,
                                                                  gpointer self)
{
	gboolean result;
	result = gala_multitasking_view_keybinding_filter ((GalaMultitaskingView*) self, binding);
#line 696 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 3518 "MultitaskingView.c"
}

static Block66Data*
block66_data_ref (Block66Data* _data66_)
{
#line 750 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data66_->_ref_count_);
#line 750 "../src/Widgets/MultitaskingView.vala"
	return _data66_;
#line 3528 "MultitaskingView.c"
}

static void
block66_data_unref (void * _userdata_)
{
	Block66Data* _data66_;
	_data66_ = (Block66Data*) _userdata_;
#line 750 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data66_->_ref_count_)) {
#line 3538 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 750 "../src/Widgets/MultitaskingView.vala"
		self = _data66_->_data65_->self;
#line 750 "../src/Widgets/MultitaskingView.vala"
		block65_data_unref (_data66_->_data65_);
#line 750 "../src/Widgets/MultitaskingView.vala"
		_data66_->_data65_ = NULL;
#line 750 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block66Data, _data66_);
#line 3548 "MultitaskingView.c"
	}
}

static gboolean
__lambda71_ (Block66Data* _data66_)
{
	Block65Data* _data65_;
	GalaMultitaskingView* self;
	gboolean result;
#line 752 "../src/Widgets/MultitaskingView.vala"
	_data65_ = _data66_->_data65_;
#line 752 "../src/Widgets/MultitaskingView.vala"
	self = _data65_->self;
#line 753 "../src/Widgets/MultitaskingView.vala"
	if (!_data65_->opening) {
#line 3564 "MultitaskingView.c"
		GList* _tmp0_;
		GalaWindowManager* _tmp3_;
		MetaBackgroundGroup* _tmp4_;
		MetaBackgroundGroup* _tmp5_;
		GalaWindowManager* _tmp6_;
		ClutterActor* _tmp7_;
		ClutterActor* _tmp8_;
		GalaWindowManager* _tmp9_;
		ClutterActor* _tmp10_;
		ClutterActor* _tmp11_;
		ClutterActor* _tmp12_;
		GalaWindowManager* _tmp13_;
		GalaModalProxy* _tmp14_;
#line 754 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = self->priv->window_containers_monitors;
#line 3580 "MultitaskingView.c"
		{
			GList* container_collection = NULL;
			GList* container_it = NULL;
#line 754 "../src/Widgets/MultitaskingView.vala"
			container_collection = _tmp0_;
#line 754 "../src/Widgets/MultitaskingView.vala"
			for (container_it = container_collection; container_it != NULL; container_it = container_it->next) {
#line 3588 "MultitaskingView.c"
				GalaMonitorClone* _tmp1_;
				GalaMonitorClone* container = NULL;
#line 754 "../src/Widgets/MultitaskingView.vala"
				_tmp1_ = _g_object_ref0 ((GalaMonitorClone*) container_it->data);
#line 754 "../src/Widgets/MultitaskingView.vala"
				container = _tmp1_;
#line 3595 "MultitaskingView.c"
				{
					GalaMonitorClone* _tmp2_;
#line 755 "../src/Widgets/MultitaskingView.vala"
					_tmp2_ = container;
#line 755 "../src/Widgets/MultitaskingView.vala"
					g_object_set ((ClutterActor*) _tmp2_, "visible", FALSE, NULL);
#line 754 "../src/Widgets/MultitaskingView.vala"
					_g_object_unref0 (container);
#line 3604 "MultitaskingView.c"
				}
			}
		}
#line 758 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_hide ((ClutterActor*) self);
#line 760 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = self->priv->_wm;
#line 760 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = gala_window_manager_get_background_group (_tmp3_);
#line 760 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = _tmp4_;
#line 760 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_show ((ClutterActor*) _tmp5_);
#line 761 "../src/Widgets/MultitaskingView.vala"
		_tmp6_ = self->priv->_wm;
#line 761 "../src/Widgets/MultitaskingView.vala"
		_tmp7_ = gala_window_manager_get_window_group (_tmp6_);
#line 761 "../src/Widgets/MultitaskingView.vala"
		_tmp8_ = _tmp7_;
#line 761 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_show (_tmp8_);
#line 762 "../src/Widgets/MultitaskingView.vala"
		_tmp9_ = self->priv->_wm;
#line 762 "../src/Widgets/MultitaskingView.vala"
		_tmp10_ = gala_window_manager_get_top_window_group (_tmp9_);
#line 762 "../src/Widgets/MultitaskingView.vala"
		_tmp11_ = _tmp10_;
#line 762 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_show (_tmp11_);
#line 764 "../src/Widgets/MultitaskingView.vala"
		_tmp12_ = self->priv->dock_clones;
#line 764 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_destroy_all_children (_tmp12_);
#line 766 "../src/Widgets/MultitaskingView.vala"
		_tmp13_ = self->priv->_wm;
#line 766 "../src/Widgets/MultitaskingView.vala"
		_tmp14_ = self->priv->modal_proxy;
#line 766 "../src/Widgets/MultitaskingView.vala"
		gala_window_manager_pop_modal (_tmp13_, _tmp14_);
#line 3644 "MultitaskingView.c"
	}
#line 769 "../src/Widgets/MultitaskingView.vala"
	self->priv->animating = FALSE;
#line 771 "../src/Widgets/MultitaskingView.vala"
	if (_data66_->cancel_action) {
#line 772 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_toggle (self, FALSE, TRUE);
#line 3652 "MultitaskingView.c"
	}
#line 775 "../src/Widgets/MultitaskingView.vala"
	result = G_SOURCE_REMOVE;
#line 775 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 3658 "MultitaskingView.c"
}

static gboolean
___lambda71__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda71_ (self);
#line 752 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 3668 "MultitaskingView.c"
}

static void
__lambda70_ (Block65Data* _data65_,
             gdouble percentage,
             gboolean cancel_action)
{
	GalaMultitaskingView* self;
	Block66Data* _data66_;
	gint _tmp0_ = 0;
	gint animation_duration = 0;
#line 750 "../src/Widgets/MultitaskingView.vala"
	self = _data65_->self;
#line 750 "../src/Widgets/MultitaskingView.vala"
	_data66_ = g_slice_new0 (Block66Data);
#line 750 "../src/Widgets/MultitaskingView.vala"
	_data66_->_ref_count_ = 1;
#line 750 "../src/Widgets/MultitaskingView.vala"
	_data66_->_data65_ = block65_data_ref (_data65_);
#line 750 "../src/Widgets/MultitaskingView.vala"
	_data66_->cancel_action = cancel_action;
#line 751 "../src/Widgets/MultitaskingView.vala"
	if (_data66_->cancel_action) {
#line 751 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = 0;
#line 3694 "MultitaskingView.c"
	} else {
#line 751 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 3698 "MultitaskingView.c"
	}
#line 751 "../src/Widgets/MultitaskingView.vala"
	animation_duration = _tmp0_;
#line 752 "../src/Widgets/MultitaskingView.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) animation_duration, ___lambda71__gsource_func, block66_data_ref (_data66_), block66_data_unref);
#line 750 "../src/Widgets/MultitaskingView.vala"
	block66_data_unref (_data66_);
#line 750 "../src/Widgets/MultitaskingView.vala"
	_data66_ = NULL;
#line 3708 "MultitaskingView.c"
}

static void
___lambda70__gala_gesture_tracker_on_end (gdouble percentage,
                                          gboolean cancel_action,
                                          gint calculated_duration,
                                          gpointer self)
{
#line 750 "../src/Widgets/MultitaskingView.vala"
	__lambda70_ (self, percentage, cancel_action);
#line 3719 "MultitaskingView.c"
}

static void
gala_multitasking_view_toggle (GalaMultitaskingView* self,
                               gboolean with_gesture,
                               gboolean is_cancel_animation)
{
	Block65Data* _data65_;
	gboolean _tmp0_ = FALSE;
	GList* _tmp5_;
	GalaWorkspaceClone* active_workspace = NULL;
	MetaWorkspaceManager* manager = NULL;
	MetaDisplay* _tmp29_;
	MetaWorkspaceManager* _tmp30_;
	MetaWorkspace* active = NULL;
	MetaWorkspaceManager* _tmp31_;
	MetaWorkspace* _tmp32_;
	MetaWorkspace* _tmp33_;
	ClutterActor* _tmp34_;
	GList* _tmp35_;
	GalaWorkspaceClone* _tmp43_;
	ClutterActor* _tmp46_;
	ClutterActor* _tmp47_;
	GList* _tmp48_;
	ClutterActor* _tmp50_;
	GList* _tmp51_;
	GalaGestureTrackerOnEnd on_animation_end = NULL;
	gpointer on_animation_end_target;
	GDestroyNotify on_animation_end_target_destroy_notify;
#line 665 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 665 "../src/Widgets/MultitaskingView.vala"
	_data65_ = g_slice_new0 (Block65Data);
#line 665 "../src/Widgets/MultitaskingView.vala"
	_data65_->_ref_count_ = 1;
#line 665 "../src/Widgets/MultitaskingView.vala"
	_data65_->self = g_object_ref (self);
#line 666 "../src/Widgets/MultitaskingView.vala"
	if (self->priv->animating) {
#line 667 "../src/Widgets/MultitaskingView.vala"
		block65_data_unref (_data65_);
#line 667 "../src/Widgets/MultitaskingView.vala"
		_data65_ = NULL;
#line 667 "../src/Widgets/MultitaskingView.vala"
		return;
#line 3765 "MultitaskingView.c"
	}
#line 671 "../src/Widgets/MultitaskingView.vala"
	if (is_cancel_animation) {
#line 3769 "MultitaskingView.c"
		GalaWindowManager* _tmp1_;
		gboolean _tmp2_;
		gboolean _tmp3_;
#line 671 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = self->priv->_wm;
#line 671 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = gala_window_manager_get_enable_animations (_tmp1_);
#line 671 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = _tmp2_;
#line 671 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = !_tmp3_;
#line 3781 "MultitaskingView.c"
	} else {
#line 671 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = FALSE;
#line 3785 "MultitaskingView.c"
	}
#line 671 "../src/Widgets/MultitaskingView.vala"
	if (_tmp0_) {
#line 672 "../src/Widgets/MultitaskingView.vala"
		block65_data_unref (_data65_);
#line 672 "../src/Widgets/MultitaskingView.vala"
		_data65_ = NULL;
#line 672 "../src/Widgets/MultitaskingView.vala"
		return;
#line 3795 "MultitaskingView.c"
	}
#line 675 "../src/Widgets/MultitaskingView.vala"
	self->priv->animating = TRUE;
#line 677 "../src/Widgets/MultitaskingView.vala"
	self->priv->opened = !self->priv->opened;
#line 678 "../src/Widgets/MultitaskingView.vala"
	_data65_->opening = self->priv->opened;
#line 681 "../src/Widgets/MultitaskingView.vala"
	if (_data65_->opening) {
#line 3805 "MultitaskingView.c"
		GalaWindowManager* _tmp4_;
#line 682 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = self->priv->_wm;
#line 682 "../src/Widgets/MultitaskingView.vala"
		G_TYPE_INSTANCE_GET_CLASS ((MetaPlugin*) _tmp4_, meta_plugin_get_type (), MetaPluginClass)->kill_switch_workspace ((MetaPlugin*) _tmp4_);
#line 3811 "MultitaskingView.c"
	}
#line 685 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = self->priv->window_containers_monitors;
#line 3815 "MultitaskingView.c"
	{
		GList* container_collection = NULL;
		GList* container_it = NULL;
#line 685 "../src/Widgets/MultitaskingView.vala"
		container_collection = _tmp5_;
#line 685 "../src/Widgets/MultitaskingView.vala"
		for (container_it = container_collection; container_it != NULL; container_it = container_it->next) {
#line 3823 "MultitaskingView.c"
			GalaMonitorClone* _tmp6_;
			GalaMonitorClone* container = NULL;
#line 685 "../src/Widgets/MultitaskingView.vala"
			_tmp6_ = _g_object_ref0 ((GalaMonitorClone*) container_it->data);
#line 685 "../src/Widgets/MultitaskingView.vala"
			container = _tmp6_;
#line 3830 "MultitaskingView.c"
			{
#line 686 "../src/Widgets/MultitaskingView.vala"
				if (_data65_->opening) {
#line 3834 "MultitaskingView.c"
					GalaMonitorClone* _tmp7_;
					GalaMonitorClone* _tmp8_;
#line 687 "../src/Widgets/MultitaskingView.vala"
					_tmp7_ = container;
#line 687 "../src/Widgets/MultitaskingView.vala"
					g_object_set ((ClutterActor*) _tmp7_, "visible", TRUE, NULL);
#line 688 "../src/Widgets/MultitaskingView.vala"
					_tmp8_ = container;
#line 688 "../src/Widgets/MultitaskingView.vala"
					gala_monitor_clone_open (_tmp8_, with_gesture, is_cancel_animation);
#line 3845 "MultitaskingView.c"
				} else {
					GalaMonitorClone* _tmp9_;
#line 690 "../src/Widgets/MultitaskingView.vala"
					_tmp9_ = container;
#line 690 "../src/Widgets/MultitaskingView.vala"
					gala_monitor_clone_close (_tmp9_, with_gesture, is_cancel_animation);
#line 3852 "MultitaskingView.c"
				}
#line 685 "../src/Widgets/MultitaskingView.vala"
				_g_object_unref0 (container);
#line 3856 "MultitaskingView.c"
			}
		}
	}
#line 694 "../src/Widgets/MultitaskingView.vala"
	if (_data65_->opening) {
#line 3862 "MultitaskingView.c"
		GalaWindowManager* _tmp10_;
		GalaModalProxy* _tmp11_;
		GalaModalProxy* _tmp12_;
		GalaWindowManager* _tmp13_;
		MetaBackgroundGroup* _tmp14_;
		MetaBackgroundGroup* _tmp15_;
		GalaWindowManager* _tmp16_;
		ClutterActor* _tmp17_;
		ClutterActor* _tmp18_;
		GalaWindowManager* _tmp19_;
		ClutterActor* _tmp20_;
		ClutterActor* _tmp21_;
		gfloat scale = 0.0F;
		MetaDisplay* _tmp22_;
		MetaDisplay* _tmp23_;
		GalaIconGroupContainer* _tmp24_;
		GalaIconGroupContainer* _tmp25_;
		ClutterActor* _tmp26_;
		gfloat _tmp27_;
		gfloat _tmp28_;
#line 695 "../src/Widgets/MultitaskingView.vala"
		_tmp10_ = self->priv->_wm;
#line 695 "../src/Widgets/MultitaskingView.vala"
		_tmp11_ = gala_window_manager_push_modal (_tmp10_, (ClutterActor*) self);
#line 695 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self->priv->modal_proxy);
#line 695 "../src/Widgets/MultitaskingView.vala"
		self->priv->modal_proxy = _tmp11_;
#line 696 "../src/Widgets/MultitaskingView.vala"
		_tmp12_ = self->priv->modal_proxy;
#line 696 "../src/Widgets/MultitaskingView.vala"
		gala_modal_proxy_set_keybinding_filter (_tmp12_, _gala_multitasking_view_keybinding_filter_gala_keybinding_filter, self);
#line 698 "../src/Widgets/MultitaskingView.vala"
		_tmp13_ = self->priv->_wm;
#line 698 "../src/Widgets/MultitaskingView.vala"
		_tmp14_ = gala_window_manager_get_background_group (_tmp13_);
#line 698 "../src/Widgets/MultitaskingView.vala"
		_tmp15_ = _tmp14_;
#line 698 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_hide ((ClutterActor*) _tmp15_);
#line 699 "../src/Widgets/MultitaskingView.vala"
		_tmp16_ = self->priv->_wm;
#line 699 "../src/Widgets/MultitaskingView.vala"
		_tmp17_ = gala_window_manager_get_window_group (_tmp16_);
#line 699 "../src/Widgets/MultitaskingView.vala"
		_tmp18_ = _tmp17_;
#line 699 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_hide (_tmp18_);
#line 700 "../src/Widgets/MultitaskingView.vala"
		_tmp19_ = self->priv->_wm;
#line 700 "../src/Widgets/MultitaskingView.vala"
		_tmp20_ = gala_window_manager_get_top_window_group (_tmp19_);
#line 700 "../src/Widgets/MultitaskingView.vala"
		_tmp21_ = _tmp20_;
#line 700 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_hide (_tmp21_);
#line 701 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_show ((ClutterActor*) self);
#line 702 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_grab_key_focus ((ClutterActor*) self);
#line 704 "../src/Widgets/MultitaskingView.vala"
		_tmp22_ = self->priv->display;
#line 704 "../src/Widgets/MultitaskingView.vala"
		_tmp23_ = self->priv->display;
#line 704 "../src/Widgets/MultitaskingView.vala"
		scale = meta_display_get_monitor_scale (_tmp22_, meta_display_get_primary_monitor (_tmp23_));
#line 705 "../src/Widgets/MultitaskingView.vala"
		_tmp24_ = self->priv->icon_groups;
#line 705 "../src/Widgets/MultitaskingView.vala"
		gala_icon_group_container_force_reposition (_tmp24_);
#line 706 "../src/Widgets/MultitaskingView.vala"
		_tmp25_ = self->priv->icon_groups;
#line 706 "../src/Widgets/MultitaskingView.vala"
		_tmp26_ = self->priv->primary_monitor_container;
#line 706 "../src/Widgets/MultitaskingView.vala"
		_tmp27_ = clutter_actor_get_height (_tmp26_);
#line 706 "../src/Widgets/MultitaskingView.vala"
		_tmp28_ = _tmp27_;
#line 706 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_set_y ((ClutterActor*) _tmp25_, _tmp28_ - gala_internal_utils_scale_to_int (GALA_WORKSPACE_CLONE_BOTTOM_OFFSET - 20, scale));
#line 3943 "MultitaskingView.c"
	} else {
#line 708 "../src/Widgets/MultitaskingView.vala"
		gala_drag_drop_action_cancel_all_by_id ("multitaskingview-window");
#line 3947 "MultitaskingView.c"
	}
#line 712 "../src/Widgets/MultitaskingView.vala"
	active_workspace = NULL;
#line 713 "../src/Widgets/MultitaskingView.vala"
	_tmp29_ = self->priv->display;
#line 713 "../src/Widgets/MultitaskingView.vala"
	_tmp30_ = meta_display_get_workspace_manager (_tmp29_);
#line 713 "../src/Widgets/MultitaskingView.vala"
	manager = _tmp30_;
#line 714 "../src/Widgets/MultitaskingView.vala"
	_tmp31_ = manager;
#line 714 "../src/Widgets/MultitaskingView.vala"
	_tmp32_ = meta_workspace_manager_get_active_workspace (_tmp31_);
#line 714 "../src/Widgets/MultitaskingView.vala"
	_tmp33_ = _g_object_ref0 (_tmp32_);
#line 714 "../src/Widgets/MultitaskingView.vala"
	active = _tmp33_;
#line 715 "../src/Widgets/MultitaskingView.vala"
	_tmp34_ = self->priv->workspaces;
#line 715 "../src/Widgets/MultitaskingView.vala"
	_tmp35_ = clutter_actor_get_children (_tmp34_);
#line 3969 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 715 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp35_;
#line 715 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 3977 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 715 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 3981 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace = NULL;
				ClutterActor* _tmp36_;
				GalaWorkspaceClone* _tmp37_;
				MetaWorkspace* _tmp38_;
				MetaWorkspace* _tmp39_;
				MetaWorkspace* _tmp40_;
#line 716 "../src/Widgets/MultitaskingView.vala"
				_tmp36_ = child;
#line 716 "../src/Widgets/MultitaskingView.vala"
				workspace = G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 717 "../src/Widgets/MultitaskingView.vala"
				_tmp37_ = workspace;
#line 717 "../src/Widgets/MultitaskingView.vala"
				_tmp38_ = gala_workspace_clone_get_workspace (_tmp37_);
#line 717 "../src/Widgets/MultitaskingView.vala"
				_tmp39_ = _tmp38_;
#line 717 "../src/Widgets/MultitaskingView.vala"
				_tmp40_ = active;
#line 717 "../src/Widgets/MultitaskingView.vala"
				if (_tmp39_ == _tmp40_) {
#line 4003 "MultitaskingView.c"
					GalaWorkspaceClone* _tmp41_;
					GalaWorkspaceClone* _tmp42_;
#line 718 "../src/Widgets/MultitaskingView.vala"
					_tmp41_ = workspace;
#line 718 "../src/Widgets/MultitaskingView.vala"
					_tmp42_ = _g_object_ref0 (_tmp41_);
#line 718 "../src/Widgets/MultitaskingView.vala"
					_g_object_unref0 (active_workspace);
#line 718 "../src/Widgets/MultitaskingView.vala"
					active_workspace = _tmp42_;
#line 719 "../src/Widgets/MultitaskingView.vala"
					break;
#line 4016 "MultitaskingView.c"
				}
			}
		}
#line 715 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 4022 "MultitaskingView.c"
	}
#line 722 "../src/Widgets/MultitaskingView.vala"
	_tmp43_ = active_workspace;
#line 722 "../src/Widgets/MultitaskingView.vala"
	if (_tmp43_ != NULL) {
#line 4028 "MultitaskingView.c"
		ClutterActor* _tmp44_;
		GalaWorkspaceClone* _tmp45_;
#line 723 "../src/Widgets/MultitaskingView.vala"
		_tmp44_ = self->priv->workspaces;
#line 723 "../src/Widgets/MultitaskingView.vala"
		_tmp45_ = active_workspace;
#line 723 "../src/Widgets/MultitaskingView.vala"
		clutter_actor_set_child_above_sibling (_tmp44_, (ClutterActor*) _tmp45_, NULL);
#line 4037 "MultitaskingView.c"
	}
#line 726 "../src/Widgets/MultitaskingView.vala"
	_tmp46_ = self->priv->workspaces;
#line 726 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_remove_all_transitions (_tmp46_);
#line 727 "../src/Widgets/MultitaskingView.vala"
	_tmp47_ = self->priv->workspaces;
#line 727 "../src/Widgets/MultitaskingView.vala"
	_tmp48_ = clutter_actor_get_children (_tmp47_);
#line 4047 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 727 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp48_;
#line 727 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 4055 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 727 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 4059 "MultitaskingView.c"
			{
				ClutterActor* _tmp49_;
#line 728 "../src/Widgets/MultitaskingView.vala"
				_tmp49_ = child;
#line 728 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_remove_all_transitions (_tmp49_);
#line 4066 "MultitaskingView.c"
			}
		}
#line 727 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 4071 "MultitaskingView.c"
	}
#line 731 "../src/Widgets/MultitaskingView.vala"
	if (!is_cancel_animation) {
#line 732 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_update_positions (self, FALSE);
#line 4077 "MultitaskingView.c"
	}
#line 735 "../src/Widgets/MultitaskingView.vala"
	_tmp50_ = self->priv->workspaces;
#line 735 "../src/Widgets/MultitaskingView.vala"
	_tmp51_ = clutter_actor_get_children (_tmp50_);
#line 4083 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 735 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp51_;
#line 735 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 4091 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 735 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 4095 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace = NULL;
				ClutterActor* _tmp52_;
#line 736 "../src/Widgets/MultitaskingView.vala"
				_tmp52_ = child;
#line 736 "../src/Widgets/MultitaskingView.vala"
				workspace = G_TYPE_CHECK_INSTANCE_CAST (_tmp52_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 737 "../src/Widgets/MultitaskingView.vala"
				if (_data65_->opening) {
#line 4105 "MultitaskingView.c"
					GalaWorkspaceClone* _tmp53_;
#line 738 "../src/Widgets/MultitaskingView.vala"
					_tmp53_ = workspace;
#line 738 "../src/Widgets/MultitaskingView.vala"
					gala_workspace_clone_open (_tmp53_, with_gesture, is_cancel_animation);
#line 4111 "MultitaskingView.c"
				} else {
					GalaWorkspaceClone* _tmp54_;
#line 740 "../src/Widgets/MultitaskingView.vala"
					_tmp54_ = workspace;
#line 740 "../src/Widgets/MultitaskingView.vala"
					gala_workspace_clone_close (_tmp54_, with_gesture, is_cancel_animation);
#line 4118 "MultitaskingView.c"
				}
			}
		}
#line 735 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 4124 "MultitaskingView.c"
	}
#line 744 "../src/Widgets/MultitaskingView.vala"
	if (_data65_->opening) {
#line 745 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_show_docks (self, with_gesture, is_cancel_animation);
#line 4130 "MultitaskingView.c"
	} else {
#line 747 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_hide_docks (self, with_gesture, is_cancel_animation);
#line 4134 "MultitaskingView.c"
	}
#line 750 "../src/Widgets/MultitaskingView.vala"
	on_animation_end = ___lambda70__gala_gesture_tracker_on_end;
#line 750 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target = block65_data_ref (_data65_);
#line 750 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target_destroy_notify = block65_data_unref;
#line 779 "../src/Widgets/MultitaskingView.vala"
	if (!with_gesture) {
#line 4144 "MultitaskingView.c"
		GalaGestureTrackerOnEnd _tmp55_;
		gpointer _tmp55__target;
#line 780 "../src/Widgets/MultitaskingView.vala"
		_tmp55_ = on_animation_end;
#line 780 "../src/Widgets/MultitaskingView.vala"
		_tmp55__target = on_animation_end_target;
#line 780 "../src/Widgets/MultitaskingView.vala"
		_tmp55_ ((gdouble) 1, FALSE, 0, _tmp55__target);
#line 4153 "MultitaskingView.c"
	} else {
		GalaGestureTracker* _tmp56_;
		GalaGestureTrackerOnEnd _tmp57_;
		gpointer _tmp57__target;
		GDestroyNotify _tmp57__target_destroy_notify;
#line 782 "../src/Widgets/MultitaskingView.vala"
		_tmp56_ = self->priv->multitasking_gesture_tracker;
#line 782 "../src/Widgets/MultitaskingView.vala"
		_tmp57_ = on_animation_end;
#line 782 "../src/Widgets/MultitaskingView.vala"
		_tmp57__target = on_animation_end_target;
#line 782 "../src/Widgets/MultitaskingView.vala"
		_tmp57__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 782 "../src/Widgets/MultitaskingView.vala"
		on_animation_end = NULL;
#line 782 "../src/Widgets/MultitaskingView.vala"
		on_animation_end_target = NULL;
#line 782 "../src/Widgets/MultitaskingView.vala"
		on_animation_end_target_destroy_notify = NULL;
#line 782 "../src/Widgets/MultitaskingView.vala"
		gala_gesture_tracker_connect_handlers (_tmp56_, NULL, NULL, NULL, NULL, NULL, NULL, _tmp57_, _tmp57__target, _tmp57__target_destroy_notify);
#line 4175 "MultitaskingView.c"
	}
#line 665 "../src/Widgets/MultitaskingView.vala"
	(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 665 "../src/Widgets/MultitaskingView.vala"
	on_animation_end = NULL;
#line 665 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target = NULL;
#line 665 "../src/Widgets/MultitaskingView.vala"
	on_animation_end_target_destroy_notify = NULL;
#line 665 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (active);
#line 665 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (active_workspace);
#line 665 "../src/Widgets/MultitaskingView.vala"
	block65_data_unref (_data65_);
#line 665 "../src/Widgets/MultitaskingView.vala"
	_data65_ = NULL;
#line 4193 "MultitaskingView.c"
}

static Block67Data*
block67_data_ref (Block67Data* _data67_)
{
#line 786 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data67_->_ref_count_);
#line 786 "../src/Widgets/MultitaskingView.vala"
	return _data67_;
#line 4203 "MultitaskingView.c"
}

static void
block67_data_unref (void * _userdata_)
{
	Block67Data* _data67_;
	_data67_ = (Block67Data*) _userdata_;
#line 786 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data67_->_ref_count_)) {
#line 4213 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 786 "../src/Widgets/MultitaskingView.vala"
		self = _data67_->self;
#line 786 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self);
#line 786 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block67Data, _data67_);
#line 4221 "MultitaskingView.c"
	}
}

static Block68Data*
block68_data_ref (Block68Data* _data68_)
{
#line 788 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data68_->_ref_count_);
#line 788 "../src/Widgets/MultitaskingView.vala"
	return _data68_;
#line 4232 "MultitaskingView.c"
}

static void
block68_data_unref (void * _userdata_)
{
	Block68Data* _data68_;
	_data68_ = (Block68Data*) _userdata_;
#line 788 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data68_->_ref_count_)) {
#line 4242 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 788 "../src/Widgets/MultitaskingView.vala"
		self = _data68_->_data67_->self;
#line 788 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (_data68_->clone);
#line 788 "../src/Widgets/MultitaskingView.vala"
		block67_data_unref (_data68_->_data67_);
#line 788 "../src/Widgets/MultitaskingView.vala"
		_data68_->_data67_ = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block68Data, _data68_);
#line 4254 "MultitaskingView.c"
	}
}

static void
____lambda66_ (Block68Data* _data68_,
               gdouble percentage)
{
	Block67Data* _data67_;
	GalaMultitaskingView* self;
	gfloat y = 0.0F;
	GalaSafeWindowClone* _tmp0_;
#line 827 "../src/Widgets/MultitaskingView.vala"
	_data67_ = _data68_->_data67_;
#line 827 "../src/Widgets/MultitaskingView.vala"
	self = _data67_->self;
#line 828 "../src/Widgets/MultitaskingView.vala"
	y = gala_gesture_tracker_animation_value (_data68_->initial_y, _data68_->target_y, percentage, FALSE);
#line 829 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = _data68_->clone;
#line 829 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_y ((ClutterActor*) _tmp0_, y);
#line 4276 "MultitaskingView.c"
}

static void
_____lambda66__gala_gesture_tracker_on_update (gdouble percentage,
                                               gpointer self)
{
#line 827 "../src/Widgets/MultitaskingView.vala"
	____lambda66_ (self, percentage);
#line 4285 "MultitaskingView.c"
}

static void
____lambda67_ (Block68Data* _data68_,
               gdouble percentage,
               gboolean cancel_action)
{
	Block67Data* _data67_;
	GalaMultitaskingView* self;
	GalaSafeWindowClone* _tmp0_;
	GalaSafeWindowClone* _tmp1_;
	gint _tmp2_ = 0;
	gboolean _tmp3_ = FALSE;
	GalaSafeWindowClone* _tmp7_;
	GalaSafeWindowClone* _tmp8_;
	GalaSafeWindowClone* _tmp9_;
#line 832 "../src/Widgets/MultitaskingView.vala"
	_data67_ = _data68_->_data67_;
#line 832 "../src/Widgets/MultitaskingView.vala"
	self = _data67_->self;
#line 833 "../src/Widgets/MultitaskingView.vala"
	if (cancel_action) {
#line 834 "../src/Widgets/MultitaskingView.vala"
		return;
#line 4310 "MultitaskingView.c"
	}
#line 837 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = _data68_->clone;
#line 837 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_save_easing_state ((ClutterActor*) _tmp0_);
#line 838 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = _data68_->clone;
#line 838 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_mode ((ClutterActor*) _tmp1_, CLUTTER_EASE_OUT_QUAD);
#line 839 "../src/Widgets/MultitaskingView.vala"
	if (!_data67_->is_cancel_animation) {
#line 4322 "MultitaskingView.c"
		GalaWindowManager* _tmp4_;
		gboolean _tmp5_;
		gboolean _tmp6_;
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = self->priv->_wm;
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp5_ = gala_window_manager_get_enable_animations (_tmp4_);
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp6_ = _tmp5_;
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = _tmp6_;
#line 4334 "MultitaskingView.c"
	} else {
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = FALSE;
#line 4338 "MultitaskingView.c"
	}
#line 839 "../src/Widgets/MultitaskingView.vala"
	if (_tmp3_) {
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 4344 "MultitaskingView.c"
	} else {
#line 839 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = 0;
#line 4348 "MultitaskingView.c"
	}
#line 839 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = _data68_->clone;
#line 839 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_duration ((ClutterActor*) _tmp7_, (guint) _tmp2_);
#line 840 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = _data68_->clone;
#line 840 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_y ((ClutterActor*) _tmp8_, _data68_->target_y);
#line 841 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = _data68_->clone;
#line 841 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_restore_easing_state ((ClutterActor*) _tmp9_);
#line 4362 "MultitaskingView.c"
}

static void
_____lambda67__gala_gesture_tracker_on_end (gdouble percentage,
                                            gboolean cancel_action,
                                            gint calculated_duration,
                                            gpointer self)
{
#line 832 "../src/Widgets/MultitaskingView.vala"
	____lambda67_ (self, percentage, cancel_action);
#line 4373 "MultitaskingView.c"
}

static void
gala_multitasking_view_show_docks (GalaMultitaskingView* self,
                                   gboolean with_gesture,
                                   gboolean is_cancel_animation)
{
	Block67Data* _data67_;
	GList* window_actors = NULL;
	MetaDisplay* _tmp0_;
	GList* _tmp1_;
	GList* _tmp2_;
#line 786 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 786 "../src/Widgets/MultitaskingView.vala"
	_data67_ = g_slice_new0 (Block67Data);
#line 786 "../src/Widgets/MultitaskingView.vala"
	_data67_->_ref_count_ = 1;
#line 786 "../src/Widgets/MultitaskingView.vala"
	_data67_->self = g_object_ref (self);
#line 786 "../src/Widgets/MultitaskingView.vala"
	_data67_->is_cancel_animation = is_cancel_animation;
#line 787 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->display;
#line 787 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = meta_get_window_actors (_tmp0_);
#line 787 "../src/Widgets/MultitaskingView.vala"
	window_actors = _tmp1_;
#line 788 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = window_actors;
#line 4404 "MultitaskingView.c"
	{
		GList* actor_collection = NULL;
		GList* actor_it = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
		actor_collection = _tmp2_;
#line 788 "../src/Widgets/MultitaskingView.vala"
		for (actor_it = actor_collection; actor_it != NULL; actor_it = actor_it->next) {
#line 4412 "MultitaskingView.c"
			MetaWindowActor* actor = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
			actor = (MetaWindowActor*) actor_it->data;
#line 4416 "MultitaskingView.c"
			{
				Block68Data* _data68_;
#line 789 "../src/Widgets/MultitaskingView.vala"
				static const gint MAX_OFFSET = 200;
#line 4421 "MultitaskingView.c"
				gboolean _tmp3_ = FALSE;
				MetaWindowActor* _tmp4_;
				MetaWindow* window = NULL;
				MetaWindowActor* _tmp8_;
				MetaWindow* _tmp9_;
				gint monitor = 0;
				MetaWindow* _tmp10_;
				MetaWindow* _tmp11_;
				MetaWindowType _tmp12_;
				MetaWindowType _tmp13_;
				MetaDisplay* _tmp14_;
				MtkRectangle monitor_geom = {0};
				MetaDisplay* _tmp15_;
				MtkRectangle _tmp16_ = {0};
				MtkRectangle window_geom = {0};
				MetaWindow* _tmp17_;
				MtkRectangle _tmp18_ = {0};
				gboolean top = FALSE;
				MtkRectangle _tmp19_;
				MtkRectangle _tmp20_;
				gboolean bottom = FALSE;
				MtkRectangle _tmp21_;
				MtkRectangle _tmp22_;
				MtkRectangle _tmp23_;
				gboolean _tmp24_ = FALSE;
				gfloat initial_x = 0.0F;
				MetaWindowActor* _tmp25_;
				gfloat _tmp26_;
				gfloat _tmp27_;
				MetaWindowActor* _tmp28_;
				gfloat _tmp29_;
				gfloat _tmp30_;
				gfloat _tmp31_ = 0.0F;
				MetaWindow* _tmp44_;
				GalaSafeWindowClone* _tmp45_;
				ClutterActor* _tmp46_;
				GalaSafeWindowClone* _tmp47_;
				GalaSafeWindowClone* _tmp48_;
				GalaGestureTrackerOnUpdate on_animation_update = NULL;
				gpointer on_animation_update_target;
				GDestroyNotify on_animation_update_target_destroy_notify;
				GalaGestureTrackerOnEnd on_animation_end = NULL;
				gpointer on_animation_end_target;
				GDestroyNotify on_animation_end_target_destroy_notify;
				gboolean _tmp49_ = FALSE;
#line 788 "../src/Widgets/MultitaskingView.vala"
				_data68_ = g_slice_new0 (Block68Data);
#line 788 "../src/Widgets/MultitaskingView.vala"
				_data68_->_ref_count_ = 1;
#line 788 "../src/Widgets/MultitaskingView.vala"
				_data68_->_data67_ = block67_data_ref (_data67_);
#line 791 "../src/Widgets/MultitaskingView.vala"
				_tmp4_ = actor;
#line 791 "../src/Widgets/MultitaskingView.vala"
				if (meta_window_actor_is_destroyed (_tmp4_)) {
#line 791 "../src/Widgets/MultitaskingView.vala"
					_tmp3_ = TRUE;
#line 4479 "MultitaskingView.c"
				} else {
					MetaWindowActor* _tmp5_;
					gboolean _tmp6_;
					gboolean _tmp7_;
#line 791 "../src/Widgets/MultitaskingView.vala"
					_tmp5_ = actor;
#line 791 "../src/Widgets/MultitaskingView.vala"
					g_object_get ((ClutterActor*) _tmp5_, "visible", &_tmp6_, NULL);
#line 791 "../src/Widgets/MultitaskingView.vala"
					_tmp7_ = _tmp6_;
#line 791 "../src/Widgets/MultitaskingView.vala"
					_tmp3_ = !_tmp7_;
#line 4492 "MultitaskingView.c"
				}
#line 791 "../src/Widgets/MultitaskingView.vala"
				if (_tmp3_) {
#line 792 "../src/Widgets/MultitaskingView.vala"
					block68_data_unref (_data68_);
#line 792 "../src/Widgets/MultitaskingView.vala"
					_data68_ = NULL;
#line 792 "../src/Widgets/MultitaskingView.vala"
					continue;
#line 4502 "MultitaskingView.c"
				}
#line 795 "../src/Widgets/MultitaskingView.vala"
				_tmp8_ = actor;
#line 795 "../src/Widgets/MultitaskingView.vala"
				_tmp9_ = meta_window_actor_get_meta_window (_tmp8_);
#line 795 "../src/Widgets/MultitaskingView.vala"
				window = _tmp9_;
#line 796 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = window;
#line 796 "../src/Widgets/MultitaskingView.vala"
				monitor = meta_window_get_monitor (_tmp10_);
#line 798 "../src/Widgets/MultitaskingView.vala"
				_tmp11_ = window;
#line 798 "../src/Widgets/MultitaskingView.vala"
				_tmp12_ = meta_window_get_window_type (_tmp11_);
#line 798 "../src/Widgets/MultitaskingView.vala"
				_tmp13_ = _tmp12_;
#line 798 "../src/Widgets/MultitaskingView.vala"
				if (_tmp13_ != META_WINDOW_DOCK) {
#line 799 "../src/Widgets/MultitaskingView.vala"
					block68_data_unref (_data68_);
#line 799 "../src/Widgets/MultitaskingView.vala"
					_data68_ = NULL;
#line 799 "../src/Widgets/MultitaskingView.vala"
					continue;
#line 4528 "MultitaskingView.c"
				}
#line 802 "../src/Widgets/MultitaskingView.vala"
				_tmp14_ = self->priv->display;
#line 802 "../src/Widgets/MultitaskingView.vala"
				if (meta_display_get_monitor_in_fullscreen (_tmp14_, monitor)) {
#line 803 "../src/Widgets/MultitaskingView.vala"
					block68_data_unref (_data68_);
#line 803 "../src/Widgets/MultitaskingView.vala"
					_data68_ = NULL;
#line 803 "../src/Widgets/MultitaskingView.vala"
					continue;
#line 4540 "MultitaskingView.c"
				}
#line 806 "../src/Widgets/MultitaskingView.vala"
				_tmp15_ = self->priv->display;
#line 806 "../src/Widgets/MultitaskingView.vala"
				meta_display_get_monitor_geometry (_tmp15_, monitor, &_tmp16_);
#line 806 "../src/Widgets/MultitaskingView.vala"
				monitor_geom = _tmp16_;
#line 808 "../src/Widgets/MultitaskingView.vala"
				_tmp17_ = window;
#line 808 "../src/Widgets/MultitaskingView.vala"
				meta_window_get_frame_rect (_tmp17_, &_tmp18_);
#line 808 "../src/Widgets/MultitaskingView.vala"
				window_geom = _tmp18_;
#line 809 "../src/Widgets/MultitaskingView.vala"
				_tmp19_ = monitor_geom;
#line 809 "../src/Widgets/MultitaskingView.vala"
				_tmp20_ = window_geom;
#line 809 "../src/Widgets/MultitaskingView.vala"
				top = (_tmp19_.y + MAX_OFFSET) > _tmp20_.y;
#line 810 "../src/Widgets/MultitaskingView.vala"
				_tmp21_ = monitor_geom;
#line 810 "../src/Widgets/MultitaskingView.vala"
				_tmp22_ = monitor_geom;
#line 810 "../src/Widgets/MultitaskingView.vala"
				_tmp23_ = window_geom;
#line 810 "../src/Widgets/MultitaskingView.vala"
				bottom = ((_tmp21_.y + _tmp22_.height) - MAX_OFFSET) < _tmp23_.y;
#line 812 "../src/Widgets/MultitaskingView.vala"
				if (!top) {
#line 812 "../src/Widgets/MultitaskingView.vala"
					_tmp24_ = !bottom;
#line 4572 "MultitaskingView.c"
				} else {
#line 812 "../src/Widgets/MultitaskingView.vala"
					_tmp24_ = FALSE;
#line 4576 "MultitaskingView.c"
				}
#line 812 "../src/Widgets/MultitaskingView.vala"
				if (_tmp24_) {
#line 813 "../src/Widgets/MultitaskingView.vala"
					block68_data_unref (_data68_);
#line 813 "../src/Widgets/MultitaskingView.vala"
					_data68_ = NULL;
#line 813 "../src/Widgets/MultitaskingView.vala"
					continue;
#line 4586 "MultitaskingView.c"
				}
#line 816 "../src/Widgets/MultitaskingView.vala"
				_tmp25_ = actor;
#line 816 "../src/Widgets/MultitaskingView.vala"
				_tmp26_ = clutter_actor_get_x ((ClutterActor*) _tmp25_);
#line 816 "../src/Widgets/MultitaskingView.vala"
				_tmp27_ = _tmp26_;
#line 816 "../src/Widgets/MultitaskingView.vala"
				initial_x = _tmp27_;
#line 817 "../src/Widgets/MultitaskingView.vala"
				_tmp28_ = actor;
#line 817 "../src/Widgets/MultitaskingView.vala"
				_tmp29_ = clutter_actor_get_y ((ClutterActor*) _tmp28_);
#line 817 "../src/Widgets/MultitaskingView.vala"
				_tmp30_ = _tmp29_;
#line 817 "../src/Widgets/MultitaskingView.vala"
				_data68_->initial_y = _tmp30_;
#line 818 "../src/Widgets/MultitaskingView.vala"
				if (top) {
#line 4606 "MultitaskingView.c"
					MetaWindowActor* _tmp32_;
					gfloat _tmp33_;
					gfloat _tmp34_;
					MetaWindowActor* _tmp35_;
					gfloat _tmp36_;
					gfloat _tmp37_;
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp32_ = actor;
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp33_ = clutter_actor_get_y ((ClutterActor*) _tmp32_);
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp34_ = _tmp33_;
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp35_ = actor;
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp36_ = clutter_actor_get_height ((ClutterActor*) _tmp35_);
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp37_ = _tmp36_;
#line 819 "../src/Widgets/MultitaskingView.vala"
					_tmp31_ = _tmp34_ - _tmp37_;
#line 4627 "MultitaskingView.c"
				} else {
					MetaWindowActor* _tmp38_;
					gfloat _tmp39_;
					gfloat _tmp40_;
					MetaWindowActor* _tmp41_;
					gfloat _tmp42_;
					gfloat _tmp43_;
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp38_ = actor;
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp39_ = clutter_actor_get_y ((ClutterActor*) _tmp38_);
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp40_ = _tmp39_;
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp41_ = actor;
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp42_ = clutter_actor_get_height ((ClutterActor*) _tmp41_);
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp43_ = _tmp42_;
#line 820 "../src/Widgets/MultitaskingView.vala"
					_tmp31_ = _tmp40_ + _tmp43_;
#line 4649 "MultitaskingView.c"
				}
#line 818 "../src/Widgets/MultitaskingView.vala"
				_data68_->target_y = _tmp31_;
#line 822 "../src/Widgets/MultitaskingView.vala"
				_tmp44_ = window;
#line 822 "../src/Widgets/MultitaskingView.vala"
				_tmp45_ = gala_safe_window_clone_new (_tmp44_, TRUE);
#line 822 "../src/Widgets/MultitaskingView.vala"
				g_object_ref_sink (_tmp45_);
#line 822 "../src/Widgets/MultitaskingView.vala"
				_data68_->clone = _tmp45_;
#line 823 "../src/Widgets/MultitaskingView.vala"
				_tmp46_ = self->priv->dock_clones;
#line 823 "../src/Widgets/MultitaskingView.vala"
				_tmp47_ = _data68_->clone;
#line 823 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_add_child (_tmp46_, (ClutterActor*) _tmp47_);
#line 825 "../src/Widgets/MultitaskingView.vala"
				_tmp48_ = _data68_->clone;
#line 825 "../src/Widgets/MultitaskingView.vala"
				clutter_actor_set_position ((ClutterActor*) _tmp48_, initial_x, _data68_->initial_y);
#line 827 "../src/Widgets/MultitaskingView.vala"
				on_animation_update = _____lambda66__gala_gesture_tracker_on_update;
#line 827 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target = block68_data_ref (_data68_);
#line 827 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target_destroy_notify = block68_data_unref;
#line 832 "../src/Widgets/MultitaskingView.vala"
				on_animation_end = _____lambda67__gala_gesture_tracker_on_end;
#line 832 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target = block68_data_ref (_data68_);
#line 832 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target_destroy_notify = block68_data_unref;
#line 844 "../src/Widgets/MultitaskingView.vala"
				if (!with_gesture) {
#line 844 "../src/Widgets/MultitaskingView.vala"
					_tmp49_ = TRUE;
#line 4687 "MultitaskingView.c"
				} else {
					GalaWindowManager* _tmp50_;
					gboolean _tmp51_;
					gboolean _tmp52_;
#line 844 "../src/Widgets/MultitaskingView.vala"
					_tmp50_ = self->priv->_wm;
#line 844 "../src/Widgets/MultitaskingView.vala"
					_tmp51_ = gala_window_manager_get_enable_animations (_tmp50_);
#line 844 "../src/Widgets/MultitaskingView.vala"
					_tmp52_ = _tmp51_;
#line 844 "../src/Widgets/MultitaskingView.vala"
					_tmp49_ = !_tmp52_;
#line 4700 "MultitaskingView.c"
				}
#line 844 "../src/Widgets/MultitaskingView.vala"
				if (_tmp49_) {
#line 4704 "MultitaskingView.c"
					GalaGestureTrackerOnEnd _tmp53_;
					gpointer _tmp53__target;
#line 845 "../src/Widgets/MultitaskingView.vala"
					_tmp53_ = on_animation_end;
#line 845 "../src/Widgets/MultitaskingView.vala"
					_tmp53__target = on_animation_end_target;
#line 845 "../src/Widgets/MultitaskingView.vala"
					_tmp53_ ((gdouble) 1, FALSE, 0, _tmp53__target);
#line 4713 "MultitaskingView.c"
				} else {
					GalaGestureTracker* _tmp54_;
					GalaGestureTrackerOnUpdate _tmp55_;
					gpointer _tmp55__target;
					GDestroyNotify _tmp55__target_destroy_notify;
					GalaGestureTrackerOnEnd _tmp56_;
					gpointer _tmp56__target;
					GDestroyNotify _tmp56__target_destroy_notify;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp54_ = self->priv->multitasking_gesture_tracker;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp55_ = on_animation_update;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp55__target = on_animation_update_target;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp55__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 847 "../src/Widgets/MultitaskingView.vala"
					on_animation_update = NULL;
#line 847 "../src/Widgets/MultitaskingView.vala"
					on_animation_update_target = NULL;
#line 847 "../src/Widgets/MultitaskingView.vala"
					on_animation_update_target_destroy_notify = NULL;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp56_ = on_animation_end;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp56__target = on_animation_end_target;
#line 847 "../src/Widgets/MultitaskingView.vala"
					_tmp56__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 847 "../src/Widgets/MultitaskingView.vala"
					on_animation_end = NULL;
#line 847 "../src/Widgets/MultitaskingView.vala"
					on_animation_end_target = NULL;
#line 847 "../src/Widgets/MultitaskingView.vala"
					on_animation_end_target_destroy_notify = NULL;
#line 847 "../src/Widgets/MultitaskingView.vala"
					gala_gesture_tracker_connect_handlers (_tmp54_, NULL, NULL, NULL, _tmp55_, _tmp55__target, _tmp55__target_destroy_notify, _tmp56_, _tmp56__target, _tmp56__target_destroy_notify);
#line 4750 "MultitaskingView.c"
				}
#line 788 "../src/Widgets/MultitaskingView.vala"
				(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 788 "../src/Widgets/MultitaskingView.vala"
				on_animation_end = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target_destroy_notify = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
				(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 788 "../src/Widgets/MultitaskingView.vala"
				on_animation_update = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target_destroy_notify = NULL;
#line 788 "../src/Widgets/MultitaskingView.vala"
				block68_data_unref (_data68_);
#line 788 "../src/Widgets/MultitaskingView.vala"
				_data68_ = NULL;
#line 4772 "MultitaskingView.c"
			}
		}
	}
#line 786 "../src/Widgets/MultitaskingView.vala"
	block67_data_unref (_data67_);
#line 786 "../src/Widgets/MultitaskingView.vala"
	_data67_ = NULL;
#line 4780 "MultitaskingView.c"
}

static Block69Data*
block69_data_ref (Block69Data* _data69_)
{
#line 853 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data69_->_ref_count_);
#line 853 "../src/Widgets/MultitaskingView.vala"
	return _data69_;
#line 4790 "MultitaskingView.c"
}

static void
block69_data_unref (void * _userdata_)
{
	Block69Data* _data69_;
	_data69_ = (Block69Data*) _userdata_;
#line 853 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data69_->_ref_count_)) {
#line 4800 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 853 "../src/Widgets/MultitaskingView.vala"
		self = _data69_->self;
#line 853 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (_data69_->dock);
#line 853 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self);
#line 853 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block69Data, _data69_);
#line 4810 "MultitaskingView.c"
	}
}

static void
____lambda68_ (Block69Data* _data69_,
               gdouble percentage)
{
	GalaMultitaskingView* self;
	gfloat y = 0.0F;
	ClutterClone* _tmp0_;
#line 858 "../src/Widgets/MultitaskingView.vala"
	self = _data69_->self;
#line 859 "../src/Widgets/MultitaskingView.vala"
	y = gala_gesture_tracker_animation_value (_data69_->initial_y, _data69_->target_y, percentage, FALSE);
#line 860 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = _data69_->dock;
#line 860 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_y ((ClutterActor*) _tmp0_, y);
#line 4829 "MultitaskingView.c"
}

static void
_____lambda68__gala_gesture_tracker_on_update (gdouble percentage,
                                               gpointer self)
{
#line 858 "../src/Widgets/MultitaskingView.vala"
	____lambda68_ (self, percentage);
#line 4838 "MultitaskingView.c"
}

static void
____lambda69_ (Block69Data* _data69_,
               gdouble percentage,
               gboolean cancel_action)
{
	GalaMultitaskingView* self;
	ClutterClone* _tmp0_;
	ClutterClone* _tmp1_;
	gint _tmp2_ = 0;
	GalaWindowManager* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	ClutterClone* _tmp6_;
	ClutterClone* _tmp7_;
	ClutterClone* _tmp8_;
#line 863 "../src/Widgets/MultitaskingView.vala"
	self = _data69_->self;
#line 864 "../src/Widgets/MultitaskingView.vala"
	if (cancel_action) {
#line 865 "../src/Widgets/MultitaskingView.vala"
		return;
#line 4862 "MultitaskingView.c"
	}
#line 868 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = _data69_->dock;
#line 868 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_save_easing_state ((ClutterActor*) _tmp0_);
#line 869 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = _data69_->dock;
#line 869 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_mode ((ClutterActor*) _tmp1_, CLUTTER_EASE_OUT_QUAD);
#line 870 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = self->priv->_wm;
#line 870 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = gala_window_manager_get_enable_animations (_tmp3_);
#line 870 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = _tmp4_;
#line 870 "../src/Widgets/MultitaskingView.vala"
	if (_tmp5_) {
#line 870 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = GALA_MULTITASKING_VIEW_ANIMATION_DURATION;
#line 4882 "MultitaskingView.c"
	} else {
#line 870 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = 0;
#line 4886 "MultitaskingView.c"
	}
#line 870 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = _data69_->dock;
#line 870 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_easing_duration ((ClutterActor*) _tmp6_, (guint) _tmp2_);
#line 871 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = _data69_->dock;
#line 871 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_y ((ClutterActor*) _tmp7_, _data69_->target_y);
#line 872 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = _data69_->dock;
#line 872 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_restore_easing_state ((ClutterActor*) _tmp8_);
#line 4900 "MultitaskingView.c"
}

static void
_____lambda69__gala_gesture_tracker_on_end (gdouble percentage,
                                            gboolean cancel_action,
                                            gint calculated_duration,
                                            gpointer self)
{
#line 863 "../src/Widgets/MultitaskingView.vala"
	____lambda69_ (self, percentage, cancel_action);
#line 4911 "MultitaskingView.c"
}

static void
gala_multitasking_view_hide_docks (GalaMultitaskingView* self,
                                   gboolean with_gesture,
                                   gboolean is_cancel_animation)
{
	ClutterActor* _tmp0_;
	GList* _tmp1_;
#line 852 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 853 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->dock_clones;
#line 853 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = clutter_actor_get_children (_tmp0_);
#line 4927 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp1_;
#line 853 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 4935 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 4939 "MultitaskingView.c"
			{
				Block69Data* _data69_;
				ClutterActor* _tmp2_;
				ClutterClone* _tmp3_;
				ClutterClone* _tmp4_;
				gfloat _tmp5_;
				gfloat _tmp6_;
				ClutterClone* _tmp7_;
				ClutterActor* _tmp8_;
				ClutterActor* _tmp9_;
				gfloat _tmp10_;
				gfloat _tmp11_;
				GalaGestureTrackerOnUpdate on_animation_update = NULL;
				gpointer on_animation_update_target;
				GDestroyNotify on_animation_update_target_destroy_notify;
				GalaGestureTrackerOnEnd on_animation_end = NULL;
				gpointer on_animation_end_target;
				GDestroyNotify on_animation_end_target_destroy_notify;
				gboolean _tmp12_ = FALSE;
#line 853 "../src/Widgets/MultitaskingView.vala"
				_data69_ = g_slice_new0 (Block69Data);
#line 853 "../src/Widgets/MultitaskingView.vala"
				_data69_->_ref_count_ = 1;
#line 853 "../src/Widgets/MultitaskingView.vala"
				_data69_->self = g_object_ref (self);
#line 854 "../src/Widgets/MultitaskingView.vala"
				_tmp2_ = child;
#line 854 "../src/Widgets/MultitaskingView.vala"
				_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, clutter_clone_get_type (), ClutterClone));
#line 854 "../src/Widgets/MultitaskingView.vala"
				_data69_->dock = _tmp3_;
#line 855 "../src/Widgets/MultitaskingView.vala"
				_tmp4_ = _data69_->dock;
#line 855 "../src/Widgets/MultitaskingView.vala"
				_tmp5_ = clutter_actor_get_y ((ClutterActor*) _tmp4_);
#line 855 "../src/Widgets/MultitaskingView.vala"
				_tmp6_ = _tmp5_;
#line 855 "../src/Widgets/MultitaskingView.vala"
				_data69_->initial_y = _tmp6_;
#line 856 "../src/Widgets/MultitaskingView.vala"
				_tmp7_ = _data69_->dock;
#line 856 "../src/Widgets/MultitaskingView.vala"
				_tmp8_ = clutter_clone_get_source (_tmp7_);
#line 856 "../src/Widgets/MultitaskingView.vala"
				_tmp9_ = _tmp8_;
#line 856 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = clutter_actor_get_y (_tmp9_);
#line 856 "../src/Widgets/MultitaskingView.vala"
				_tmp11_ = _tmp10_;
#line 856 "../src/Widgets/MultitaskingView.vala"
				_data69_->target_y = _tmp11_;
#line 858 "../src/Widgets/MultitaskingView.vala"
				on_animation_update = _____lambda68__gala_gesture_tracker_on_update;
#line 858 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target = block69_data_ref (_data69_);
#line 858 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target_destroy_notify = block69_data_unref;
#line 863 "../src/Widgets/MultitaskingView.vala"
				on_animation_end = _____lambda69__gala_gesture_tracker_on_end;
#line 863 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target = block69_data_ref (_data69_);
#line 863 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target_destroy_notify = block69_data_unref;
#line 875 "../src/Widgets/MultitaskingView.vala"
				if (!with_gesture) {
#line 875 "../src/Widgets/MultitaskingView.vala"
					_tmp12_ = TRUE;
#line 5007 "MultitaskingView.c"
				} else {
					GalaWindowManager* _tmp13_;
					gboolean _tmp14_;
					gboolean _tmp15_;
#line 875 "../src/Widgets/MultitaskingView.vala"
					_tmp13_ = self->priv->_wm;
#line 875 "../src/Widgets/MultitaskingView.vala"
					_tmp14_ = gala_window_manager_get_enable_animations (_tmp13_);
#line 875 "../src/Widgets/MultitaskingView.vala"
					_tmp15_ = _tmp14_;
#line 875 "../src/Widgets/MultitaskingView.vala"
					_tmp12_ = !_tmp15_;
#line 5020 "MultitaskingView.c"
				}
#line 875 "../src/Widgets/MultitaskingView.vala"
				if (_tmp12_) {
#line 5024 "MultitaskingView.c"
					GalaGestureTrackerOnEnd _tmp16_;
					gpointer _tmp16__target;
#line 876 "../src/Widgets/MultitaskingView.vala"
					_tmp16_ = on_animation_end;
#line 876 "../src/Widgets/MultitaskingView.vala"
					_tmp16__target = on_animation_end_target;
#line 876 "../src/Widgets/MultitaskingView.vala"
					_tmp16_ ((gdouble) 1, FALSE, 0, _tmp16__target);
#line 5033 "MultitaskingView.c"
				} else {
					GalaGestureTracker* _tmp17_;
					GalaGestureTrackerOnUpdate _tmp18_;
					gpointer _tmp18__target;
					GDestroyNotify _tmp18__target_destroy_notify;
					GalaGestureTrackerOnEnd _tmp19_;
					gpointer _tmp19__target;
					GDestroyNotify _tmp19__target_destroy_notify;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp17_ = self->priv->multitasking_gesture_tracker;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp18_ = on_animation_update;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp18__target = on_animation_update_target;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp18__target_destroy_notify = on_animation_update_target_destroy_notify;
#line 878 "../src/Widgets/MultitaskingView.vala"
					on_animation_update = NULL;
#line 878 "../src/Widgets/MultitaskingView.vala"
					on_animation_update_target = NULL;
#line 878 "../src/Widgets/MultitaskingView.vala"
					on_animation_update_target_destroy_notify = NULL;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp19_ = on_animation_end;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp19__target = on_animation_end_target;
#line 878 "../src/Widgets/MultitaskingView.vala"
					_tmp19__target_destroy_notify = on_animation_end_target_destroy_notify;
#line 878 "../src/Widgets/MultitaskingView.vala"
					on_animation_end = NULL;
#line 878 "../src/Widgets/MultitaskingView.vala"
					on_animation_end_target = NULL;
#line 878 "../src/Widgets/MultitaskingView.vala"
					on_animation_end_target_destroy_notify = NULL;
#line 878 "../src/Widgets/MultitaskingView.vala"
					gala_gesture_tracker_connect_handlers (_tmp17_, NULL, NULL, NULL, _tmp18_, _tmp18__target, _tmp18__target_destroy_notify, _tmp19_, _tmp19__target, _tmp19__target_destroy_notify);
#line 5070 "MultitaskingView.c"
				}
#line 853 "../src/Widgets/MultitaskingView.vala"
				(on_animation_end_target_destroy_notify == NULL) ? NULL : (on_animation_end_target_destroy_notify (on_animation_end_target), NULL);
#line 853 "../src/Widgets/MultitaskingView.vala"
				on_animation_end = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
				on_animation_end_target_destroy_notify = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
				(on_animation_update_target_destroy_notify == NULL) ? NULL : (on_animation_update_target_destroy_notify (on_animation_update_target), NULL);
#line 853 "../src/Widgets/MultitaskingView.vala"
				on_animation_update = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
				on_animation_update_target_destroy_notify = NULL;
#line 853 "../src/Widgets/MultitaskingView.vala"
				block69_data_unref (_data69_);
#line 853 "../src/Widgets/MultitaskingView.vala"
				_data69_ = NULL;
#line 5092 "MultitaskingView.c"
			}
		}
#line 853 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 5097 "MultitaskingView.c"
	}
}

static gboolean
gala_multitasking_view_keybinding_filter (GalaMultitaskingView* self,
                                          MetaKeyBinding* binding)
{
	MetaKeyBindingAction action = 0;
	const gchar* _tmp0_;
	gboolean _tmp1_ = FALSE;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	GQuark _tmp8_ = 0U;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label0 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label1 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label2 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label3 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label4 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label5 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label6 = 0;
#line 915 "../src/Widgets/MultitaskingView.vala"
	static GQuark _tmp7_label7 = 0;
#line 5127 "MultitaskingView.c"
	gboolean result;
#line 883 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 883 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (binding != NULL, FALSE);
#line 884 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = meta_key_binding_get_name (binding);
#line 884 "../src/Widgets/MultitaskingView.vala"
	action = meta_prefs_get_keybinding_action (_tmp0_);
#line 887 "../src/Widgets/MultitaskingView.vala"
	if (action == META_KEYBINDING_ACTION_OVERLAY_KEY) {
#line 5139 "MultitaskingView.c"
		GSettings* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
#line 888 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = self->priv->gala_behavior_settings;
#line 888 "../src/Widgets/MultitaskingView.vala"
		_tmp3_ = g_settings_get_string (_tmp2_, "overlay-action");
#line 888 "../src/Widgets/MultitaskingView.vala"
		_tmp4_ = _tmp3_;
#line 888 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = g_strcmp0 (_tmp4_, GALA_MULTITASKING_VIEW_OPEN_MULTITASKING_VIEW) == 0;
#line 888 "../src/Widgets/MultitaskingView.vala"
		_g_free0 (_tmp4_);
#line 5153 "MultitaskingView.c"
	} else {
#line 887 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = FALSE;
#line 5157 "MultitaskingView.c"
	}
#line 887 "../src/Widgets/MultitaskingView.vala"
	if (_tmp1_) {
#line 889 "../src/Widgets/MultitaskingView.vala"
		result = FALSE;
#line 889 "../src/Widgets/MultitaskingView.vala"
		return result;
#line 5165 "MultitaskingView.c"
	}
#line 892 "../src/Widgets/MultitaskingView.vala"
	switch (action) {
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_1:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_2:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_3:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_4:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_5:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_6:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_7:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_8:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_9:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_10:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_11:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_12:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_LEFT:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_WORKSPACE_RIGHT:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_SHOW_DESKTOP:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_NONE:
#line 892 "../src/Widgets/MultitaskingView.vala"
		case META_KEYBINDING_ACTION_LOCATE_POINTER_KEY:
#line 5203 "MultitaskingView.c"
		{
#line 910 "../src/Widgets/MultitaskingView.vala"
			result = FALSE;
#line 910 "../src/Widgets/MultitaskingView.vala"
			return result;
#line 5209 "MultitaskingView.c"
		}
		default:
		{
#line 912 "../src/Widgets/MultitaskingView.vala"
			break;
#line 5215 "MultitaskingView.c"
		}
	}
#line 915 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = meta_key_binding_get_name (binding);
#line 915 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = _tmp5_;
#line 915 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = (NULL == _tmp6_) ? 0 : g_quark_from_string (_tmp6_);
#line 915 "../src/Widgets/MultitaskingView.vala"
	if ((((((((_tmp8_ == ((0 != _tmp7_label0) ? _tmp7_label0 : (_tmp7_label0 = g_quark_from_static_string ("cycle-workspaces-next")))) || (_tmp8_ == ((0 != _tmp7_label1) ? _tmp7_label1 : (_tmp7_label1 = g_quark_from_static_string ("cycle-workspaces-previous"))))) || (_tmp8_ == ((0 != _tmp7_label2) ? _tmp7_label2 : (_tmp7_label2 = g_quark_from_static_string ("switch-to-workspace-first"))))) || (_tmp8_ == ((0 != _tmp7_label3) ? _tmp7_label3 : (_tmp7_label3 = g_quark_from_static_string ("switch-to-workspace-last"))))) || (_tmp8_ == ((0 != _tmp7_label4) ? _tmp7_label4 : (_tmp7_label4 = g_quark_from_static_string ("zoom-in"))))) || (_tmp8_ == ((0 != _tmp7_label5) ? _tmp7_label5 : (_tmp7_label5 = g_quark_from_static_string ("zoom-out"))))) || (_tmp8_ == ((0 != _tmp7_label6) ? _tmp7_label6 : (_tmp7_label6 = g_quark_from_static_string ("screenshot"))))) || (_tmp8_ == ((0 != _tmp7_label7) ? _tmp7_label7 : (_tmp7_label7 = g_quark_from_static_string ("screenshot-clip"))))) {
#line 915 "../src/Widgets/MultitaskingView.vala"
		switch (0) {
#line 5228 "MultitaskingView.c"
			default:
			{
#line 924 "../src/Widgets/MultitaskingView.vala"
				result = FALSE;
#line 924 "../src/Widgets/MultitaskingView.vala"
				return result;
#line 5235 "MultitaskingView.c"
			}
		}
	} else {
#line 915 "../src/Widgets/MultitaskingView.vala"
		switch (0) {
#line 5241 "MultitaskingView.c"
			default:
			{
#line 926 "../src/Widgets/MultitaskingView.vala"
				break;
#line 5246 "MultitaskingView.c"
			}
		}
	}
#line 929 "../src/Widgets/MultitaskingView.vala"
	result = TRUE;
#line 929 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 5254 "MultitaskingView.c"
}

GalaWindowManager*
gala_multitasking_view_get_wm (GalaMultitaskingView* self)
{
	GalaWindowManager* result;
	GalaWindowManager* _tmp0_;
#line 31 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 31 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = self->priv->_wm;
#line 31 "../src/Widgets/MultitaskingView.vala"
	result = _tmp0_;
#line 31 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 5270 "MultitaskingView.c"
}

static void
gala_multitasking_view_set_wm (GalaMultitaskingView* self,
                               GalaWindowManager* value)
{
	GalaWindowManager* old_value;
#line 31 "../src/Widgets/MultitaskingView.vala"
	g_return_if_fail (self != NULL);
#line 31 "../src/Widgets/MultitaskingView.vala"
	old_value = gala_multitasking_view_get_wm (self);
#line 31 "../src/Widgets/MultitaskingView.vala"
	if (old_value != value) {
#line 5284 "MultitaskingView.c"
		GalaWindowManager* _tmp0_;
#line 31 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 31 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self->priv->_wm);
#line 31 "../src/Widgets/MultitaskingView.vala"
		self->priv->_wm = _tmp0_;
#line 31 "../src/Widgets/MultitaskingView.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_multitasking_view_properties[GALA_MULTITASKING_VIEW_WM_PROPERTY]);
#line 5294 "MultitaskingView.c"
	}
}

static gboolean
gala_multitasking_view_get_switching_workspace_in_progress (GalaMultitaskingView* self)
{
	gboolean result;
	gboolean _tmp0_ = FALSE;
#line 51 "../src/Widgets/MultitaskingView.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 52 "../src/Widgets/MultitaskingView.vala"
	if (self->priv->switching_workspace_with_gesture) {
#line 52 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = TRUE;
#line 5309 "MultitaskingView.c"
	} else {
		ClutterActor* _tmp1_;
		ClutterTransition* _tmp2_;
#line 52 "../src/Widgets/MultitaskingView.vala"
		_tmp1_ = self->priv->workspaces;
#line 52 "../src/Widgets/MultitaskingView.vala"
		_tmp2_ = clutter_actor_get_transition (_tmp1_, "x");
#line 52 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = _tmp2_ != NULL;
#line 5319 "MultitaskingView.c"
	}
#line 52 "../src/Widgets/MultitaskingView.vala"
	result = _tmp0_;
#line 52 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 5325 "MultitaskingView.c"
}

static Block70Data*
block70_data_ref (Block70Data* _data70_)
{
#line 60 "../src/Widgets/MultitaskingView.vala"
	g_atomic_int_inc (&_data70_->_ref_count_);
#line 60 "../src/Widgets/MultitaskingView.vala"
	return _data70_;
#line 5335 "MultitaskingView.c"
}

static void
block70_data_unref (void * _userdata_)
{
	Block70Data* _data70_;
	_data70_ = (Block70Data*) _userdata_;
#line 60 "../src/Widgets/MultitaskingView.vala"
	if (g_atomic_int_dec_and_test (&_data70_->_ref_count_)) {
#line 5345 "MultitaskingView.c"
		GalaMultitaskingView* self;
#line 60 "../src/Widgets/MultitaskingView.vala"
		self = _data70_->self;
#line 60 "../src/Widgets/MultitaskingView.vala"
		_g_object_unref0 (self);
#line 60 "../src/Widgets/MultitaskingView.vala"
		g_slice_free (Block70Data, _data70_);
#line 5353 "MultitaskingView.c"
	}
}

static void
_gala_multitasking_view_on_multitasking_gesture_detected_gala_gesture_tracker_on_gesture_detected (GalaGestureTracker* _sender,
                                                                                                   GalaGesture* gesture,
                                                                                                   gpointer self)
{
#line 73 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_on_multitasking_gesture_detected ((GalaMultitaskingView*) self, gesture);
#line 5364 "MultitaskingView.c"
}

static void
_gala_multitasking_view_on_workspace_gesture_detected_gala_gesture_tracker_on_gesture_detected (GalaGestureTracker* _sender,
                                                                                                GalaGesture* gesture,
                                                                                                gpointer self)
{
#line 78 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_on_workspace_gesture_detected ((GalaMultitaskingView*) self, gesture);
#line 5374 "MultitaskingView.c"
}

static void
_gala_multitasking_view_add_workspace_meta_workspace_manager_workspace_added (MetaWorkspaceManager* _sender,
                                                                              gint object,
                                                                              gpointer self)
{
#line 105 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_add_workspace ((GalaMultitaskingView*) self, object);
#line 5384 "MultitaskingView.c"
}

static void
_gala_multitasking_view_remove_workspace_meta_workspace_manager_workspace_removed (MetaWorkspaceManager* _sender,
                                                                                   gint object,
                                                                                   gpointer self)
{
#line 106 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_remove_workspace ((GalaMultitaskingView*) self, object);
#line 5394 "MultitaskingView.c"
}

static void
_gala_multitasking_view___lambda74_ (GalaMultitaskingView* self)
{
#line 107 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_positions (self, FALSE);
#line 5402 "MultitaskingView.c"
}

static void
__gala_multitasking_view___lambda74__meta_workspace_manager_workspaces_reordered (MetaWorkspaceManager* _sender,
                                                                                  gpointer self)
{
#line 107 "../src/Widgets/MultitaskingView.vala"
	_gala_multitasking_view___lambda74_ ((GalaMultitaskingView*) self);
#line 5411 "MultitaskingView.c"
}

static void
_gala_multitasking_view___lambda75_ (GalaMultitaskingView* self,
                                     gint from,
                                     gint to,
                                     MetaMotionDirection direction)
{
#line 109 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_positions (self, self->priv->opened);
#line 5422 "MultitaskingView.c"
}

static void
__gala_multitasking_view___lambda75__meta_workspace_manager_workspace_switched (MetaWorkspaceManager* _sender,
                                                                                gint object,
                                                                                gint p0,
                                                                                MetaMotionDirection p1,
                                                                                gpointer self)
{
#line 108 "../src/Widgets/MultitaskingView.vala"
	_gala_multitasking_view___lambda75_ ((GalaMultitaskingView*) self, object, p0, p1);
#line 5434 "MultitaskingView.c"
}

static void
_gala_multitasking_view_update_monitors_meta_monitor_manager_monitors_changed (MetaMonitorManager* _sender,
                                                                               gpointer self)
{
#line 115 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_monitors ((GalaMultitaskingView*) self);
#line 5443 "MultitaskingView.c"
}

static gboolean
__lambda77_ (Block70Data* _data70_)
{
	GalaMultitaskingView* self;
	GList* existing_workspaces = NULL;
	ClutterActor* _tmp6_;
	GList* _tmp7_;
	gboolean result;
#line 128 "../src/Widgets/MultitaskingView.vala"
	self = _data70_->self;
#line 129 "../src/Widgets/MultitaskingView.vala"
	existing_workspaces = NULL;
#line 5458 "MultitaskingView.c"
	{
		gint i = 0;
#line 130 "../src/Widgets/MultitaskingView.vala"
		i = 0;
#line 5463 "MultitaskingView.c"
		{
			gboolean _tmp0_ = FALSE;
#line 130 "../src/Widgets/MultitaskingView.vala"
			_tmp0_ = TRUE;
#line 130 "../src/Widgets/MultitaskingView.vala"
			while (TRUE) {
#line 5470 "MultitaskingView.c"
				MetaWorkspaceManager* _tmp2_;
				MetaWorkspaceManager* _tmp3_;
				MetaWorkspace* _tmp4_;
				MetaWorkspace* _tmp5_;
#line 130 "../src/Widgets/MultitaskingView.vala"
				if (!_tmp0_) {
#line 5477 "MultitaskingView.c"
					gint _tmp1_;
#line 130 "../src/Widgets/MultitaskingView.vala"
					_tmp1_ = i;
#line 130 "../src/Widgets/MultitaskingView.vala"
					i = _tmp1_ + 1;
#line 5483 "MultitaskingView.c"
				}
#line 130 "../src/Widgets/MultitaskingView.vala"
				_tmp0_ = FALSE;
#line 130 "../src/Widgets/MultitaskingView.vala"
				_tmp2_ = _data70_->manager;
#line 130 "../src/Widgets/MultitaskingView.vala"
				if (!(i < meta_workspace_manager_get_n_workspaces (_tmp2_))) {
#line 130 "../src/Widgets/MultitaskingView.vala"
					break;
#line 5493 "MultitaskingView.c"
				}
#line 131 "../src/Widgets/MultitaskingView.vala"
				_tmp3_ = _data70_->manager;
#line 131 "../src/Widgets/MultitaskingView.vala"
				_tmp4_ = meta_workspace_manager_get_workspace_by_index (_tmp3_, i);
#line 131 "../src/Widgets/MultitaskingView.vala"
				_tmp5_ = _g_object_ref0 (_tmp4_);
#line 131 "../src/Widgets/MultitaskingView.vala"
				existing_workspaces = g_list_append (existing_workspaces, _tmp5_);
#line 5503 "MultitaskingView.c"
			}
		}
	}
#line 134 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = self->priv->workspaces;
#line 134 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = clutter_actor_get_children (_tmp6_);
#line 5511 "MultitaskingView.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 134 "../src/Widgets/MultitaskingView.vala"
		child_collection = _tmp7_;
#line 134 "../src/Widgets/MultitaskingView.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 5519 "MultitaskingView.c"
			ClutterActor* child = NULL;
#line 134 "../src/Widgets/MultitaskingView.vala"
			child = (ClutterActor*) child_it->data;
#line 5523 "MultitaskingView.c"
			{
				GalaWorkspaceClone* workspace_clone = NULL;
				ClutterActor* _tmp8_;
				GList* _tmp9_;
				GalaWorkspaceClone* _tmp10_;
				MetaWorkspace* _tmp11_;
				MetaWorkspace* _tmp12_;
#line 135 "../src/Widgets/MultitaskingView.vala"
				_tmp8_ = child;
#line 135 "../src/Widgets/MultitaskingView.vala"
				workspace_clone = G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GALA_TYPE_WORKSPACE_CLONE, GalaWorkspaceClone);
#line 136 "../src/Widgets/MultitaskingView.vala"
				_tmp9_ = existing_workspaces;
#line 136 "../src/Widgets/MultitaskingView.vala"
				_tmp10_ = workspace_clone;
#line 136 "../src/Widgets/MultitaskingView.vala"
				_tmp11_ = gala_workspace_clone_get_workspace (_tmp10_);
#line 136 "../src/Widgets/MultitaskingView.vala"
				_tmp12_ = _tmp11_;
#line 136 "../src/Widgets/MultitaskingView.vala"
				if (g_list_index (_tmp9_, _tmp12_) < 0) {
#line 5545 "MultitaskingView.c"
					GalaWorkspaceClone* _tmp13_;
					guint _tmp14_;
					GalaWorkspaceClone* _tmp15_;
					guint _tmp16_;
					GalaIconGroupContainer* _tmp17_;
					GalaWorkspaceClone* _tmp18_;
					GalaIconGroup* _tmp19_;
					GalaIconGroup* _tmp20_;
					GalaWorkspaceClone* _tmp21_;
#line 137 "../src/Widgets/MultitaskingView.vala"
					_tmp13_ = workspace_clone;
#line 137 "../src/Widgets/MultitaskingView.vala"
					g_signal_parse_name ("window-selected", GALA_TYPE_WORKSPACE_CLONE, &_tmp14_, NULL, FALSE);
#line 137 "../src/Widgets/MultitaskingView.vala"
					g_signal_handlers_disconnect_matched (_tmp13_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp14_, 0, NULL, (GCallback) _gala_multitasking_view_window_selected_gala_workspace_clone_window_selected, self);
#line 138 "../src/Widgets/MultitaskingView.vala"
					_tmp15_ = workspace_clone;
#line 138 "../src/Widgets/MultitaskingView.vala"
					g_signal_parse_name ("selected", GALA_TYPE_WORKSPACE_CLONE, &_tmp16_, NULL, FALSE);
#line 138 "../src/Widgets/MultitaskingView.vala"
					g_signal_handlers_disconnect_matched (_tmp15_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp16_, 0, NULL, (GCallback) _gala_multitasking_view_activate_workspace_gala_workspace_clone_selected, self);
#line 140 "../src/Widgets/MultitaskingView.vala"
					_tmp17_ = self->priv->icon_groups;
#line 140 "../src/Widgets/MultitaskingView.vala"
					_tmp18_ = workspace_clone;
#line 140 "../src/Widgets/MultitaskingView.vala"
					_tmp19_ = gala_workspace_clone_get_icon_group (_tmp18_);
#line 140 "../src/Widgets/MultitaskingView.vala"
					_tmp20_ = _tmp19_;
#line 140 "../src/Widgets/MultitaskingView.vala"
					gala_icon_group_container_remove_group (_tmp17_, _tmp20_);
#line 142 "../src/Widgets/MultitaskingView.vala"
					_tmp21_ = workspace_clone;
#line 142 "../src/Widgets/MultitaskingView.vala"
					clutter_actor_destroy ((ClutterActor*) _tmp21_);
#line 5581 "MultitaskingView.c"
				}
			}
		}
#line 134 "../src/Widgets/MultitaskingView.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 5587 "MultitaskingView.c"
	}
#line 146 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_monitors (self);
#line 147 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_positions (self, FALSE);
#line 149 "../src/Widgets/MultitaskingView.vala"
	result = G_SOURCE_REMOVE;
#line 149 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 5597 "MultitaskingView.c"
}

static gboolean
___lambda77__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda77_ (self);
#line 128 "../src/Widgets/MultitaskingView.vala"
	return result;
#line 5607 "MultitaskingView.c"
}

static void
_gala_multitasking_view___lambda76_ (Block70Data* _data70_,
                                     MetaPreference pref)
{
	GalaMultitaskingView* self;
	gboolean _tmp0_ = FALSE;
#line 117 "../src/Widgets/MultitaskingView.vala"
	self = _data70_->self;
#line 118 "../src/Widgets/MultitaskingView.vala"
	if (pref == META_PREF_WORKSPACES_ONLY_ON_PRIMARY) {
#line 119 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_update_monitors (self);
#line 120 "../src/Widgets/MultitaskingView.vala"
		return;
#line 5624 "MultitaskingView.c"
	}
#line 123 "../src/Widgets/MultitaskingView.vala"
	if (meta_prefs_get_dynamic_workspaces ()) {
#line 123 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = TRUE;
#line 5630 "MultitaskingView.c"
	} else {
		gboolean _tmp1_ = FALSE;
#line 124 "../src/Widgets/MultitaskingView.vala"
		if (pref != META_PREF_DYNAMIC_WORKSPACES) {
#line 124 "../src/Widgets/MultitaskingView.vala"
			_tmp1_ = pref != META_PREF_NUM_WORKSPACES;
#line 5637 "MultitaskingView.c"
		} else {
#line 124 "../src/Widgets/MultitaskingView.vala"
			_tmp1_ = FALSE;
#line 5641 "MultitaskingView.c"
		}
#line 124 "../src/Widgets/MultitaskingView.vala"
		_tmp0_ = _tmp1_;
#line 5645 "MultitaskingView.c"
	}
#line 123 "../src/Widgets/MultitaskingView.vala"
	if (_tmp0_) {
#line 125 "../src/Widgets/MultitaskingView.vala"
		return;
#line 5651 "MultitaskingView.c"
	}
#line 128 "../src/Widgets/MultitaskingView.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda77__gsource_func, block70_data_ref (_data70_), block70_data_unref);
#line 5655 "MultitaskingView.c"
}

static void
__gala_multitasking_view___lambda76__meta_prefs_changed_func (MetaPreference pref,
                                                              gpointer self)
{
#line 117 "../src/Widgets/MultitaskingView.vala"
	_gala_multitasking_view___lambda76_ (self, pref);
#line 5664 "MultitaskingView.c"
}

static void
_gala_multitasking_view_update_brightness_effect_g_object_notify (GObject* _sender,
                                                                  GParamSpec* pspec,
                                                                  gpointer self)
{
#line 153 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_brightness_effect ((GalaMultitaskingView*) self);
#line 5674 "MultitaskingView.c"
}

static GObject *
gala_multitasking_view_constructor (GType type,
                                    guint n_construct_properties,
                                    GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GalaMultitaskingView * self;
	Block70Data* _data70_;
	GSettings* _tmp0_;
	GalaDrawingStyleManager* _tmp1_;
	GalaWindowManager* _tmp2_;
	MetaDisplay* _tmp3_;
	MetaDisplay* _tmp4_;
	GalaGestureTracker* _tmp5_;
	GalaGestureTracker* _tmp6_;
	GalaGestureTracker* _tmp7_;
	GalaGestureTracker* _tmp8_;
	GalaGestureTracker* _tmp9_;
	GalaGestureTracker* _tmp10_;
	GalaGestureTracker* _tmp11_;
	ClutterActor* _tmp12_;
	GalaWindowManager* _tmp13_;
	MetaDisplay* _tmp14_;
	MetaDisplay* _tmp15_;
	GalaIconGroupContainer* _tmp16_;
	ClutterActor* _tmp17_;
	ClutterBrightnessContrastEffect* _tmp18_;
	GalaBackgroundManager* blurred_bg = NULL;
	GalaWindowManager* _tmp19_;
	MetaDisplay* _tmp20_;
	GalaBackgroundManager* _tmp21_;
	GalaBackgroundManager* _tmp22_;
	GalaBackgroundManager* _tmp23_;
	GalaBlurEffect* _tmp24_;
	GalaBlurEffect* _tmp25_;
	GalaBackgroundManager* _tmp26_;
	ClutterBrightnessContrastEffect* _tmp27_;
	GalaBackgroundManager* _tmp28_;
	ClutterActor* _tmp29_;
	ClutterActor* _tmp30_;
	GalaIconGroupContainer* _tmp31_;
	ClutterActor* _tmp32_;
	ClutterActor* _tmp33_;
	ClutterActor* _tmp34_;
	ClutterActor* _tmp35_;
	MetaDisplay* _tmp36_;
	MetaWorkspaceManager* _tmp37_;
	MetaWorkspaceManager* _tmp38_;
	MetaWorkspaceManager* _tmp39_;
	MetaWorkspaceManager* _tmp40_;
	MetaWorkspaceManager* _tmp41_;
	MetaMonitorManager* monitor_manager = NULL;
	MetaDisplay* _tmp42_;
	MetaContext* _tmp43_;
	MetaBackend* _tmp44_;
	MetaMonitorManager* _tmp45_;
	MetaMonitorManager* _tmp46_;
	GalaDrawingStyleManager* _tmp47_;
#line 60 "../src/Widgets/MultitaskingView.vala"
	parent_class = G_OBJECT_CLASS (gala_multitasking_view_parent_class);
#line 60 "../src/Widgets/MultitaskingView.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 60 "../src/Widgets/MultitaskingView.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView);
#line 60 "../src/Widgets/MultitaskingView.vala"
	_data70_ = g_slice_new0 (Block70Data);
#line 60 "../src/Widgets/MultitaskingView.vala"
	_data70_->_ref_count_ = 1;
#line 60 "../src/Widgets/MultitaskingView.vala"
	_data70_->self = g_object_ref (self);
#line 61 "../src/Widgets/MultitaskingView.vala"
	_tmp0_ = g_settings_new ("org.pantheon.desktop.gala.behavior");
#line 61 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->gala_behavior_settings);
#line 61 "../src/Widgets/MultitaskingView.vala"
	self->priv->gala_behavior_settings = _tmp0_;
#line 62 "../src/Widgets/MultitaskingView.vala"
	_tmp1_ = gala_drawing_style_manager_get_instance ();
#line 62 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->style_manager);
#line 62 "../src/Widgets/MultitaskingView.vala"
	self->priv->style_manager = _tmp1_;
#line 64 "../src/Widgets/MultitaskingView.vala"
	g_object_set ((ClutterActor*) self, "visible", FALSE, NULL);
#line 65 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_reactive ((ClutterActor*) self, TRUE);
#line 66 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_set_clip_to_allocation ((ClutterActor*) self, TRUE);
#line 68 "../src/Widgets/MultitaskingView.vala"
	self->priv->opened = FALSE;
#line 69 "../src/Widgets/MultitaskingView.vala"
	_tmp2_ = self->priv->_wm;
#line 69 "../src/Widgets/MultitaskingView.vala"
	_tmp3_ = meta_plugin_get_display ((MetaPlugin*) _tmp2_);
#line 69 "../src/Widgets/MultitaskingView.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 69 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->display);
#line 69 "../src/Widgets/MultitaskingView.vala"
	self->priv->display = _tmp4_;
#line 71 "../src/Widgets/MultitaskingView.vala"
	_tmp5_ = gala_gesture_tracker_new (GALA_MULTITASKING_VIEW_ANIMATION_DURATION, GALA_MULTITASKING_VIEW_ANIMATION_DURATION);
#line 71 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->multitasking_gesture_tracker);
#line 71 "../src/Widgets/MultitaskingView.vala"
	self->priv->multitasking_gesture_tracker = _tmp5_;
#line 72 "../src/Widgets/MultitaskingView.vala"
	_tmp6_ = self->priv->multitasking_gesture_tracker;
#line 72 "../src/Widgets/MultitaskingView.vala"
	gala_gesture_tracker_enable_touchpad (_tmp6_);
#line 73 "../src/Widgets/MultitaskingView.vala"
	_tmp7_ = self->priv->multitasking_gesture_tracker;
#line 73 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp7_, "on-gesture-detected", (GCallback) _gala_multitasking_view_on_multitasking_gesture_detected_gala_gesture_tracker_on_gesture_detected, self, 0);
#line 75 "../src/Widgets/MultitaskingView.vala"
	_tmp8_ = gala_gesture_tracker_new ((gint) GALA_ANIMATION_DURATION_WORKSPACE_SWITCH_MIN, (gint) GALA_ANIMATION_DURATION_WORKSPACE_SWITCH);
#line 75 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->workspace_gesture_tracker);
#line 75 "../src/Widgets/MultitaskingView.vala"
	self->priv->workspace_gesture_tracker = _tmp8_;
#line 76 "../src/Widgets/MultitaskingView.vala"
	_tmp9_ = self->priv->workspace_gesture_tracker;
#line 76 "../src/Widgets/MultitaskingView.vala"
	gala_gesture_tracker_enable_touchpad (_tmp9_);
#line 77 "../src/Widgets/MultitaskingView.vala"
	_tmp10_ = self->priv->workspace_gesture_tracker;
#line 77 "../src/Widgets/MultitaskingView.vala"
	gala_gesture_tracker_enable_scroll (_tmp10_, (ClutterActor*) self, CLUTTER_ORIENTATION_HORIZONTAL);
#line 78 "../src/Widgets/MultitaskingView.vala"
	_tmp11_ = self->priv->workspace_gesture_tracker;
#line 78 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp11_, "on-gesture-detected", (GCallback) _gala_multitasking_view_on_workspace_gesture_detected_gala_gesture_tracker_on_gesture_detected, self, 0);
#line 80 "../src/Widgets/MultitaskingView.vala"
	_tmp12_ = clutter_actor_new ();
#line 80 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp12_);
#line 80 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->workspaces);
#line 80 "../src/Widgets/MultitaskingView.vala"
	self->priv->workspaces = _tmp12_;
#line 82 "../src/Widgets/MultitaskingView.vala"
	_tmp13_ = self->priv->_wm;
#line 82 "../src/Widgets/MultitaskingView.vala"
	_tmp14_ = self->priv->display;
#line 82 "../src/Widgets/MultitaskingView.vala"
	_tmp15_ = self->priv->display;
#line 82 "../src/Widgets/MultitaskingView.vala"
	_tmp16_ = gala_icon_group_container_new (_tmp13_, meta_display_get_monitor_scale (_tmp14_, meta_display_get_primary_monitor (_tmp15_)));
#line 82 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp16_);
#line 82 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->icon_groups);
#line 82 "../src/Widgets/MultitaskingView.vala"
	self->priv->icon_groups = _tmp16_;
#line 84 "../src/Widgets/MultitaskingView.vala"
	_tmp17_ = clutter_actor_new ();
#line 84 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp17_);
#line 84 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->dock_clones);
#line 84 "../src/Widgets/MultitaskingView.vala"
	self->priv->dock_clones = _tmp17_;
#line 86 "../src/Widgets/MultitaskingView.vala"
	_tmp18_ = (ClutterBrightnessContrastEffect*) clutter_brightness_contrast_effect_new ();
#line 86 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp18_);
#line 86 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->brightness_effect);
#line 86 "../src/Widgets/MultitaskingView.vala"
	self->priv->brightness_effect = _tmp18_;
#line 87 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_brightness_effect (self);
#line 89 "../src/Widgets/MultitaskingView.vala"
	_tmp19_ = self->priv->_wm;
#line 89 "../src/Widgets/MultitaskingView.vala"
	_tmp20_ = self->priv->display;
#line 89 "../src/Widgets/MultitaskingView.vala"
	_tmp21_ = gala_background_manager_new (_tmp19_, meta_display_get_primary_monitor (_tmp20_), TRUE);
#line 89 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp21_);
#line 89 "../src/Widgets/MultitaskingView.vala"
	blurred_bg = _tmp21_;
#line 90 "../src/Widgets/MultitaskingView.vala"
	_tmp22_ = blurred_bg;
#line 90 "../src/Widgets/MultitaskingView.vala"
	_tmp23_ = blurred_bg;
#line 90 "../src/Widgets/MultitaskingView.vala"
	_tmp24_ = gala_blur_effect_new ((ClutterActor*) _tmp23_, (gfloat) 18);
#line 90 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp24_);
#line 90 "../src/Widgets/MultitaskingView.vala"
	_tmp25_ = _tmp24_;
#line 90 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_effect ((ClutterActor*) _tmp22_, (ClutterEffect*) _tmp25_);
#line 90 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (_tmp25_);
#line 91 "../src/Widgets/MultitaskingView.vala"
	_tmp26_ = blurred_bg;
#line 91 "../src/Widgets/MultitaskingView.vala"
	_tmp27_ = self->priv->brightness_effect;
#line 91 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_effect ((ClutterActor*) _tmp26_, (ClutterEffect*) _tmp27_);
#line 93 "../src/Widgets/MultitaskingView.vala"
	_tmp28_ = blurred_bg;
#line 93 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_child ((ClutterActor*) self, (ClutterActor*) _tmp28_);
#line 98 "../src/Widgets/MultitaskingView.vala"
	_tmp29_ = clutter_actor_new ();
#line 98 "../src/Widgets/MultitaskingView.vala"
	g_object_ref_sink (_tmp29_);
#line 98 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->primary_monitor_container);
#line 98 "../src/Widgets/MultitaskingView.vala"
	self->priv->primary_monitor_container = _tmp29_;
#line 99 "../src/Widgets/MultitaskingView.vala"
	_tmp30_ = self->priv->primary_monitor_container;
#line 99 "../src/Widgets/MultitaskingView.vala"
	_tmp31_ = self->priv->icon_groups;
#line 99 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_child (_tmp30_, (ClutterActor*) _tmp31_);
#line 100 "../src/Widgets/MultitaskingView.vala"
	_tmp32_ = self->priv->primary_monitor_container;
#line 100 "../src/Widgets/MultitaskingView.vala"
	_tmp33_ = self->priv->workspaces;
#line 100 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_child (_tmp32_, _tmp33_);
#line 101 "../src/Widgets/MultitaskingView.vala"
	_tmp34_ = self->priv->primary_monitor_container;
#line 101 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_child ((ClutterActor*) self, _tmp34_);
#line 102 "../src/Widgets/MultitaskingView.vala"
	_tmp35_ = self->priv->dock_clones;
#line 102 "../src/Widgets/MultitaskingView.vala"
	clutter_actor_add_child ((ClutterActor*) self, _tmp35_);
#line 104 "../src/Widgets/MultitaskingView.vala"
	_tmp36_ = self->priv->display;
#line 104 "../src/Widgets/MultitaskingView.vala"
	_tmp37_ = meta_display_get_workspace_manager (_tmp36_);
#line 104 "../src/Widgets/MultitaskingView.vala"
	_data70_->manager = _tmp37_;
#line 105 "../src/Widgets/MultitaskingView.vala"
	_tmp38_ = _data70_->manager;
#line 105 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp38_, "workspace-added", (GCallback) _gala_multitasking_view_add_workspace_meta_workspace_manager_workspace_added, self, 0);
#line 106 "../src/Widgets/MultitaskingView.vala"
	_tmp39_ = _data70_->manager;
#line 106 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp39_, "workspace-removed", (GCallback) _gala_multitasking_view_remove_workspace_meta_workspace_manager_workspace_removed, self, 0);
#line 107 "../src/Widgets/MultitaskingView.vala"
	_tmp40_ = _data70_->manager;
#line 107 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp40_, "workspaces-reordered", (GCallback) __gala_multitasking_view___lambda74__meta_workspace_manager_workspaces_reordered, self, 0);
#line 108 "../src/Widgets/MultitaskingView.vala"
	_tmp41_ = _data70_->manager;
#line 108 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp41_, "workspace-switched", (GCallback) __gala_multitasking_view___lambda75__meta_workspace_manager_workspace_switched, self, G_CONNECT_AFTER);
#line 112 "../src/Widgets/MultitaskingView.vala"
	(self->priv->window_containers_monitors == NULL) ? NULL : (self->priv->window_containers_monitors = (_g_list_free__g_object_unref0_ (self->priv->window_containers_monitors), NULL));
#line 112 "../src/Widgets/MultitaskingView.vala"
	self->priv->window_containers_monitors = NULL;
#line 113 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_update_monitors (self);
#line 114 "../src/Widgets/MultitaskingView.vala"
	_tmp42_ = self->priv->display;
#line 114 "../src/Widgets/MultitaskingView.vala"
	_tmp43_ = meta_display_get_context (_tmp42_);
#line 114 "../src/Widgets/MultitaskingView.vala"
	_tmp44_ = meta_context_get_backend (_tmp43_);
#line 114 "../src/Widgets/MultitaskingView.vala"
	_tmp45_ = meta_backend_get_monitor_manager (_tmp44_);
#line 114 "../src/Widgets/MultitaskingView.vala"
	monitor_manager = _tmp45_;
#line 115 "../src/Widgets/MultitaskingView.vala"
	_tmp46_ = monitor_manager;
#line 115 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object (_tmp46_, "monitors-changed", (GCallback) _gala_multitasking_view_update_monitors_meta_monitor_manager_monitors_changed, self, 0);
#line 117 "../src/Widgets/MultitaskingView.vala"
	meta_prefs_add_listener (__gala_multitasking_view___lambda76__meta_prefs_changed_func, _data70_);
#line 153 "../src/Widgets/MultitaskingView.vala"
	_tmp47_ = self->priv->style_manager;
#line 153 "../src/Widgets/MultitaskingView.vala"
	g_signal_connect_object ((GObject*) _tmp47_, "notify::prefers-color-scheme", (GCallback) _gala_multitasking_view_update_brightness_effect_g_object_notify, self, 0);
#line 60 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (blurred_bg);
#line 60 "../src/Widgets/MultitaskingView.vala"
	block70_data_unref (_data70_);
#line 60 "../src/Widgets/MultitaskingView.vala"
	_data70_ = NULL;
#line 60 "../src/Widgets/MultitaskingView.vala"
	return obj;
#line 5968 "MultitaskingView.c"
}

static void
gala_multitasking_view_class_init (GalaMultitaskingViewClass * klass,
                                   gpointer klass_data)
{
#line 24 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_parent_class = g_type_class_peek_parent (klass);
#line 24 "../src/Widgets/MultitaskingView.vala"
	g_type_class_adjust_private_offset (klass, &GalaMultitaskingView_private_offset);
#line 24 "../src/Widgets/MultitaskingView.vala"
	((ClutterActorClass *) klass)->scroll_event = (gboolean (*) (ClutterActor*, ClutterEvent*)) gala_multitasking_view_real_scroll_event;
#line 24 "../src/Widgets/MultitaskingView.vala"
	((ClutterActorClass *) klass)->key_press_event = (gboolean (*) (ClutterActor*, ClutterEvent*)) gala_multitasking_view_real_key_press_event;
#line 24 "../src/Widgets/MultitaskingView.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_gala_multitasking_view_get_property;
#line 24 "../src/Widgets/MultitaskingView.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_gala_multitasking_view_set_property;
#line 24 "../src/Widgets/MultitaskingView.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_multitasking_view_constructor;
#line 24 "../src/Widgets/MultitaskingView.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_multitasking_view_finalize;
#line 24 "../src/Widgets/MultitaskingView.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_MULTITASKING_VIEW_WM_PROPERTY, gala_multitasking_view_properties[GALA_MULTITASKING_VIEW_WM_PROPERTY] = g_param_spec_object ("wm", "wm", "wm", GALA_TYPE_WINDOW_MANAGER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 5993 "MultitaskingView.c"
}

static void
gala_multitasking_view_gala_activatable_component_interface_init (GalaActivatableComponentIface * iface,
                                                                  gpointer iface_data)
{
#line 24 "../src/Widgets/MultitaskingView.vala"
	gala_multitasking_view_gala_activatable_component_parent_iface = g_type_interface_peek_parent (iface);
#line 24 "../src/Widgets/MultitaskingView.vala"
	iface->is_opened = (gboolean (*) (GalaActivatableComponent*)) gala_multitasking_view_real_is_opened;
#line 24 "../src/Widgets/MultitaskingView.vala"
	iface->open = (void (*) (GalaActivatableComponent*, GHashTable*)) gala_multitasking_view_real_open;
#line 24 "../src/Widgets/MultitaskingView.vala"
	iface->close = (void (*) (GalaActivatableComponent*, GHashTable*)) gala_multitasking_view_real_close;
#line 6008 "MultitaskingView.c"
}

static void
gala_multitasking_view_instance_init (GalaMultitaskingView * self,
                                      gpointer klass)
{
#line 24 "../src/Widgets/MultitaskingView.vala"
	self->priv = gala_multitasking_view_get_instance_private (self);
#line 35 "../src/Widgets/MultitaskingView.vala"
	self->priv->opened = FALSE;
#line 36 "../src/Widgets/MultitaskingView.vala"
	self->priv->animating = FALSE;
#line 49 "../src/Widgets/MultitaskingView.vala"
	self->priv->switching_workspace_with_gesture = FALSE;
#line 6023 "MultitaskingView.c"
}

static void
gala_multitasking_view_finalize (GObject * obj)
{
	GalaMultitaskingView * self;
#line 24 "../src/Widgets/MultitaskingView.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView);
#line 28 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->multitasking_gesture_tracker);
#line 29 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->workspace_gesture_tracker);
#line 31 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->_wm);
#line 33 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->display);
#line 34 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->modal_proxy);
#line 38 "../src/Widgets/MultitaskingView.vala"
	(self->priv->window_containers_monitors == NULL) ? NULL : (self->priv->window_containers_monitors = (_g_list_free__g_object_unref0_ (self->priv->window_containers_monitors), NULL));
#line 40 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->icon_groups);
#line 41 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->workspaces);
#line 42 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->dock_clones);
#line 43 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->primary_monitor_container);
#line 44 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->brightness_effect);
#line 46 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->gala_behavior_settings);
#line 47 "../src/Widgets/MultitaskingView.vala"
	_g_object_unref0 (self->priv->style_manager);
#line 24 "../src/Widgets/MultitaskingView.vala"
	G_OBJECT_CLASS (gala_multitasking_view_parent_class)->finalize (obj);
#line 6060 "MultitaskingView.c"
}

/**
     * The central class for the MultitaskingView which takes care of
     * preparing the wm, opening the components and holds containers for
     * the icon groups, the WorkspaceClones and the MonitorClones.
     */
 G_GNUC_NO_INLINE static GType
gala_multitasking_view_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaMultitaskingViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_multitasking_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaMultitaskingView), 0, (GInstanceInitFunc) gala_multitasking_view_instance_init, NULL };
	static const GInterfaceInfo gala_activatable_component_info = { (GInterfaceInitFunc) gala_multitasking_view_gala_activatable_component_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	GType gala_multitasking_view_type_id;
	gala_multitasking_view_type_id = g_type_register_static (clutter_actor_get_type (), "GalaMultitaskingView", &g_define_type_info, 0);
	g_type_add_interface_static (gala_multitasking_view_type_id, GALA_TYPE_ACTIVATABLE_COMPONENT, &gala_activatable_component_info);
	GalaMultitaskingView_private_offset = g_type_add_instance_private (gala_multitasking_view_type_id, sizeof (GalaMultitaskingViewPrivate));
	return gala_multitasking_view_type_id;
}

GType
gala_multitasking_view_get_type (void)
{
	static gsize gala_multitasking_view_type_id__once = 0;
	if (g_once_init_enter (&gala_multitasking_view_type_id__once)) {
		GType gala_multitasking_view_type_id;
		gala_multitasking_view_type_id = gala_multitasking_view_get_type_once ();
		g_once_init_leave (&gala_multitasking_view_type_id__once, gala_multitasking_view_type_id);
	}
	return gala_multitasking_view_type_id__once;
}

static void
_vala_gala_multitasking_view_get_property (GObject * object,
                                           guint property_id,
                                           GValue * value,
                                           GParamSpec * pspec)
{
	GalaMultitaskingView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView);
#line 24 "../src/Widgets/MultitaskingView.vala"
	switch (property_id) {
#line 24 "../src/Widgets/MultitaskingView.vala"
		case GALA_MULTITASKING_VIEW_WM_PROPERTY:
#line 24 "../src/Widgets/MultitaskingView.vala"
		g_value_set_object (value, gala_multitasking_view_get_wm (self));
#line 24 "../src/Widgets/MultitaskingView.vala"
		break;
#line 6108 "MultitaskingView.c"
		default:
#line 24 "../src/Widgets/MultitaskingView.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 24 "../src/Widgets/MultitaskingView.vala"
		break;
#line 6114 "MultitaskingView.c"
	}
}

static void
_vala_gala_multitasking_view_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec)
{
	GalaMultitaskingView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_MULTITASKING_VIEW, GalaMultitaskingView);
#line 24 "../src/Widgets/MultitaskingView.vala"
	switch (property_id) {
#line 24 "../src/Widgets/MultitaskingView.vala"
		case GALA_MULTITASKING_VIEW_WM_PROPERTY:
#line 24 "../src/Widgets/MultitaskingView.vala"
		gala_multitasking_view_set_wm (self, g_value_get_object (value));
#line 24 "../src/Widgets/MultitaskingView.vala"
		break;
#line 6134 "MultitaskingView.c"
		default:
#line 24 "../src/Widgets/MultitaskingView.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 24 "../src/Widgets/MultitaskingView.vala"
		break;
#line 6140 "MultitaskingView.c"
	}
}

