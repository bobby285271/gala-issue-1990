/* WindowStateSaver.c generated by valac 0.56.17, the Vala compiler
 * generated from WindowStateSaver.vala, do not modify */

/*
 * Copyright 2023 elementary, Inc. <https://elementary.io>
 * SPDX-License-Identifier: GPL-3.0-or-later
 */

#include <glib-object.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <meta/window.h>
#include <sqlite3.h>
#include <sys/stat.h>
#include <sys/types.h>
#include "gala.h"
#include <mtk/mtk.h>

#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_WINDOW_STATE_SAVER (gala_window_state_saver_get_type ())
#define GALA_WINDOW_STATE_SAVER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_STATE_SAVER, GalaWindowStateSaver))
#define GALA_WINDOW_STATE_SAVER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_STATE_SAVER, GalaWindowStateSaverClass))
#define GALA_IS_WINDOW_STATE_SAVER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_STATE_SAVER))
#define GALA_IS_WINDOW_STATE_SAVER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_STATE_SAVER))
#define GALA_WINDOW_STATE_SAVER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_STATE_SAVER, GalaWindowStateSaverClass))

typedef struct _GalaWindowStateSaver GalaWindowStateSaver;
typedef struct _GalaWindowStateSaverClass GalaWindowStateSaverClass;
typedef struct _GalaWindowStateSaverPrivate GalaWindowStateSaverPrivate;
enum  {
	GALA_WINDOW_STATE_SAVER_0_PROPERTY,
	GALA_WINDOW_STATE_SAVER_NUM_PROPERTIES
};
static GParamSpec* gala_window_state_saver_properties[GALA_WINDOW_STATE_SAVER_NUM_PROPERTIES];

#define GALA_TYPE_WINDOW_TRACKER (gala_window_tracker_get_type ())
#define GALA_WINDOW_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_WINDOW_TRACKER, GalaWindowTracker))
#define GALA_WINDOW_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_WINDOW_TRACKER, GalaWindowTrackerClass))
#define GALA_IS_WINDOW_TRACKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_WINDOW_TRACKER))
#define GALA_IS_WINDOW_TRACKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_WINDOW_TRACKER))
#define GALA_WINDOW_TRACKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_WINDOW_TRACKER, GalaWindowTrackerClass))

typedef struct _GalaWindowTracker GalaWindowTracker;
typedef struct _GalaWindowTrackerClass GalaWindowTrackerClass;
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
#define _sqlite3_close0(var) ((var == NULL) ? NULL : (var = (sqlite3_close (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _sqlite3_finalize0(var) ((var == NULL) ? NULL : (var = (sqlite3_finalize (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _Block34Data Block34Data;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _GalaWindowStateSaver {
	GObject parent_instance;
	GalaWindowStateSaverPrivate * priv;
};

struct _GalaWindowStateSaverClass {
	GObjectClass parent_class;
};

struct _Block34Data {
	int _ref_count_;
	gchar* app_id;
	gboolean tracking_window;
	MetaWindow* window;
};

static gpointer gala_window_state_saver_parent_class = NULL;
static GalaWindowTracker* gala_window_state_saver_window_tracker;
static GalaWindowTracker* gala_window_state_saver_window_tracker = NULL;
static GHashTable* gala_window_state_saver_app_windows;
static GHashTable* gala_window_state_saver_app_windows = NULL;
static sqlite3* gala_window_state_saver_db;
static sqlite3* gala_window_state_saver_db = NULL;

VALA_EXTERN GType gala_window_state_saver_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowStateSaver, g_object_unref)
VALA_EXTERN GType gala_window_tracker_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaWindowTracker, g_object_unref)
VALA_EXTERN void gala_window_state_saver_init (GalaWindowTracker* window_tracker);
static void _g_free0_ (gpointer var);
static void _g_array_unref0_ (gpointer var);
VALA_EXTERN void gala_window_state_saver_on_map (MetaWindow* window);
static Block34Data* block34_data_ref (Block34Data* _data34_);
static void block34_data_unref (void * _userdata_);
VALA_EXTERN GalaApp* gala_window_tracker_get_app_for_window (GalaWindowTracker* self,
                                                 MetaWindow* window);
static void _g_object_unref0_ (gpointer var);
static void _vala_MetaWindow_free_function_content_of (gpointer data);
static gint gala_window_state_saver_find_window_index (MetaWindow* window,
                                                const gchar* app_id);
static gint __lambda146_ (Block34Data* _data34_,
                   gint n_columns,
                   gchar** values,
                   gchar** column_names);
static void gala_window_state_saver_track_window (MetaWindow* window,
                                           const gchar* app_id);
static gint ___lambda146__sqlite3_callback (gpointer self,
                                     gint n_columns,
                                     gchar** values,
                                     gchar** column_names);
static void gala_window_state_saver_on_window_unmanaging (MetaWindow* window);
static void _gala_window_state_saver_on_window_unmanaging_meta_window_unmanaging (MetaWindow* _sender,
                                                                           gpointer self);
VALA_EXTERN GalaWindowStateSaver* gala_window_state_saver_new (void);
VALA_EXTERN GalaWindowStateSaver* gala_window_state_saver_construct (GType object_type);
static void gala_window_state_saver_finalize (GObject * obj);
static GType gala_window_state_saver_get_type_once (void);

static void
_g_free0_ (gpointer var)
{
#line 13 "../src/WindowStateSaver.vala"
	var = (g_free (var), NULL);
#line 138 "WindowStateSaver.c"
}

static void
_g_array_unref0_ (gpointer var)
{
#line 13 "../src/WindowStateSaver.vala"
	(var == NULL) ? NULL : (var = (g_array_unref (var), NULL));
#line 146 "WindowStateSaver.c"
}

static gint
_sqlite3_exec (sqlite3* self,
               const gchar* sql,
               sqlite3_callback callback,
               gpointer callback_target,
               gchar** errmsg)
{
	gchar* _vala_errmsg = NULL;
	const gchar* sqlite_errmsg = NULL;
	gint ec = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_;
	const gchar* _tmp4_;
	gint result;
#line 34 "sqlite3.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 34 "sqlite3.vapi"
	g_return_val_if_fail (sql != NULL, 0);
#line 36 "sqlite3.vapi"
	_tmp1_ = sqlite3_exec (self, sql, callback, callback_target, (char**) (&_tmp0_));
#line 36 "sqlite3.vapi"
	sqlite_errmsg = _tmp0_;
#line 36 "sqlite3.vapi"
	ec = _tmp1_;
#line 37 "sqlite3.vapi"
	if ((&_vala_errmsg) != NULL) {
#line 175 "WindowStateSaver.c"
		const gchar* _tmp2_;
		gchar* _tmp3_;
#line 38 "sqlite3.vapi"
		_tmp2_ = sqlite_errmsg;
#line 38 "sqlite3.vapi"
		_tmp3_ = g_strdup (_tmp2_);
#line 38 "sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 38 "sqlite3.vapi"
		_vala_errmsg = _tmp3_;
#line 186 "WindowStateSaver.c"
	} else {
#line 40 "sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 40 "sqlite3.vapi"
		_vala_errmsg = NULL;
#line 192 "WindowStateSaver.c"
	}
#line 42 "sqlite3.vapi"
	_tmp4_ = sqlite_errmsg;
#line 42 "sqlite3.vapi"
	sqlite3_free ((void*) _tmp4_);
#line 43 "sqlite3.vapi"
	result = ec;
#line 43 "sqlite3.vapi"
	if (errmsg) {
#line 43 "sqlite3.vapi"
		*errmsg = _vala_errmsg;
#line 204 "WindowStateSaver.c"
	} else {
#line 43 "sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 208 "WindowStateSaver.c"
	}
#line 43 "sqlite3.vapi"
	return result;
#line 212 "WindowStateSaver.c"
}

void
gala_window_state_saver_init (GalaWindowTracker* window_tracker)
{
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GHashTable* _tmp2_;
	gchar* dir = NULL;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	const gchar* _tmp5_;
	gchar* path = NULL;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gint rc = 0;
	const gchar* _tmp8_;
	sqlite3* _tmp9_ = NULL;
	gint _tmp10_;
	sqlite3_stmt* stmt = NULL;
	sqlite3* _tmp13_;
	sqlite3_stmt* _tmp14_ = NULL;
	gint _tmp15_;
	sqlite3* _tmp20_;
	const gchar* _tmp21_;
#line 11 "../src/WindowStateSaver.vala"
	g_return_if_fail (window_tracker != NULL);
#line 12 "../src/WindowStateSaver.vala"
	gala_window_state_saver_window_tracker = window_tracker;
#line 13 "../src/WindowStateSaver.vala"
	_tmp0_ = g_str_hash;
#line 13 "../src/WindowStateSaver.vala"
	_tmp1_ = g_str_equal;
#line 13 "../src/WindowStateSaver.vala"
	_tmp2_ = g_hash_table_new_full (_tmp0_, _tmp1_, _g_free0_, _g_array_unref0_);
#line 13 "../src/WindowStateSaver.vala"
	_g_hash_table_unref0 (gala_window_state_saver_app_windows);
#line 13 "../src/WindowStateSaver.vala"
	gala_window_state_saver_app_windows = _tmp2_;
#line 15 "../src/WindowStateSaver.vala"
	_tmp3_ = g_get_user_data_dir ();
#line 15 "../src/WindowStateSaver.vala"
	_tmp4_ = g_build_filename (_tmp3_, "io.elementary.gala", NULL);
#line 15 "../src/WindowStateSaver.vala"
	dir = _tmp4_;
#line 16 "../src/WindowStateSaver.vala"
	_tmp5_ = dir;
#line 16 "../src/WindowStateSaver.vala"
	mkdir (_tmp5_, (mode_t) 0775);
#line 17 "../src/WindowStateSaver.vala"
	_tmp6_ = dir;
#line 17 "../src/WindowStateSaver.vala"
	_tmp7_ = g_build_filename (_tmp6_, "windowstate.db", NULL);
#line 17 "../src/WindowStateSaver.vala"
	path = _tmp7_;
#line 18 "../src/WindowStateSaver.vala"
	_tmp8_ = path;
#line 18 "../src/WindowStateSaver.vala"
	_tmp10_ = sqlite3_open_v2 (_tmp8_, &_tmp9_, SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE, NULL);
#line 18 "../src/WindowStateSaver.vala"
	_sqlite3_close0 (gala_window_state_saver_db);
#line 18 "../src/WindowStateSaver.vala"
	gala_window_state_saver_db = _tmp9_;
#line 18 "../src/WindowStateSaver.vala"
	rc = _tmp10_;
#line 20 "../src/WindowStateSaver.vala"
	if (rc != SQLITE_OK) {
#line 280 "WindowStateSaver.c"
		sqlite3* _tmp11_;
		const gchar* _tmp12_;
#line 21 "../src/WindowStateSaver.vala"
		_tmp11_ = gala_window_state_saver_db;
#line 21 "../src/WindowStateSaver.vala"
		_tmp12_ = sqlite3_errmsg (_tmp11_);
#line 21 "../src/WindowStateSaver.vala"
		g_critical ("WindowStateSaver.vala:21: Cannot open database: %d, %s", rc, _tmp12_);
#line 22 "../src/WindowStateSaver.vala"
		_g_free0 (path);
#line 22 "../src/WindowStateSaver.vala"
		_g_free0 (dir);
#line 22 "../src/WindowStateSaver.vala"
		return;
#line 295 "WindowStateSaver.c"
	}
#line 26 "../src/WindowStateSaver.vala"
	_tmp13_ = gala_window_state_saver_db;
#line 26 "../src/WindowStateSaver.vala"
	_tmp15_ = sqlite3_prepare_v2 (_tmp13_, "\n" \
"            CREATE TABLE IF NOT EXISTS apps (\n" \
"                app_id       TEXT,\n" \
"                window_index INTEGER,\n" \
"                last_x       INTEGER,\n" \
"                last_y       INTEGER,\n" \
"                last_width   INTEGER,\n" \
"                last_height  INTEGER,\n" \
"                PRIMARY KEY (app_id, window_index)\n" \
"            );\n" \
"            ", -1, &_tmp14_, NULL);
#line 26 "../src/WindowStateSaver.vala"
	_sqlite3_finalize0 (stmt);
#line 26 "../src/WindowStateSaver.vala"
	stmt = _tmp14_;
#line 26 "../src/WindowStateSaver.vala"
	rc = _tmp15_;
#line 41 "../src/WindowStateSaver.vala"
	if (rc == SQLITE_OK) {
#line 309 "WindowStateSaver.c"
		sqlite3_stmt* _tmp16_;
#line 42 "../src/WindowStateSaver.vala"
		_tmp16_ = stmt;
#line 42 "../src/WindowStateSaver.vala"
		rc = sqlite3_step (_tmp16_);
#line 43 "../src/WindowStateSaver.vala"
		if (rc == SQLITE_DONE) {
#line 317 "WindowStateSaver.c"
			sqlite3* _tmp17_;
#line 45 "../src/WindowStateSaver.vala"
			_tmp17_ = gala_window_state_saver_db;
#line 45 "../src/WindowStateSaver.vala"
			rc = _sqlite3_exec (_tmp17_, "PRAGMA synchronous=OFF", NULL, NULL, NULL);
#line 46 "../src/WindowStateSaver.vala"
			if (rc != SQLITE_OK) {
#line 325 "WindowStateSaver.c"
				sqlite3* _tmp18_;
				const gchar* _tmp19_;
#line 47 "../src/WindowStateSaver.vala"
				_tmp18_ = gala_window_state_saver_db;
#line 47 "../src/WindowStateSaver.vala"
				_tmp19_ = sqlite3_errmsg (_tmp18_);
#line 47 "../src/WindowStateSaver.vala"
				g_warning ("WindowStateSaver.vala:47: Unable to disable synchronous mode %d, %s", rc, _tmp19_);
#line 334 "WindowStateSaver.c"
			}
#line 50 "../src/WindowStateSaver.vala"
			_sqlite3_finalize0 (stmt);
#line 50 "../src/WindowStateSaver.vala"
			_g_free0 (path);
#line 50 "../src/WindowStateSaver.vala"
			_g_free0 (dir);
#line 50 "../src/WindowStateSaver.vala"
			return;
#line 344 "WindowStateSaver.c"
		}
	}
#line 54 "../src/WindowStateSaver.vala"
	_tmp20_ = gala_window_state_saver_db;
#line 54 "../src/WindowStateSaver.vala"
	_tmp21_ = sqlite3_errmsg (_tmp20_);
#line 54 "../src/WindowStateSaver.vala"
	g_critical ("WindowStateSaver.vala:54: Cannot create table 'apps': %d, %s", rc, _tmp21_);
#line 11 "../src/WindowStateSaver.vala"
	_sqlite3_finalize0 (stmt);
#line 11 "../src/WindowStateSaver.vala"
	_g_free0 (path);
#line 11 "../src/WindowStateSaver.vala"
	_g_free0 (dir);
#line 359 "WindowStateSaver.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 57 "../src/WindowStateSaver.vala"
	return self ? g_object_ref (self) : NULL;
#line 367 "WindowStateSaver.c"
}

static Block34Data*
block34_data_ref (Block34Data* _data34_)
{
#line 57 "../src/WindowStateSaver.vala"
	g_atomic_int_inc (&_data34_->_ref_count_);
#line 57 "../src/WindowStateSaver.vala"
	return _data34_;
#line 377 "WindowStateSaver.c"
}

static void
block34_data_unref (void * _userdata_)
{
	Block34Data* _data34_;
	_data34_ = (Block34Data*) _userdata_;
#line 57 "../src/WindowStateSaver.vala"
	if (g_atomic_int_dec_and_test (&_data34_->_ref_count_)) {
#line 57 "../src/WindowStateSaver.vala"
		_g_free0 (_data34_->app_id);
#line 57 "../src/WindowStateSaver.vala"
		_g_object_unref0 (_data34_->window);
#line 57 "../src/WindowStateSaver.vala"
		g_slice_free (Block34Data, _data34_);
#line 393 "WindowStateSaver.c"
	}
}

static void
_g_object_unref0_ (gpointer var)
{
#line 70 "../src/WindowStateSaver.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 402 "WindowStateSaver.c"
}

static void
_vala_MetaWindow_free_function_content_of (gpointer data)
{
	MetaWindow* self;
#line 70 "../src/WindowStateSaver.vala"
	self = *((MetaWindow**) data);
#line 70 "../src/WindowStateSaver.vala"
	_g_object_unref0_ (self);
#line 413 "WindowStateSaver.c"
}

static gint
__lambda146_ (Block34Data* _data34_,
              gint n_columns,
              gchar** values,
              gchar** column_names)
{
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gint result;
#line 80 "../src/WindowStateSaver.vala"
	_tmp0_ = values[0];
#line 80 "../src/WindowStateSaver.vala"
	_tmp1_ = values[1];
#line 80 "../src/WindowStateSaver.vala"
	_tmp2_ = values[2];
#line 80 "../src/WindowStateSaver.vala"
	_tmp3_ = values[3];
#line 80 "../src/WindowStateSaver.vala"
	meta_window_move_resize_frame (_data34_->window, FALSE, atoi (_tmp0_), atoi (_tmp1_), atoi (_tmp2_), atoi (_tmp3_));
#line 81 "../src/WindowStateSaver.vala"
	_tmp4_ = _data34_->app_id;
#line 81 "../src/WindowStateSaver.vala"
	gala_window_state_saver_track_window (_data34_->window, _tmp4_);
#line 82 "../src/WindowStateSaver.vala"
	_data34_->tracking_window = TRUE;
#line 84 "../src/WindowStateSaver.vala"
	result = 0;
#line 84 "../src/WindowStateSaver.vala"
	return result;
#line 448 "WindowStateSaver.c"
}

static gint
___lambda146__sqlite3_callback (gpointer self,
                                gint n_columns,
                                gchar** values,
                                gchar** column_names)
{
	gint result;
	result = __lambda146_ (self, n_columns, values, column_names);
#line 77 "../src/WindowStateSaver.vala"
	return result;
#line 461 "WindowStateSaver.c"
}

void
gala_window_state_saver_on_map (MetaWindow* window)
{
	Block34Data* _data34_;
	MetaWindow* _tmp0_;
	GalaWindowTracker* _tmp1_;
	GalaApp* _tmp2_;
	GalaApp* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	const gchar* _tmp8_;
	MetaWindowType _tmp9_;
	MetaWindowType _tmp10_;
	GHashTable* _tmp11_;
	const gchar* _tmp12_;
	gint window_index = 0;
	const gchar* _tmp17_;
	GHashTable* _tmp18_;
	const gchar* _tmp19_;
	gconstpointer _tmp20_;
	MetaWindow* _tmp21_;
	sqlite3* _tmp22_;
	const gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	MtkRectangle frame_rect = {0};
	MtkRectangle _tmp26_ = {0};
	sqlite3_stmt* stmt = NULL;
	gint rc = 0;
	sqlite3* _tmp27_;
	const gchar* _tmp28_;
	MtkRectangle _tmp29_;
	MtkRectangle _tmp30_;
	MtkRectangle _tmp31_;
	MtkRectangle _tmp32_;
	gchar* _tmp33_;
	gchar* _tmp34_;
	sqlite3_stmt* _tmp35_ = NULL;
	gint _tmp36_;
	gint _tmp37_;
	sqlite3* _tmp40_;
	const gchar* _tmp41_;
#line 57 "../src/WindowStateSaver.vala"
	g_return_if_fail (window != NULL);
#line 57 "../src/WindowStateSaver.vala"
	_data34_ = g_slice_new0 (Block34Data);
#line 57 "../src/WindowStateSaver.vala"
	_data34_->_ref_count_ = 1;
#line 57 "../src/WindowStateSaver.vala"
	_tmp0_ = _g_object_ref0 (window);
#line 57 "../src/WindowStateSaver.vala"
	_g_object_unref0 (_data34_->window);
#line 57 "../src/WindowStateSaver.vala"
	_data34_->window = _tmp0_;
#line 58 "../src/WindowStateSaver.vala"
	_tmp1_ = gala_window_state_saver_window_tracker;
#line 58 "../src/WindowStateSaver.vala"
	_tmp2_ = gala_window_tracker_get_app_for_window (_tmp1_, _data34_->window);
#line 58 "../src/WindowStateSaver.vala"
	_tmp3_ = _tmp2_;
#line 58 "../src/WindowStateSaver.vala"
	_tmp4_ = gala_app_get_id (_tmp3_);
#line 58 "../src/WindowStateSaver.vala"
	_tmp5_ = _tmp4_;
#line 58 "../src/WindowStateSaver.vala"
	_tmp6_ = g_markup_escape_text (_tmp5_, (gssize) -1);
#line 58 "../src/WindowStateSaver.vala"
	_tmp7_ = _tmp6_;
#line 58 "../src/WindowStateSaver.vala"
	_g_object_unref0 (_tmp3_);
#line 58 "../src/WindowStateSaver.vala"
	_data34_->app_id = _tmp7_;
#line 60 "../src/WindowStateSaver.vala"
	_tmp8_ = _data34_->app_id;
#line 60 "../src/WindowStateSaver.vala"
	if (g_str_has_prefix (_tmp8_, "window:")) {
#line 62 "../src/WindowStateSaver.vala"
		block34_data_unref (_data34_);
#line 62 "../src/WindowStateSaver.vala"
		_data34_ = NULL;
#line 62 "../src/WindowStateSaver.vala"
		return;
#line 548 "WindowStateSaver.c"
	}
#line 65 "../src/WindowStateSaver.vala"
	_tmp9_ = meta_window_get_window_type (_data34_->window);
#line 65 "../src/WindowStateSaver.vala"
	_tmp10_ = _tmp9_;
#line 65 "../src/WindowStateSaver.vala"
	if (_tmp10_ != META_WINDOW_NORMAL) {
#line 66 "../src/WindowStateSaver.vala"
		block34_data_unref (_data34_);
#line 66 "../src/WindowStateSaver.vala"
		_data34_ = NULL;
#line 66 "../src/WindowStateSaver.vala"
		return;
#line 562 "WindowStateSaver.c"
	}
#line 69 "../src/WindowStateSaver.vala"
	_tmp11_ = gala_window_state_saver_app_windows;
#line 69 "../src/WindowStateSaver.vala"
	_tmp12_ = _data34_->app_id;
#line 69 "../src/WindowStateSaver.vala"
	if (!g_hash_table_contains (_tmp11_, _tmp12_)) {
#line 570 "WindowStateSaver.c"
		GHashTable* _tmp13_;
		const gchar* _tmp14_;
		gchar* _tmp15_;
		GArray* _tmp16_;
#line 70 "../src/WindowStateSaver.vala"
		_tmp13_ = gala_window_state_saver_app_windows;
#line 70 "../src/WindowStateSaver.vala"
		_tmp14_ = _data34_->app_id;
#line 70 "../src/WindowStateSaver.vala"
		_tmp15_ = g_strdup (_tmp14_);
#line 70 "../src/WindowStateSaver.vala"
		_tmp16_ = g_array_new (TRUE, TRUE, sizeof (MetaWindow*));
#line 70 "../src/WindowStateSaver.vala"
		g_array_set_clear_func (_tmp16_, (GDestroyNotify) _vala_MetaWindow_free_function_content_of);
#line 70 "../src/WindowStateSaver.vala"
		g_hash_table_insert (_tmp13_, _tmp15_, _tmp16_);
#line 587 "WindowStateSaver.c"
	}
#line 73 "../src/WindowStateSaver.vala"
	_tmp17_ = _data34_->app_id;
#line 73 "../src/WindowStateSaver.vala"
	window_index = gala_window_state_saver_find_window_index (_data34_->window, _tmp17_);
#line 74 "../src/WindowStateSaver.vala"
	_tmp18_ = gala_window_state_saver_app_windows;
#line 74 "../src/WindowStateSaver.vala"
	_tmp19_ = _data34_->app_id;
#line 74 "../src/WindowStateSaver.vala"
	_tmp20_ = g_hash_table_lookup (_tmp18_, _tmp19_);
#line 74 "../src/WindowStateSaver.vala"
	_tmp21_ = _g_object_ref0 (_data34_->window);
#line 74 "../src/WindowStateSaver.vala"
	g_array_insert_val ((GArray*) _tmp20_, (guint) window_index, _tmp21_);
#line 76 "../src/WindowStateSaver.vala"
	_data34_->tracking_window = FALSE;
#line 77 "../src/WindowStateSaver.vala"
	_tmp22_ = gala_window_state_saver_db;
#line 77 "../src/WindowStateSaver.vala"
	_tmp23_ = _data34_->app_id;
#line 77 "../src/WindowStateSaver.vala"
	_tmp24_ = g_strdup_printf ("SELECT last_x, last_y, last_width, last_height FROM apps WHERE app_id " \
"= '%s' AND window_index = '%d';", _tmp23_, window_index);
#line 77 "../src/WindowStateSaver.vala"
	_tmp25_ = _tmp24_;
#line 77 "../src/WindowStateSaver.vala"
	_sqlite3_exec (_tmp22_, _tmp25_, ___lambda146__sqlite3_callback, _data34_, NULL);
#line 77 "../src/WindowStateSaver.vala"
	_g_free0 (_tmp25_);
#line 88 "../src/WindowStateSaver.vala"
	if (_data34_->tracking_window) {
#line 90 "../src/WindowStateSaver.vala"
		block34_data_unref (_data34_);
#line 90 "../src/WindowStateSaver.vala"
		_data34_ = NULL;
#line 90 "../src/WindowStateSaver.vala"
		return;
#line 625 "WindowStateSaver.c"
	}
#line 93 "../src/WindowStateSaver.vala"
	meta_window_get_frame_rect (_data34_->window, &_tmp26_);
#line 93 "../src/WindowStateSaver.vala"
	frame_rect = _tmp26_;
#line 96 "../src/WindowStateSaver.vala"
	_tmp27_ = gala_window_state_saver_db;
#line 96 "../src/WindowStateSaver.vala"
	_tmp28_ = _data34_->app_id;
#line 96 "../src/WindowStateSaver.vala"
	_tmp29_ = frame_rect;
#line 96 "../src/WindowStateSaver.vala"
	_tmp30_ = frame_rect;
#line 96 "../src/WindowStateSaver.vala"
	_tmp31_ = frame_rect;
#line 96 "../src/WindowStateSaver.vala"
	_tmp32_ = frame_rect;
#line 96 "../src/WindowStateSaver.vala"
	_tmp33_ = g_strdup_printf ("INSERT INTO apps (app_id, window_index, last_x, last_y, last_width, la" \
"st_height) VALUES ('%s', '%d', '%d', '%d', '%d', '%d');", _tmp28_, window_index, _tmp29_.x, _tmp30_.y, _tmp31_.width, _tmp32_.height);
#line 96 "../src/WindowStateSaver.vala"
	_tmp34_ = _tmp33_;
#line 96 "../src/WindowStateSaver.vala"
	_tmp36_ = sqlite3_prepare_v2 (_tmp27_, _tmp34_, -1, &_tmp35_, NULL);
#line 96 "../src/WindowStateSaver.vala"
	_sqlite3_finalize0 (stmt);
#line 96 "../src/WindowStateSaver.vala"
	stmt = _tmp35_;
#line 96 "../src/WindowStateSaver.vala"
	_tmp37_ = _tmp36_;
#line 96 "../src/WindowStateSaver.vala"
	_g_free0 (_tmp34_);
#line 96 "../src/WindowStateSaver.vala"
	rc = _tmp37_;
#line 102 "../src/WindowStateSaver.vala"
	if (rc == SQLITE_OK) {
#line 661 "WindowStateSaver.c"
		sqlite3_stmt* _tmp38_;
#line 103 "../src/WindowStateSaver.vala"
		_tmp38_ = stmt;
#line 103 "../src/WindowStateSaver.vala"
		rc = sqlite3_step (_tmp38_);
#line 104 "../src/WindowStateSaver.vala"
		if (rc == SQLITE_DONE) {
#line 669 "WindowStateSaver.c"
			const gchar* _tmp39_;
#line 105 "../src/WindowStateSaver.vala"
			_tmp39_ = _data34_->app_id;
#line 105 "../src/WindowStateSaver.vala"
			gala_window_state_saver_track_window (_data34_->window, _tmp39_);
#line 106 "../src/WindowStateSaver.vala"
			_sqlite3_finalize0 (stmt);
#line 106 "../src/WindowStateSaver.vala"
			block34_data_unref (_data34_);
#line 106 "../src/WindowStateSaver.vala"
			_data34_ = NULL;
#line 106 "../src/WindowStateSaver.vala"
			return;
#line 683 "WindowStateSaver.c"
		}
	}
#line 110 "../src/WindowStateSaver.vala"
	_tmp40_ = gala_window_state_saver_db;
#line 110 "../src/WindowStateSaver.vala"
	_tmp41_ = sqlite3_errmsg (_tmp40_);
#line 110 "../src/WindowStateSaver.vala"
	g_critical ("WindowStateSaver.vala:110: Cannot insert app information into database" \
": %d, %s", rc, _tmp41_);
#line 57 "../src/WindowStateSaver.vala"
	_sqlite3_finalize0 (stmt);
#line 57 "../src/WindowStateSaver.vala"
	block34_data_unref (_data34_);
#line 57 "../src/WindowStateSaver.vala"
	_data34_ = NULL;
#line 698 "WindowStateSaver.c"
}

static void
_gala_window_state_saver_on_window_unmanaging_meta_window_unmanaging (MetaWindow* _sender,
                                                                      gpointer self)
{
#line 114 "../src/WindowStateSaver.vala"
	gala_window_state_saver_on_window_unmanaging (_sender);
#line 707 "WindowStateSaver.c"
}

static void
gala_window_state_saver_track_window (MetaWindow* window,
                                      const gchar* app_id)
{
#line 113 "../src/WindowStateSaver.vala"
	g_return_if_fail (window != NULL);
#line 113 "../src/WindowStateSaver.vala"
	g_return_if_fail (app_id != NULL);
#line 114 "../src/WindowStateSaver.vala"
	g_signal_connect (window, "unmanaging", (GCallback) _gala_window_state_saver_on_window_unmanaging_meta_window_unmanaging, NULL);
#line 720 "WindowStateSaver.c"
}

static gpointer
vala_g_array_remove_index (GArray* self,
                           guint index)
{
	gpointer g = NULL;
	gpointer* _tmp0_;
	gint _tmp0__length1;
	gpointer _tmp1_;
	gpointer result;
#line 6182 "glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 6183 "glib-2.0.vapi"
	_vala_assert (self->len > index, "length > index");
#line 6184 "glib-2.0.vapi"
	_tmp0_ = self->data;
#line 6184 "glib-2.0.vapi"
	_tmp0__length1 = self->len;
#line 6184 "glib-2.0.vapi"
	_tmp1_ = _tmp0_[index];
#line 6184 "glib-2.0.vapi"
	_tmp0_[index] = NULL;
#line 6184 "glib-2.0.vapi"
	g = _tmp1_;
#line 6185 "glib-2.0.vapi"
	g_array_remove_index (self, index);
#line 6186 "glib-2.0.vapi"
	result = g;
#line 6186 "glib-2.0.vapi"
	return result;
#line 752 "WindowStateSaver.c"
}

static void
gala_window_state_saver_on_window_unmanaging (MetaWindow* window)
{
	gchar* app_id = NULL;
	GalaWindowTracker* _tmp0_;
	GalaApp* _tmp1_;
	GalaApp* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gint window_index = 0;
	const gchar* _tmp7_;
	GHashTable* _tmp8_;
	const gchar* _tmp9_;
	gconstpointer _tmp10_;
	MetaWindow* _tmp11_;
	MetaWindow* _tmp12_;
	gpointer value = NULL;
	GHashTable* _tmp13_;
	const gchar* _tmp14_;
	gconstpointer _tmp15_;
	gpointer _tmp16_;
	MtkRectangle frame_rect = {0};
	MtkRectangle _tmp17_ = {0};
	sqlite3_stmt* stmt = NULL;
	gint rc = 0;
	sqlite3* _tmp18_;
	MtkRectangle _tmp19_;
	MtkRectangle _tmp20_;
	MtkRectangle _tmp21_;
	MtkRectangle _tmp22_;
	const gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	sqlite3_stmt* _tmp26_ = NULL;
	gint _tmp27_;
	gint _tmp28_;
	sqlite3* _tmp30_;
	const gchar* _tmp31_;
#line 117 "../src/WindowStateSaver.vala"
	g_return_if_fail (window != NULL);
#line 118 "../src/WindowStateSaver.vala"
	_tmp0_ = gala_window_state_saver_window_tracker;
#line 118 "../src/WindowStateSaver.vala"
	_tmp1_ = gala_window_tracker_get_app_for_window (_tmp0_, window);
#line 118 "../src/WindowStateSaver.vala"
	_tmp2_ = _tmp1_;
#line 118 "../src/WindowStateSaver.vala"
	_tmp3_ = gala_app_get_id (_tmp2_);
#line 118 "../src/WindowStateSaver.vala"
	_tmp4_ = _tmp3_;
#line 118 "../src/WindowStateSaver.vala"
	_tmp5_ = g_markup_escape_text (_tmp4_, (gssize) -1);
#line 118 "../src/WindowStateSaver.vala"
	_tmp6_ = _tmp5_;
#line 118 "../src/WindowStateSaver.vala"
	_g_object_unref0 (_tmp2_);
#line 118 "../src/WindowStateSaver.vala"
	app_id = _tmp6_;
#line 120 "../src/WindowStateSaver.vala"
	_tmp7_ = app_id;
#line 120 "../src/WindowStateSaver.vala"
	window_index = gala_window_state_saver_find_window_index (window, _tmp7_);
#line 121 "../src/WindowStateSaver.vala"
	_tmp8_ = gala_window_state_saver_app_windows;
#line 121 "../src/WindowStateSaver.vala"
	_tmp9_ = app_id;
#line 121 "../src/WindowStateSaver.vala"
	_tmp10_ = g_hash_table_lookup (_tmp8_, _tmp9_);
#line 121 "../src/WindowStateSaver.vala"
	_tmp11_ = vala_g_array_remove_index ((GArray*) _tmp10_, (guint) window_index);
#line 121 "../src/WindowStateSaver.vala"
	_tmp12_ = _tmp11_;
#line 121 "../src/WindowStateSaver.vala"
	_g_object_unref0 (_tmp12_);
#line 122 "../src/WindowStateSaver.vala"
	value = NULL;
#line 123 "../src/WindowStateSaver.vala"
	_tmp13_ = gala_window_state_saver_app_windows;
#line 123 "../src/WindowStateSaver.vala"
	_tmp14_ = app_id;
#line 123 "../src/WindowStateSaver.vala"
	_tmp15_ = g_hash_table_lookup (_tmp13_, _tmp14_);
#line 123 "../src/WindowStateSaver.vala"
	_tmp16_ = value;
#line 123 "../src/WindowStateSaver.vala"
	g_array_insert_val ((GArray*) _tmp15_, (guint) window_index, _tmp16_);
#line 125 "../src/WindowStateSaver.vala"
	meta_window_get_frame_rect (window, &_tmp17_);
#line 125 "../src/WindowStateSaver.vala"
	frame_rect = _tmp17_;
#line 128 "../src/WindowStateSaver.vala"
	_tmp18_ = gala_window_state_saver_db;
#line 128 "../src/WindowStateSaver.vala"
	_tmp19_ = frame_rect;
#line 128 "../src/WindowStateSaver.vala"
	_tmp20_ = frame_rect;
#line 128 "../src/WindowStateSaver.vala"
	_tmp21_ = frame_rect;
#line 128 "../src/WindowStateSaver.vala"
	_tmp22_ = frame_rect;
#line 128 "../src/WindowStateSaver.vala"
	_tmp23_ = app_id;
#line 128 "../src/WindowStateSaver.vala"
	_tmp24_ = g_strdup_printf ("UPDATE apps SET last_x = '%d', last_y = '%d', last_width = '%d', last_" \
"height = '%d' WHERE app_id = '%s' AND window_index = '%d';", _tmp19_.x, _tmp20_.y, _tmp21_.width, _tmp22_.height, _tmp23_, window_index);
#line 128 "../src/WindowStateSaver.vala"
	_tmp25_ = _tmp24_;
#line 128 "../src/WindowStateSaver.vala"
	_tmp27_ = sqlite3_prepare_v2 (_tmp18_, _tmp25_, -1, &_tmp26_, NULL);
#line 128 "../src/WindowStateSaver.vala"
	_sqlite3_finalize0 (stmt);
#line 128 "../src/WindowStateSaver.vala"
	stmt = _tmp26_;
#line 128 "../src/WindowStateSaver.vala"
	_tmp28_ = _tmp27_;
#line 128 "../src/WindowStateSaver.vala"
	_g_free0 (_tmp25_);
#line 128 "../src/WindowStateSaver.vala"
	rc = _tmp28_;
#line 134 "../src/WindowStateSaver.vala"
	if (rc == SQLITE_OK) {
#line 877 "WindowStateSaver.c"
		sqlite3_stmt* _tmp29_;
#line 135 "../src/WindowStateSaver.vala"
		_tmp29_ = stmt;
#line 135 "../src/WindowStateSaver.vala"
		rc = sqlite3_step (_tmp29_);
#line 136 "../src/WindowStateSaver.vala"
		if (rc == SQLITE_DONE) {
#line 137 "../src/WindowStateSaver.vala"
			_sqlite3_finalize0 (stmt);
#line 137 "../src/WindowStateSaver.vala"
			_g_free0 (app_id);
#line 137 "../src/WindowStateSaver.vala"
			return;
#line 891 "WindowStateSaver.c"
		}
	}
#line 141 "../src/WindowStateSaver.vala"
	_tmp30_ = gala_window_state_saver_db;
#line 141 "../src/WindowStateSaver.vala"
	_tmp31_ = sqlite3_errmsg (_tmp30_);
#line 141 "../src/WindowStateSaver.vala"
	g_critical ("WindowStateSaver.vala:141: Cannot update app position in database: %d," \
" %s", rc, _tmp31_);
#line 117 "../src/WindowStateSaver.vala"
	_sqlite3_finalize0 (stmt);
#line 117 "../src/WindowStateSaver.vala"
	_g_free0 (app_id);
#line 904 "WindowStateSaver.c"
}

static gint
gala_window_state_saver_find_window_index (MetaWindow* window,
                                           const gchar* app_id)
{
	GHashTable* _tmp0_;
	GArray* windows_list = NULL;
	GHashTable* _tmp1_;
	gconstpointer _tmp2_;
	gint first_null = 0;
	GArray* _tmp13_;
	gint result;
#line 144 "../src/WindowStateSaver.vala"
	g_return_val_if_fail (window != NULL, 0);
#line 144 "../src/WindowStateSaver.vala"
	g_return_val_if_fail (app_id != NULL, 0);
#line 144 "../src/WindowStateSaver.vala"
	_tmp0_ = gala_window_state_saver_app_windows;
#line 144 "../src/WindowStateSaver.vala"
	_vala_return_val_if_fail (g_hash_table_contains (_tmp0_, app_id), "app_id in app_windows", 0);
#line 145 "../src/WindowStateSaver.vala"
	_tmp1_ = gala_window_state_saver_app_windows;
#line 145 "../src/WindowStateSaver.vala"
	_tmp2_ = g_hash_table_lookup (_tmp1_, app_id);
#line 145 "../src/WindowStateSaver.vala"
	windows_list = (GArray*) _tmp2_;
#line 146 "../src/WindowStateSaver.vala"
	first_null = -1;
#line 934 "WindowStateSaver.c"
	{
		gint i = 0;
#line 147 "../src/WindowStateSaver.vala"
		i = 0;
#line 939 "WindowStateSaver.c"
		{
			gboolean _tmp3_ = FALSE;
#line 147 "../src/WindowStateSaver.vala"
			_tmp3_ = TRUE;
#line 147 "../src/WindowStateSaver.vala"
			while (TRUE) {
#line 946 "WindowStateSaver.c"
				GArray* _tmp5_;
				MetaWindow* w = NULL;
				GArray* _tmp6_;
				gpointer* _tmp7_;
				gint _tmp7__length1;
				MetaWindow* _tmp8_;
				MetaWindow* _tmp9_;
				MetaWindow* _tmp10_;
				gboolean _tmp11_ = FALSE;
				MetaWindow* _tmp12_;
#line 147 "../src/WindowStateSaver.vala"
				if (!_tmp3_) {
#line 959 "WindowStateSaver.c"
					gint _tmp4_;
#line 147 "../src/WindowStateSaver.vala"
					_tmp4_ = i;
#line 147 "../src/WindowStateSaver.vala"
					i = _tmp4_ + 1;
#line 965 "WindowStateSaver.c"
				}
#line 147 "../src/WindowStateSaver.vala"
				_tmp3_ = FALSE;
#line 147 "../src/WindowStateSaver.vala"
				_tmp5_ = windows_list;
#line 147 "../src/WindowStateSaver.vala"
				if (!(((guint) i) < _tmp5_->len)) {
#line 147 "../src/WindowStateSaver.vala"
					break;
#line 975 "WindowStateSaver.c"
				}
#line 148 "../src/WindowStateSaver.vala"
				_tmp6_ = windows_list;
#line 148 "../src/WindowStateSaver.vala"
				_tmp7_ = _tmp6_->data;
#line 148 "../src/WindowStateSaver.vala"
				_tmp7__length1 = _tmp6_->len;
#line 148 "../src/WindowStateSaver.vala"
				_tmp8_ = _tmp7_[i];
#line 148 "../src/WindowStateSaver.vala"
				_tmp9_ = _g_object_ref0 (_tmp8_);
#line 148 "../src/WindowStateSaver.vala"
				w = _tmp9_;
#line 149 "../src/WindowStateSaver.vala"
				_tmp10_ = w;
#line 149 "../src/WindowStateSaver.vala"
				if (_tmp10_ == window) {
#line 150 "../src/WindowStateSaver.vala"
					result = i;
#line 150 "../src/WindowStateSaver.vala"
					_g_object_unref0 (w);
#line 150 "../src/WindowStateSaver.vala"
					return result;
#line 999 "WindowStateSaver.c"
				}
#line 153 "../src/WindowStateSaver.vala"
				_tmp12_ = w;
#line 153 "../src/WindowStateSaver.vala"
				if (_tmp12_ == NULL) {
#line 153 "../src/WindowStateSaver.vala"
					_tmp11_ = first_null == -1;
#line 1007 "WindowStateSaver.c"
				} else {
#line 153 "../src/WindowStateSaver.vala"
					_tmp11_ = FALSE;
#line 1011 "WindowStateSaver.c"
				}
#line 153 "../src/WindowStateSaver.vala"
				if (_tmp11_) {
#line 154 "../src/WindowStateSaver.vala"
					first_null = i;
#line 1017 "WindowStateSaver.c"
				}
#line 147 "../src/WindowStateSaver.vala"
				_g_object_unref0 (w);
#line 1021 "WindowStateSaver.c"
			}
		}
	}
#line 158 "../src/WindowStateSaver.vala"
	if (first_null != -1) {
#line 159 "../src/WindowStateSaver.vala"
		result = first_null;
#line 159 "../src/WindowStateSaver.vala"
		return result;
#line 1031 "WindowStateSaver.c"
	}
#line 162 "../src/WindowStateSaver.vala"
	_tmp13_ = windows_list;
#line 162 "../src/WindowStateSaver.vala"
	result = (gint) _tmp13_->len;
#line 162 "../src/WindowStateSaver.vala"
	return result;
#line 1039 "WindowStateSaver.c"
}

GalaWindowStateSaver*
gala_window_state_saver_construct (GType object_type)
{
	GalaWindowStateSaver * self = NULL;
#line 6 "../src/WindowStateSaver.vala"
	self = (GalaWindowStateSaver*) g_object_new (object_type, NULL);
#line 6 "../src/WindowStateSaver.vala"
	return self;
#line 1050 "WindowStateSaver.c"
}

GalaWindowStateSaver*
gala_window_state_saver_new (void)
{
#line 6 "../src/WindowStateSaver.vala"
	return gala_window_state_saver_construct (GALA_TYPE_WINDOW_STATE_SAVER);
#line 1058 "WindowStateSaver.c"
}

static void
gala_window_state_saver_class_init (GalaWindowStateSaverClass * klass,
                                    gpointer klass_data)
{
#line 6 "../src/WindowStateSaver.vala"
	gala_window_state_saver_parent_class = g_type_class_peek_parent (klass);
#line 6 "../src/WindowStateSaver.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_window_state_saver_finalize;
#line 1069 "WindowStateSaver.c"
}

static void
gala_window_state_saver_instance_init (GalaWindowStateSaver * self,
                                       gpointer klass)
{
}

static void
gala_window_state_saver_finalize (GObject * obj)
{
	GalaWindowStateSaver * self;
#line 6 "../src/WindowStateSaver.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_WINDOW_STATE_SAVER, GalaWindowStateSaver);
#line 6 "../src/WindowStateSaver.vala"
	G_OBJECT_CLASS (gala_window_state_saver_parent_class)->finalize (obj);
#line 1086 "WindowStateSaver.c"
}

 G_GNUC_NO_INLINE static GType
gala_window_state_saver_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaWindowStateSaverClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_window_state_saver_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaWindowStateSaver), 0, (GInstanceInitFunc) gala_window_state_saver_instance_init, NULL };
	GType gala_window_state_saver_type_id;
	gala_window_state_saver_type_id = g_type_register_static (G_TYPE_OBJECT, "GalaWindowStateSaver", &g_define_type_info, 0);
	return gala_window_state_saver_type_id;
}

GType
gala_window_state_saver_get_type (void)
{
	static gsize gala_window_state_saver_type_id__once = 0;
	if (g_once_init_enter (&gala_window_state_saver_type_id__once)) {
		GType gala_window_state_saver_type_id;
		gala_window_state_saver_type_id = gala_window_state_saver_get_type_once ();
		g_once_init_leave (&gala_window_state_saver_type_id__once, gala_window_state_saver_type_id);
	}
	return gala_window_state_saver_type_id__once;
}

