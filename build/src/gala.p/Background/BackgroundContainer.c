/* BackgroundContainer.c generated by valac 0.56.17, the Vala compiler
 * generated from BackgroundContainer.vala, do not modify */

/**/
/*  Copyright (C) 2013 Tom Beckmann, Rico Tzschichholz*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <meta/meta-background-group.h>
#include <glib-object.h>
#include "gala.h"
#include <meta/meta-monitor-manager.h>
#include <meta/meta-plugin.h>
#include <meta/display.h>
#include <meta/meta-context.h>
#include <meta/meta-backend.h>
#include <glib.h>
#include <clutter/clutter.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>

#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_BACKGROUND_CONTAINER (gala_background_container_get_type ())
#define GALA_BACKGROUND_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer))
#define GALA_BACKGROUND_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainerClass))
#define GALA_IS_BACKGROUND_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BACKGROUND_CONTAINER))
#define GALA_IS_BACKGROUND_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BACKGROUND_CONTAINER))
#define GALA_BACKGROUND_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainerClass))

typedef struct _GalaBackgroundContainer GalaBackgroundContainer;
typedef struct _GalaBackgroundContainerClass GalaBackgroundContainerClass;
typedef struct _GalaBackgroundContainerPrivate GalaBackgroundContainerPrivate;
enum  {
	GALA_BACKGROUND_CONTAINER_0_PROPERTY,
	GALA_BACKGROUND_CONTAINER_WM_PROPERTY,
	GALA_BACKGROUND_CONTAINER_NUM_PROPERTIES
};
static GParamSpec* gala_background_container_properties[GALA_BACKGROUND_CONTAINER_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define __vala_ClutterColor_free0(var) ((var == NULL) ? NULL : (var = (_vala_ClutterColor_free (var), NULL)))

#define GALA_TYPE_BACKGROUND_MANAGER (gala_background_manager_get_type ())
#define GALA_BACKGROUND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManager))
#define GALA_BACKGROUND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManagerClass))
#define GALA_IS_BACKGROUND_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BACKGROUND_MANAGER))
#define GALA_IS_BACKGROUND_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BACKGROUND_MANAGER))
#define GALA_BACKGROUND_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BACKGROUND_MANAGER, GalaBackgroundManagerClass))

typedef struct _GalaBackgroundManager GalaBackgroundManager;
typedef struct _GalaBackgroundManagerClass GalaBackgroundManagerClass;
enum  {
	GALA_BACKGROUND_CONTAINER_CHANGED_SIGNAL,
	GALA_BACKGROUND_CONTAINER_SHOW_BACKGROUND_MENU_SIGNAL,
	GALA_BACKGROUND_CONTAINER_NUM_SIGNALS
};
static guint gala_background_container_signals[GALA_BACKGROUND_CONTAINER_NUM_SIGNALS] = {0};

struct _GalaBackgroundContainer {
	MetaBackgroundGroup parent_instance;
	GalaBackgroundContainerPrivate * priv;
};

struct _GalaBackgroundContainerClass {
	MetaBackgroundGroupClass parent_class;
};

struct _GalaBackgroundContainerPrivate {
	GalaWindowManager* _wm;
};

static gint GalaBackgroundContainer_private_offset;
static gpointer gala_background_container_parent_class = NULL;

VALA_EXTERN GType gala_background_container_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBackgroundContainer, g_object_unref)
VALA_EXTERN GalaWindowManager* gala_background_container_get_wm (GalaBackgroundContainer* self);
static void gala_background_container_update (GalaBackgroundContainer* self);
static void _gala_background_container_update_meta_monitor_manager_monitors_changed (MetaMonitorManager* _sender,
                                                                              gpointer self);
VALA_EXTERN GalaBackgroundContainer* gala_background_container_new (GalaWindowManager* wm);
VALA_EXTERN GalaBackgroundContainer* gala_background_container_construct (GType object_type,
                                                              GalaWindowManager* wm);
VALA_EXTERN void gala_background_container_set_black_background (GalaBackgroundContainer* self,
                                                     gboolean black);
static void _vala_ClutterColor_free (ClutterColor* self);
VALA_EXTERN GType gala_background_manager_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBackgroundManager, g_object_unref)
static void gala_background_container_background_changed (GalaBackgroundContainer* self);
static void _gala_background_container_background_changed_gala_background_manager_changed (GalaBackgroundManager* _sender,
                                                                                    gpointer self);
VALA_EXTERN GalaBackgroundManager* gala_background_manager_new (GalaWindowManager* wm,
                                                    gint monitor_index,
                                                    gboolean control_position);
VALA_EXTERN GalaBackgroundManager* gala_background_manager_construct (GType object_type,
                                                          GalaWindowManager* wm,
                                                          gint monitor_index,
                                                          gboolean control_position);
static void gala_background_container_set_wm (GalaBackgroundContainer* self,
                                       GalaWindowManager* value);
static void g_cclosure_user_marshal_VOID__INT_INT (GClosure * closure,
                                            GValue * return_value,
                                            guint n_param_values,
                                            const GValue * param_values,
                                            gpointer invocation_hint,
                                            gpointer marshal_data);
static GObject * gala_background_container_constructor (GType type,
                                                 guint n_construct_properties,
                                                 GObjectConstructParam * construct_properties);
static gboolean _gala_background_container___lambda148_ (GalaBackgroundContainer* self,
                                                  ClutterEvent* event);
static gboolean __gala_background_container___lambda148__clutter_actor_button_release_event (ClutterActor* _sender,
                                                                                      ClutterEvent* event,
                                                                                      gpointer self);
static void gala_background_container_finalize (GObject * obj);
static GType gala_background_container_get_type_once (void);
static void _vala_gala_background_container_get_property (GObject * object,
                                                   guint property_id,
                                                   GValue * value,
                                                   GParamSpec * pspec);
static void _vala_gala_background_container_set_property (GObject * object,
                                                   guint property_id,
                                                   const GValue * value,
                                                   GParamSpec * pspec);

static inline gpointer
gala_background_container_get_instance_private (GalaBackgroundContainer* self)
{
	return G_STRUCT_MEMBER_P (self, GalaBackgroundContainer_private_offset);
}

static void
_gala_background_container_update_meta_monitor_manager_monitors_changed (MetaMonitorManager* _sender,
                                                                         gpointer self)
{
#line 48 "../src/Background/BackgroundContainer.vala"
	gala_background_container_update ((GalaBackgroundContainer*) self);
#line 169 "BackgroundContainer.c"
}

GalaBackgroundContainer*
gala_background_container_construct (GType object_type,
                                     GalaWindowManager* wm)
{
	GalaBackgroundContainer * self = NULL;
#line 25 "../src/Background/BackgroundContainer.vala"
	g_return_val_if_fail (wm != NULL, NULL);
#line 26 "../src/Background/BackgroundContainer.vala"
	self = (GalaBackgroundContainer*) g_object_new (object_type, "wm", wm, NULL);
#line 25 "../src/Background/BackgroundContainer.vala"
	return self;
#line 183 "BackgroundContainer.c"
}

GalaBackgroundContainer*
gala_background_container_new (GalaWindowManager* wm)
{
#line 25 "../src/Background/BackgroundContainer.vala"
	return gala_background_container_construct (GALA_TYPE_BACKGROUND_CONTAINER, wm);
#line 191 "BackgroundContainer.c"
}

static ClutterColor*
_vala_clutter_color_from_string (const gchar* str)
{
	ClutterColor* color = NULL;
	ClutterColor* _tmp0_;
	ClutterColor* result;
#line 7865 "mutter-clutter-14.vapi"
	g_return_val_if_fail (str != NULL, NULL);
#line 7866 "mutter-clutter-14.vapi"
	_tmp0_ = clutter_color_alloc ();
#line 7866 "mutter-clutter-14.vapi"
	color = _tmp0_;
#line 7867 "mutter-clutter-14.vapi"
	clutter_color_from_string (color, str);
#line 7868 "mutter-clutter-14.vapi"
	result = color;
#line 7868 "mutter-clutter-14.vapi"
	return result;
#line 212 "BackgroundContainer.c"
}

static void
_vala_ClutterColor_free (ClutterColor* self)
{
#line 52 "../src/Background/BackgroundContainer.vala"
	g_boxed_free (clutter_color_get_type (), self);
#line 220 "BackgroundContainer.c"
}

void
gala_background_container_set_black_background (GalaBackgroundContainer* self,
                                                gboolean black)
{
	ClutterColor* _tmp0_ = NULL;
#line 51 "../src/Background/BackgroundContainer.vala"
	g_return_if_fail (self != NULL);
#line 52 "../src/Background/BackgroundContainer.vala"
	if (black) {
#line 232 "BackgroundContainer.c"
		ClutterColor* _tmp1_;
#line 52 "../src/Background/BackgroundContainer.vala"
		_tmp1_ = _vala_clutter_color_from_string ("Black");
#line 52 "../src/Background/BackgroundContainer.vala"
		__vala_ClutterColor_free0 (_tmp0_);
#line 52 "../src/Background/BackgroundContainer.vala"
		_tmp0_ = _tmp1_;
#line 240 "BackgroundContainer.c"
	} else {
#line 52 "../src/Background/BackgroundContainer.vala"
		__vala_ClutterColor_free0 (_tmp0_);
#line 52 "../src/Background/BackgroundContainer.vala"
		_tmp0_ = NULL;
#line 246 "BackgroundContainer.c"
	}
#line 52 "../src/Background/BackgroundContainer.vala"
	clutter_actor_set_background_color ((ClutterActor*) self, _tmp0_);
#line 51 "../src/Background/BackgroundContainer.vala"
	__vala_ClutterColor_free0 (_tmp0_);
#line 252 "BackgroundContainer.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 56 "../src/Background/BackgroundContainer.vala"
	return self ? g_object_ref (self) : NULL;
#line 260 "BackgroundContainer.c"
}

static void
_gala_background_container_background_changed_gala_background_manager_changed (GalaBackgroundManager* _sender,
                                                                               gpointer self)
{
#line 58 "../src/Background/BackgroundContainer.vala"
	gala_background_container_background_changed ((GalaBackgroundContainer*) self);
#line 269 "BackgroundContainer.c"
}

static void
gala_background_container_update (GalaBackgroundContainer* self)
{
	GalaBackgroundManager* reference_child = NULL;
	ClutterActor* _tmp0_;
	GalaBackgroundManager* _tmp1_;
	GalaBackgroundManager* _tmp2_;
#line 55 "../src/Background/BackgroundContainer.vala"
	g_return_if_fail (self != NULL);
#line 56 "../src/Background/BackgroundContainer.vala"
	_tmp0_ = clutter_actor_get_child_at_index ((ClutterActor*) self, 0);
#line 56 "../src/Background/BackgroundContainer.vala"
	_tmp1_ = _g_object_ref0 (GALA_IS_BACKGROUND_MANAGER (_tmp0_) ? ((GalaBackgroundManager*) _tmp0_) : NULL);
#line 56 "../src/Background/BackgroundContainer.vala"
	reference_child = _tmp1_;
#line 57 "../src/Background/BackgroundContainer.vala"
	_tmp2_ = reference_child;
#line 57 "../src/Background/BackgroundContainer.vala"
	if (_tmp2_ != NULL) {
#line 291 "BackgroundContainer.c"
		GalaBackgroundManager* _tmp3_;
		guint _tmp4_;
#line 58 "../src/Background/BackgroundContainer.vala"
		_tmp3_ = reference_child;
#line 58 "../src/Background/BackgroundContainer.vala"
		g_signal_parse_name ("changed", GALA_TYPE_BACKGROUND_MANAGER, &_tmp4_, NULL, FALSE);
#line 58 "../src/Background/BackgroundContainer.vala"
		g_signal_handlers_disconnect_matched (_tmp3_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _gala_background_container_background_changed_gala_background_manager_changed, self);
#line 300 "BackgroundContainer.c"
	}
#line 60 "../src/Background/BackgroundContainer.vala"
	clutter_actor_destroy_all_children ((ClutterActor*) self);
#line 304 "BackgroundContainer.c"
	{
		gint i = 0;
#line 62 "../src/Background/BackgroundContainer.vala"
		i = 0;
#line 309 "BackgroundContainer.c"
		{
			gboolean _tmp5_ = FALSE;
#line 62 "../src/Background/BackgroundContainer.vala"
			_tmp5_ = TRUE;
#line 62 "../src/Background/BackgroundContainer.vala"
			while (TRUE) {
#line 316 "BackgroundContainer.c"
				GalaWindowManager* _tmp7_;
				MetaDisplay* _tmp8_;
				GalaBackgroundManager* background = NULL;
				GalaWindowManager* _tmp9_;
				GalaBackgroundManager* _tmp10_;
				GalaBackgroundManager* _tmp11_;
#line 62 "../src/Background/BackgroundContainer.vala"
				if (!_tmp5_) {
#line 325 "BackgroundContainer.c"
					gint _tmp6_;
#line 62 "../src/Background/BackgroundContainer.vala"
					_tmp6_ = i;
#line 62 "../src/Background/BackgroundContainer.vala"
					i = _tmp6_ + 1;
#line 331 "BackgroundContainer.c"
				}
#line 62 "../src/Background/BackgroundContainer.vala"
				_tmp5_ = FALSE;
#line 62 "../src/Background/BackgroundContainer.vala"
				_tmp7_ = self->priv->_wm;
#line 62 "../src/Background/BackgroundContainer.vala"
				_tmp8_ = meta_plugin_get_display ((MetaPlugin*) _tmp7_);
#line 62 "../src/Background/BackgroundContainer.vala"
				if (!(i < meta_display_get_n_monitors (_tmp8_))) {
#line 62 "../src/Background/BackgroundContainer.vala"
					break;
#line 343 "BackgroundContainer.c"
				}
#line 63 "../src/Background/BackgroundContainer.vala"
				_tmp9_ = self->priv->_wm;
#line 63 "../src/Background/BackgroundContainer.vala"
				_tmp10_ = gala_background_manager_new (_tmp9_, i, TRUE);
#line 63 "../src/Background/BackgroundContainer.vala"
				g_object_ref_sink (_tmp10_);
#line 63 "../src/Background/BackgroundContainer.vala"
				background = _tmp10_;
#line 65 "../src/Background/BackgroundContainer.vala"
				_tmp11_ = background;
#line 65 "../src/Background/BackgroundContainer.vala"
				clutter_actor_add_child ((ClutterActor*) self, (ClutterActor*) _tmp11_);
#line 67 "../src/Background/BackgroundContainer.vala"
				if (i == 0) {
#line 359 "BackgroundContainer.c"
					GalaBackgroundManager* _tmp12_;
#line 68 "../src/Background/BackgroundContainer.vala"
					_tmp12_ = background;
#line 68 "../src/Background/BackgroundContainer.vala"
					g_signal_connect_object (_tmp12_, "changed", (GCallback) _gala_background_container_background_changed_gala_background_manager_changed, self, 0);
#line 365 "BackgroundContainer.c"
				}
#line 62 "../src/Background/BackgroundContainer.vala"
				_g_object_unref0 (background);
#line 369 "BackgroundContainer.c"
			}
		}
	}
#line 55 "../src/Background/BackgroundContainer.vala"
	_g_object_unref0 (reference_child);
#line 375 "BackgroundContainer.c"
}

static void
gala_background_container_background_changed (GalaBackgroundContainer* self)
{
#line 72 "../src/Background/BackgroundContainer.vala"
	g_return_if_fail (self != NULL);
#line 73 "../src/Background/BackgroundContainer.vala"
	g_signal_emit (self, gala_background_container_signals[GALA_BACKGROUND_CONTAINER_CHANGED_SIGNAL], 0);
#line 385 "BackgroundContainer.c"
}

GalaWindowManager*
gala_background_container_get_wm (GalaBackgroundContainer* self)
{
	GalaWindowManager* result;
	GalaWindowManager* _tmp0_;
#line 23 "../src/Background/BackgroundContainer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 23 "../src/Background/BackgroundContainer.vala"
	_tmp0_ = self->priv->_wm;
#line 23 "../src/Background/BackgroundContainer.vala"
	result = _tmp0_;
#line 23 "../src/Background/BackgroundContainer.vala"
	return result;
#line 401 "BackgroundContainer.c"
}

static void
gala_background_container_set_wm (GalaBackgroundContainer* self,
                                  GalaWindowManager* value)
{
	GalaWindowManager* old_value;
#line 23 "../src/Background/BackgroundContainer.vala"
	g_return_if_fail (self != NULL);
#line 23 "../src/Background/BackgroundContainer.vala"
	old_value = gala_background_container_get_wm (self);
#line 23 "../src/Background/BackgroundContainer.vala"
	if (old_value != value) {
#line 415 "BackgroundContainer.c"
		GalaWindowManager* _tmp0_;
#line 23 "../src/Background/BackgroundContainer.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 23 "../src/Background/BackgroundContainer.vala"
		_g_object_unref0 (self->priv->_wm);
#line 23 "../src/Background/BackgroundContainer.vala"
		self->priv->_wm = _tmp0_;
#line 23 "../src/Background/BackgroundContainer.vala"
		g_object_notify_by_pspec ((GObject *) self, gala_background_container_properties[GALA_BACKGROUND_CONTAINER_WM_PROPERTY]);
#line 425 "BackgroundContainer.c"
	}
}

static void
g_cclosure_user_marshal_VOID__INT_INT (GClosure * closure,
                                       GValue * return_value,
                                       guint n_param_values,
                                       const GValue * param_values,
                                       gpointer invocation_hint,
                                       gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__INT_INT) (gpointer data1, gint arg_1, gint arg_2, gpointer data2);
	register GMarshalFunc_VOID__INT_INT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 19 "../src/Background/BackgroundContainer.vala"
	g_return_if_fail (n_param_values == 3);
#line 19 "../src/Background/BackgroundContainer.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 19 "../src/Background/BackgroundContainer.vala"
		data1 = closure->data;
#line 19 "../src/Background/BackgroundContainer.vala"
		data2 = param_values->data[0].v_pointer;
#line 451 "BackgroundContainer.c"
	} else {
#line 19 "../src/Background/BackgroundContainer.vala"
		data1 = param_values->data[0].v_pointer;
#line 19 "../src/Background/BackgroundContainer.vala"
		data2 = closure->data;
#line 457 "BackgroundContainer.c"
	}
#line 19 "../src/Background/BackgroundContainer.vala"
	callback = (GMarshalFunc_VOID__INT_INT) (marshal_data ? marshal_data : cc->callback);
#line 19 "../src/Background/BackgroundContainer.vala"
	callback (data1, g_value_get_int (param_values + 1), g_value_get_int (param_values + 2), data2);
#line 463 "BackgroundContainer.c"
}

static gboolean
_gala_background_container___lambda148_ (GalaBackgroundContainer* self,
                                         ClutterEvent* event)
{
	gfloat x = 0.0F;
	gfloat y = 0.0F;
	gfloat _tmp0_ = 0.0F;
	gfloat _tmp1_ = 0.0F;
#line 34 "../src/Background/BackgroundContainer.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 36 "../src/Background/BackgroundContainer.vala"
	clutter_event_get_coords (event, &_tmp0_, &_tmp1_);
#line 36 "../src/Background/BackgroundContainer.vala"
	x = _tmp0_;
#line 36 "../src/Background/BackgroundContainer.vala"
	y = _tmp1_;
#line 37 "../src/Background/BackgroundContainer.vala"
	if (clutter_event_get_button (event) == CLUTTER_BUTTON_SECONDARY) {
#line 38 "../src/Background/BackgroundContainer.vala"
		g_signal_emit (self, gala_background_container_signals[GALA_BACKGROUND_CONTAINER_SHOW_BACKGROUND_MENU_SIGNAL], 0, (gint) x, (gint) y);
#line 486 "BackgroundContainer.c"
	}
}

static gboolean
__gala_background_container___lambda148__clutter_actor_button_release_event (ClutterActor* _sender,
                                                                             ClutterEvent* event,
                                                                             gpointer self)
{
	gboolean result;
	result = _gala_background_container___lambda148_ ((GalaBackgroundContainer*) self, event);
#line 34 "../src/Background/BackgroundContainer.vala"
	return result;
#line 499 "BackgroundContainer.c"
}

static GObject *
gala_background_container_constructor (GType type,
                                       guint n_construct_properties,
                                       GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GalaBackgroundContainer * self;
	MetaMonitorManager* monitor_manager = NULL;
	GalaWindowManager* _tmp0_;
	MetaDisplay* _tmp1_;
	MetaContext* _tmp2_;
	MetaBackend* _tmp3_;
	MetaMonitorManager* _tmp4_;
	MetaMonitorManager* _tmp5_;
#line 29 "../src/Background/BackgroundContainer.vala"
	parent_class = G_OBJECT_CLASS (gala_background_container_parent_class);
#line 29 "../src/Background/BackgroundContainer.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 29 "../src/Background/BackgroundContainer.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer);
#line 30 "../src/Background/BackgroundContainer.vala"
	_tmp0_ = self->priv->_wm;
#line 30 "../src/Background/BackgroundContainer.vala"
	_tmp1_ = meta_plugin_get_display ((MetaPlugin*) _tmp0_);
#line 30 "../src/Background/BackgroundContainer.vala"
	_tmp2_ = meta_display_get_context (_tmp1_);
#line 30 "../src/Background/BackgroundContainer.vala"
	_tmp3_ = meta_context_get_backend (_tmp2_);
#line 30 "../src/Background/BackgroundContainer.vala"
	_tmp4_ = meta_backend_get_monitor_manager (_tmp3_);
#line 30 "../src/Background/BackgroundContainer.vala"
	monitor_manager = _tmp4_;
#line 31 "../src/Background/BackgroundContainer.vala"
	_tmp5_ = monitor_manager;
#line 31 "../src/Background/BackgroundContainer.vala"
	g_signal_connect_object (_tmp5_, "monitors-changed", (GCallback) _gala_background_container_update_meta_monitor_manager_monitors_changed, self, 0);
#line 33 "../src/Background/BackgroundContainer.vala"
	clutter_actor_set_reactive ((ClutterActor*) self, TRUE);
#line 34 "../src/Background/BackgroundContainer.vala"
	g_signal_connect_object ((ClutterActor*) self, "button-release-event", (GCallback) __gala_background_container___lambda148__clutter_actor_button_release_event, self, 0);
#line 42 "../src/Background/BackgroundContainer.vala"
	gala_background_container_set_black_background (self, TRUE);
#line 43 "../src/Background/BackgroundContainer.vala"
	gala_background_container_update (self);
#line 29 "../src/Background/BackgroundContainer.vala"
	return obj;
#line 549 "BackgroundContainer.c"
}

static void
gala_background_container_class_init (GalaBackgroundContainerClass * klass,
                                      gpointer klass_data)
{
#line 19 "../src/Background/BackgroundContainer.vala"
	gala_background_container_parent_class = g_type_class_peek_parent (klass);
#line 19 "../src/Background/BackgroundContainer.vala"
	g_type_class_adjust_private_offset (klass, &GalaBackgroundContainer_private_offset);
#line 19 "../src/Background/BackgroundContainer.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_gala_background_container_get_property;
#line 19 "../src/Background/BackgroundContainer.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_gala_background_container_set_property;
#line 19 "../src/Background/BackgroundContainer.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_background_container_constructor;
#line 19 "../src/Background/BackgroundContainer.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_background_container_finalize;
#line 19 "../src/Background/BackgroundContainer.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_BACKGROUND_CONTAINER_WM_PROPERTY, gala_background_container_properties[GALA_BACKGROUND_CONTAINER_WM_PROPERTY] = g_param_spec_object ("wm", "wm", "wm", GALA_TYPE_WINDOW_MANAGER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 19 "../src/Background/BackgroundContainer.vala"
	gala_background_container_signals[GALA_BACKGROUND_CONTAINER_CHANGED_SIGNAL] = g_signal_new ("changed", GALA_TYPE_BACKGROUND_CONTAINER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 19 "../src/Background/BackgroundContainer.vala"
	gala_background_container_signals[GALA_BACKGROUND_CONTAINER_SHOW_BACKGROUND_MENU_SIGNAL] = g_signal_new ("show-background-menu", GALA_TYPE_BACKGROUND_CONTAINER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__INT_INT, G_TYPE_NONE, 2, G_TYPE_INT, G_TYPE_INT);
#line 574 "BackgroundContainer.c"
}

static void
gala_background_container_instance_init (GalaBackgroundContainer * self,
                                         gpointer klass)
{
#line 19 "../src/Background/BackgroundContainer.vala"
	self->priv = gala_background_container_get_instance_private (self);
#line 583 "BackgroundContainer.c"
}

static void
gala_background_container_finalize (GObject * obj)
{
	GalaBackgroundContainer * self;
	MetaMonitorManager* monitor_manager = NULL;
	GalaWindowManager* _tmp0_;
	MetaDisplay* _tmp1_;
	MetaContext* _tmp2_;
	MetaBackend* _tmp3_;
	MetaMonitorManager* _tmp4_;
	MetaMonitorManager* _tmp5_;
	guint _tmp6_;
#line 19 "../src/Background/BackgroundContainer.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer);
#line 47 "../src/Background/BackgroundContainer.vala"
	_tmp0_ = self->priv->_wm;
#line 47 "../src/Background/BackgroundContainer.vala"
	_tmp1_ = meta_plugin_get_display ((MetaPlugin*) _tmp0_);
#line 47 "../src/Background/BackgroundContainer.vala"
	_tmp2_ = meta_display_get_context (_tmp1_);
#line 47 "../src/Background/BackgroundContainer.vala"
	_tmp3_ = meta_context_get_backend (_tmp2_);
#line 47 "../src/Background/BackgroundContainer.vala"
	_tmp4_ = meta_backend_get_monitor_manager (_tmp3_);
#line 47 "../src/Background/BackgroundContainer.vala"
	monitor_manager = _tmp4_;
#line 48 "../src/Background/BackgroundContainer.vala"
	_tmp5_ = monitor_manager;
#line 48 "../src/Background/BackgroundContainer.vala"
	g_signal_parse_name ("monitors-changed", meta_monitor_manager_get_type (), &_tmp6_, NULL, FALSE);
#line 48 "../src/Background/BackgroundContainer.vala"
	g_signal_handlers_disconnect_matched (_tmp5_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp6_, 0, NULL, (GCallback) _gala_background_container_update_meta_monitor_manager_monitors_changed, self);
#line 23 "../src/Background/BackgroundContainer.vala"
	_g_object_unref0 (self->priv->_wm);
#line 19 "../src/Background/BackgroundContainer.vala"
	G_OBJECT_CLASS (gala_background_container_parent_class)->finalize (obj);
#line 622 "BackgroundContainer.c"
}

 G_GNUC_NO_INLINE static GType
gala_background_container_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaBackgroundContainerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_background_container_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaBackgroundContainer), 0, (GInstanceInitFunc) gala_background_container_instance_init, NULL };
	GType gala_background_container_type_id;
	gala_background_container_type_id = g_type_register_static (meta_background_group_get_type (), "GalaBackgroundContainer", &g_define_type_info, 0);
	GalaBackgroundContainer_private_offset = g_type_add_instance_private (gala_background_container_type_id, sizeof (GalaBackgroundContainerPrivate));
	return gala_background_container_type_id;
}

GType
gala_background_container_get_type (void)
{
	static gsize gala_background_container_type_id__once = 0;
	if (g_once_init_enter (&gala_background_container_type_id__once)) {
		GType gala_background_container_type_id;
		gala_background_container_type_id = gala_background_container_get_type_once ();
		g_once_init_leave (&gala_background_container_type_id__once, gala_background_container_type_id);
	}
	return gala_background_container_type_id__once;
}

static void
_vala_gala_background_container_get_property (GObject * object,
                                              guint property_id,
                                              GValue * value,
                                              GParamSpec * pspec)
{
	GalaBackgroundContainer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer);
#line 19 "../src/Background/BackgroundContainer.vala"
	switch (property_id) {
#line 19 "../src/Background/BackgroundContainer.vala"
		case GALA_BACKGROUND_CONTAINER_WM_PROPERTY:
#line 19 "../src/Background/BackgroundContainer.vala"
		g_value_set_object (value, gala_background_container_get_wm (self));
#line 19 "../src/Background/BackgroundContainer.vala"
		break;
#line 663 "BackgroundContainer.c"
		default:
#line 19 "../src/Background/BackgroundContainer.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 19 "../src/Background/BackgroundContainer.vala"
		break;
#line 669 "BackgroundContainer.c"
	}
}

static void
_vala_gala_background_container_set_property (GObject * object,
                                              guint property_id,
                                              const GValue * value,
                                              GParamSpec * pspec)
{
	GalaBackgroundContainer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_BACKGROUND_CONTAINER, GalaBackgroundContainer);
#line 19 "../src/Background/BackgroundContainer.vala"
	switch (property_id) {
#line 19 "../src/Background/BackgroundContainer.vala"
		case GALA_BACKGROUND_CONTAINER_WM_PROPERTY:
#line 19 "../src/Background/BackgroundContainer.vala"
		gala_background_container_set_wm (self, g_value_get_object (value));
#line 19 "../src/Background/BackgroundContainer.vala"
		break;
#line 689 "BackgroundContainer.c"
		default:
#line 19 "../src/Background/BackgroundContainer.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 19 "../src/Background/BackgroundContainer.vala"
		break;
#line 695 "BackgroundContainer.c"
	}
}

