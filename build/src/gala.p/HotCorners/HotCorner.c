/* HotCorner.c generated by valac 0.56.17, the Vala compiler
 * generated from HotCorner.vala, do not modify */

/*
 * Copyright 2021 elementary, Inc (https://elementary.io)
 *           2021 José Expósito <jose.exposito89@gmail.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <meta/meta-backend.h>
#include <float.h>
#include <math.h>
#include <mtk/mtk.h>
#include <clutter/clutter.h>
#include <meta/barrier.h>

#define GALA_HOT_CORNER_POSITION_TOP_LEFT "hotcorner-topleft"
#define GALA_HOT_CORNER_POSITION_TOP_RIGHT "hotcorner-topright"
#define GALA_HOT_CORNER_POSITION_BOTTOM_LEFT "hotcorner-bottomleft"
#define GALA_HOT_CORNER_POSITION_BOTTOM_RIGHT "hotcorner-bottomright"
#define GALA_HOT_CORNER_BARRIER_SIZE 30
#define GALA_HOT_CORNER_TRIGGER_PRESSURE_THRESHOLD 50
#define GALA_HOT_CORNER_RELEASE_PRESSURE_THRESHOLD 100
#define GALA_HOT_CORNER_RETRIGGER_PRESSURE_THRESHOLD 500
#define GALA_HOT_CORNER_RETRIGGER_DELAY 600
#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define GALA_TYPE_HOT_CORNER (gala_hot_corner_get_type ())
#define GALA_HOT_CORNER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_HOT_CORNER, GalaHotCorner))
#define GALA_HOT_CORNER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_HOT_CORNER, GalaHotCornerClass))
#define GALA_IS_HOT_CORNER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_HOT_CORNER))
#define GALA_IS_HOT_CORNER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_HOT_CORNER))
#define GALA_HOT_CORNER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_HOT_CORNER, GalaHotCornerClass))

typedef struct _GalaHotCorner GalaHotCorner;
typedef struct _GalaHotCornerClass GalaHotCornerClass;
typedef struct _GalaHotCornerPrivate GalaHotCornerPrivate;

#define GALA_TYPE_BARRIER (gala_barrier_get_type ())
#define GALA_BARRIER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_BARRIER, GalaBarrier))
#define GALA_BARRIER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_BARRIER, GalaBarrierClass))
#define GALA_IS_BARRIER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_BARRIER))
#define GALA_IS_BARRIER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_BARRIER))
#define GALA_BARRIER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_BARRIER, GalaBarrierClass))

typedef struct _GalaBarrier GalaBarrier;
typedef struct _GalaBarrierClass GalaBarrierClass;
enum  {
	GALA_HOT_CORNER_0_PROPERTY,
	GALA_HOT_CORNER_NUM_PROPERTIES
};
static GParamSpec* gala_hot_corner_properties[GALA_HOT_CORNER_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
enum  {
	GALA_HOT_CORNER_TRIGGER_SIGNAL,
	GALA_HOT_CORNER_NUM_SIGNALS
};
static guint gala_hot_corner_signals[GALA_HOT_CORNER_NUM_SIGNALS] = {0};

struct _GalaHotCorner {
	GObject parent_instance;
	GalaHotCornerPrivate * priv;
};

struct _GalaHotCornerClass {
	GObjectClass parent_class;
};

struct _GalaHotCornerPrivate {
	GalaBarrier* vertical_barrier;
	GalaBarrier* horizontal_barrier;
};

static gint GalaHotCorner_private_offset;
static gpointer gala_hot_corner_parent_class = NULL;

VALA_EXTERN GType gala_hot_corner_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaHotCorner, g_object_unref)
VALA_EXTERN GType gala_barrier_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GalaBarrier, g_object_unref)
VALA_EXTERN GalaHotCorner* gala_hot_corner_new (MetaBackend* backend,
                                    gfloat x,
                                    gfloat y,
                                    gfloat scale,
                                    const gchar* hot_corner_position);
VALA_EXTERN GalaHotCorner* gala_hot_corner_construct (GType object_type,
                                          MetaBackend* backend,
                                          gfloat x,
                                          gfloat y,
                                          gfloat scale,
                                          const gchar* hot_corner_position);
static void gala_hot_corner_add_barriers (GalaHotCorner* self,
                                   MetaBackend* backend,
                                   gfloat x,
                                   gfloat y,
                                   gfloat scale,
                                   const gchar* hot_corner_position);
VALA_EXTERN void gala_hot_corner_destroy_barriers (GalaHotCorner* self);
static void gala_hot_corner_get_barrier_rect (gfloat x,
                                       gfloat y,
                                       gfloat scale,
                                       const gchar* hot_corner_position,
                                       ClutterOrientation orientation,
                                       MtkRectangle* result);
static MetaBarrierDirection gala_hot_corner_get_barrier_direction (const gchar* hot_corner_position,
                                                            ClutterOrientation orientation);
VALA_EXTERN GalaBarrier* gala_barrier_new (MetaBackend* backend,
                               gint x1,
                               gint y1,
                               gint x2,
                               gint y2,
                               MetaBarrierDirection directions,
                               gint trigger_pressure_threshold,
                               gint release_pressure_threshold,
                               gint retrigger_pressure_threshold,
                               gint retrigger_delay);
VALA_EXTERN GalaBarrier* gala_barrier_construct (GType object_type,
                                     MetaBackend* backend,
                                     gint x1,
                                     gint y1,
                                     gint x2,
                                     gint y2,
                                     MetaBarrierDirection directions,
                                     gint trigger_pressure_threshold,
                                     gint release_pressure_threshold,
                                     gint retrigger_pressure_threshold,
                                     gint retrigger_delay);
static void gala_hot_corner_on_barrier_trigger (GalaHotCorner* self);
static void _gala_hot_corner_on_barrier_trigger_gala_barrier_trigger (GalaBarrier* _sender,
                                                               gpointer self);
VALA_EXTERN gint gala_internal_utils_scale_to_int (gint value,
                                       gfloat scale_factor);
VALA_EXTERN gboolean gala_barrier_get_triggered (GalaBarrier* self);
static void gala_hot_corner_finalize (GObject * obj);
static GType gala_hot_corner_get_type_once (void);

static inline gpointer
gala_hot_corner_get_instance_private (GalaHotCorner* self)
{
	return G_STRUCT_MEMBER_P (self, GalaHotCorner_private_offset);
}

GalaHotCorner*
gala_hot_corner_construct (GType object_type,
                           MetaBackend* backend,
                           gfloat x,
                           gfloat y,
                           gfloat scale,
                           const gchar* hot_corner_position)
{
	GalaHotCorner * self = NULL;
#line 51 "../src/HotCorners/HotCorner.vala"
	g_return_val_if_fail (backend != NULL, NULL);
#line 51 "../src/HotCorners/HotCorner.vala"
	g_return_val_if_fail (hot_corner_position != NULL, NULL);
#line 51 "../src/HotCorners/HotCorner.vala"
	self = (GalaHotCorner*) g_object_new (object_type, NULL);
#line 52 "../src/HotCorners/HotCorner.vala"
	gala_hot_corner_add_barriers (self, backend, x, y, scale, hot_corner_position);
#line 51 "../src/HotCorners/HotCorner.vala"
	return self;
#line 195 "HotCorner.c"
}

GalaHotCorner*
gala_hot_corner_new (MetaBackend* backend,
                     gfloat x,
                     gfloat y,
                     gfloat scale,
                     const gchar* hot_corner_position)
{
#line 51 "../src/HotCorners/HotCorner.vala"
	return gala_hot_corner_construct (GALA_TYPE_HOT_CORNER, backend, x, y, scale, hot_corner_position);
#line 207 "HotCorner.c"
}

void
gala_hot_corner_destroy_barriers (GalaHotCorner* self)
{
#line 55 "../src/HotCorners/HotCorner.vala"
	g_return_if_fail (self != NULL);
#line 56 "../src/HotCorners/HotCorner.vala"
	_g_object_unref0 (self->priv->vertical_barrier);
#line 56 "../src/HotCorners/HotCorner.vala"
	self->priv->vertical_barrier = NULL;
#line 57 "../src/HotCorners/HotCorner.vala"
	_g_object_unref0 (self->priv->horizontal_barrier);
#line 57 "../src/HotCorners/HotCorner.vala"
	self->priv->horizontal_barrier = NULL;
#line 223 "HotCorner.c"
}

static void
_gala_hot_corner_on_barrier_trigger_gala_barrier_trigger (GalaBarrier* _sender,
                                                          gpointer self)
{
#line 84 "../src/HotCorners/HotCorner.vala"
	gala_hot_corner_on_barrier_trigger ((GalaHotCorner*) self);
#line 232 "HotCorner.c"
}

static void
gala_hot_corner_add_barriers (GalaHotCorner* self,
                              MetaBackend* backend,
                              gfloat x,
                              gfloat y,
                              gfloat scale,
                              const gchar* hot_corner_position)
{
	MtkRectangle vrect = {0};
	MtkRectangle _tmp0_ = {0};
	MtkRectangle hrect = {0};
	MtkRectangle _tmp1_ = {0};
	MetaBarrierDirection vdir = 0U;
	MetaBarrierDirection hdir = 0U;
	MtkRectangle _tmp2_;
	MtkRectangle _tmp3_;
	MtkRectangle _tmp4_;
	MtkRectangle _tmp5_;
	MtkRectangle _tmp6_;
	MtkRectangle _tmp7_;
	GalaBarrier* _tmp8_;
	MtkRectangle _tmp9_;
	MtkRectangle _tmp10_;
	MtkRectangle _tmp11_;
	MtkRectangle _tmp12_;
	MtkRectangle _tmp13_;
	MtkRectangle _tmp14_;
	GalaBarrier* _tmp15_;
	GalaBarrier* _tmp16_;
	GalaBarrier* _tmp17_;
#line 60 "../src/HotCorners/HotCorner.vala"
	g_return_if_fail (self != NULL);
#line 60 "../src/HotCorners/HotCorner.vala"
	g_return_if_fail (backend != NULL);
#line 60 "../src/HotCorners/HotCorner.vala"
	g_return_if_fail (hot_corner_position != NULL);
#line 61 "../src/HotCorners/HotCorner.vala"
	gala_hot_corner_get_barrier_rect (x, y, scale, hot_corner_position, CLUTTER_ORIENTATION_VERTICAL, &_tmp0_);
#line 61 "../src/HotCorners/HotCorner.vala"
	vrect = _tmp0_;
#line 62 "../src/HotCorners/HotCorner.vala"
	gala_hot_corner_get_barrier_rect (x, y, scale, hot_corner_position, CLUTTER_ORIENTATION_HORIZONTAL, &_tmp1_);
#line 62 "../src/HotCorners/HotCorner.vala"
	hrect = _tmp1_;
#line 63 "../src/HotCorners/HotCorner.vala"
	vdir = gala_hot_corner_get_barrier_direction (hot_corner_position, CLUTTER_ORIENTATION_VERTICAL);
#line 64 "../src/HotCorners/HotCorner.vala"
	hdir = gala_hot_corner_get_barrier_direction (hot_corner_position, CLUTTER_ORIENTATION_HORIZONTAL);
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp2_ = vrect;
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp3_ = vrect;
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp4_ = vrect;
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp5_ = vrect;
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp6_ = vrect;
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp7_ = vrect;
#line 66 "../src/HotCorners/HotCorner.vala"
	_tmp8_ = gala_barrier_new (backend, _tmp2_.x, _tmp3_.y, _tmp4_.x + _tmp5_.width, _tmp6_.y + _tmp7_.height, vdir, GALA_HOT_CORNER_TRIGGER_PRESSURE_THRESHOLD, GALA_HOT_CORNER_RELEASE_PRESSURE_THRESHOLD, GALA_HOT_CORNER_RETRIGGER_PRESSURE_THRESHOLD, GALA_HOT_CORNER_RETRIGGER_DELAY);
#line 66 "../src/HotCorners/HotCorner.vala"
	_g_object_unref0 (self->priv->vertical_barrier);
#line 66 "../src/HotCorners/HotCorner.vala"
	self->priv->vertical_barrier = _tmp8_;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp9_ = hrect;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp10_ = hrect;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp11_ = hrect;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp12_ = hrect;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp13_ = hrect;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp14_ = hrect;
#line 75 "../src/HotCorners/HotCorner.vala"
	_tmp15_ = gala_barrier_new (backend, _tmp9_.x, _tmp10_.y, _tmp11_.x + _tmp12_.width, _tmp13_.y + _tmp14_.height, hdir, GALA_HOT_CORNER_TRIGGER_PRESSURE_THRESHOLD, GALA_HOT_CORNER_RELEASE_PRESSURE_THRESHOLD, GALA_HOT_CORNER_RETRIGGER_PRESSURE_THRESHOLD, GALA_HOT_CORNER_RETRIGGER_DELAY);
#line 75 "../src/HotCorners/HotCorner.vala"
	_g_object_unref0 (self->priv->horizontal_barrier);
#line 75 "../src/HotCorners/HotCorner.vala"
	self->priv->horizontal_barrier = _tmp15_;
#line 84 "../src/HotCorners/HotCorner.vala"
	_tmp16_ = self->priv->vertical_barrier;
#line 84 "../src/HotCorners/HotCorner.vala"
	g_signal_connect_object (_tmp16_, "trigger", (GCallback) _gala_hot_corner_on_barrier_trigger_gala_barrier_trigger, self, 0);
#line 85 "../src/HotCorners/HotCorner.vala"
	_tmp17_ = self->priv->horizontal_barrier;
#line 85 "../src/HotCorners/HotCorner.vala"
	g_signal_connect_object (_tmp17_, "trigger", (GCallback) _gala_hot_corner_on_barrier_trigger_gala_barrier_trigger, self, 0);
#line 327 "HotCorner.c"
}

static MetaBarrierDirection
gala_hot_corner_get_barrier_direction (const gchar* hot_corner_position,
                                       ClutterOrientation orientation)
{
	gboolean vert = FALSE;
	const gchar* _tmp0_;
	GQuark _tmp2_ = 0U;
#line 90 "../src/HotCorners/HotCorner.vala"
	static GQuark _tmp1_label0 = 0;
#line 90 "../src/HotCorners/HotCorner.vala"
	static GQuark _tmp1_label1 = 0;
#line 90 "../src/HotCorners/HotCorner.vala"
	static GQuark _tmp1_label2 = 0;
#line 343 "HotCorner.c"
	MetaBarrierDirection result;
#line 88 "../src/HotCorners/HotCorner.vala"
	g_return_val_if_fail (hot_corner_position != NULL, 0U);
#line 89 "../src/HotCorners/HotCorner.vala"
	vert = orientation == CLUTTER_ORIENTATION_VERTICAL;
#line 90 "../src/HotCorners/HotCorner.vala"
	_tmp0_ = hot_corner_position;
#line 90 "../src/HotCorners/HotCorner.vala"
	_tmp2_ = (NULL == _tmp0_) ? 0 : g_quark_from_string (_tmp0_);
#line 90 "../src/HotCorners/HotCorner.vala"
	if (_tmp2_ == ((0 != _tmp1_label0) ? _tmp1_label0 : (_tmp1_label0 = g_quark_from_static_string (GALA_HOT_CORNER_POSITION_TOP_LEFT)))) {
#line 90 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 357 "HotCorner.c"
			default:
			{
				MetaBarrierDirection _tmp3_ = 0U;
#line 92 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 92 "../src/HotCorners/HotCorner.vala"
					_tmp3_ = META_BARRIER_DIRECTION_POSITIVE_X;
#line 365 "HotCorner.c"
				} else {
#line 92 "../src/HotCorners/HotCorner.vala"
					_tmp3_ = META_BARRIER_DIRECTION_POSITIVE_Y;
#line 369 "HotCorner.c"
				}
#line 92 "../src/HotCorners/HotCorner.vala"
				result = _tmp3_;
#line 92 "../src/HotCorners/HotCorner.vala"
				return result;
#line 375 "HotCorner.c"
			}
		}
	} else if (_tmp2_ == ((0 != _tmp1_label1) ? _tmp1_label1 : (_tmp1_label1 = g_quark_from_static_string (GALA_HOT_CORNER_POSITION_TOP_RIGHT)))) {
#line 90 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 381 "HotCorner.c"
			default:
			{
				MetaBarrierDirection _tmp4_ = 0U;
#line 94 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 94 "../src/HotCorners/HotCorner.vala"
					_tmp4_ = META_BARRIER_DIRECTION_NEGATIVE_X;
#line 389 "HotCorner.c"
				} else {
#line 94 "../src/HotCorners/HotCorner.vala"
					_tmp4_ = META_BARRIER_DIRECTION_POSITIVE_Y;
#line 393 "HotCorner.c"
				}
#line 94 "../src/HotCorners/HotCorner.vala"
				result = _tmp4_;
#line 94 "../src/HotCorners/HotCorner.vala"
				return result;
#line 399 "HotCorner.c"
			}
		}
	} else if (_tmp2_ == ((0 != _tmp1_label2) ? _tmp1_label2 : (_tmp1_label2 = g_quark_from_static_string (GALA_HOT_CORNER_POSITION_BOTTOM_LEFT)))) {
#line 90 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 405 "HotCorner.c"
			default:
			{
				MetaBarrierDirection _tmp5_ = 0U;
#line 96 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 96 "../src/HotCorners/HotCorner.vala"
					_tmp5_ = META_BARRIER_DIRECTION_POSITIVE_X;
#line 413 "HotCorner.c"
				} else {
#line 96 "../src/HotCorners/HotCorner.vala"
					_tmp5_ = META_BARRIER_DIRECTION_NEGATIVE_Y;
#line 417 "HotCorner.c"
				}
#line 96 "../src/HotCorners/HotCorner.vala"
				result = _tmp5_;
#line 96 "../src/HotCorners/HotCorner.vala"
				return result;
#line 423 "HotCorner.c"
			}
		}
	} else {
#line 90 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 429 "HotCorner.c"
			default:
			{
				MetaBarrierDirection _tmp6_ = 0U;
#line 99 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 99 "../src/HotCorners/HotCorner.vala"
					_tmp6_ = META_BARRIER_DIRECTION_NEGATIVE_X;
#line 437 "HotCorner.c"
				} else {
#line 99 "../src/HotCorners/HotCorner.vala"
					_tmp6_ = META_BARRIER_DIRECTION_NEGATIVE_Y;
#line 441 "HotCorner.c"
				}
#line 99 "../src/HotCorners/HotCorner.vala"
				result = _tmp6_;
#line 99 "../src/HotCorners/HotCorner.vala"
				return result;
#line 447 "HotCorner.c"
			}
		}
	}
}

static void
gala_hot_corner_get_barrier_rect (gfloat x,
                                  gfloat y,
                                  gfloat scale,
                                  const gchar* hot_corner_position,
                                  ClutterOrientation orientation,
                                  MtkRectangle* result)
{
	gint barrier_size = 0;
	gint x1 = 0;
	gint y1 = 0;
	gint x2 = 0;
	gint y2 = 0;
	gboolean vert = FALSE;
	const gchar* _tmp0_;
	GQuark _tmp2_ = 0U;
#line 116 "../src/HotCorners/HotCorner.vala"
	static GQuark _tmp1_label0 = 0;
#line 116 "../src/HotCorners/HotCorner.vala"
	static GQuark _tmp1_label1 = 0;
#line 116 "../src/HotCorners/HotCorner.vala"
	static GQuark _tmp1_label2 = 0;
#line 475 "HotCorner.c"
	MtkRectangle _tmp11_ = {0};
#line 104 "../src/HotCorners/HotCorner.vala"
	g_return_if_fail (hot_corner_position != NULL);
#line 108 "../src/HotCorners/HotCorner.vala"
	barrier_size = gala_internal_utils_scale_to_int (GALA_HOT_CORNER_BARRIER_SIZE, scale);
#line 110 "../src/HotCorners/HotCorner.vala"
	x1 = (gint) x;
#line 111 "../src/HotCorners/HotCorner.vala"
	y1 = (gint) y;
#line 115 "../src/HotCorners/HotCorner.vala"
	vert = orientation == CLUTTER_ORIENTATION_VERTICAL;
#line 116 "../src/HotCorners/HotCorner.vala"
	_tmp0_ = hot_corner_position;
#line 116 "../src/HotCorners/HotCorner.vala"
	_tmp2_ = (NULL == _tmp0_) ? 0 : g_quark_from_string (_tmp0_);
#line 116 "../src/HotCorners/HotCorner.vala"
	if (_tmp2_ == ((0 != _tmp1_label0) ? _tmp1_label0 : (_tmp1_label0 = g_quark_from_static_string (GALA_HOT_CORNER_POSITION_TOP_LEFT)))) {
#line 116 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 495 "HotCorner.c"
			default:
			{
				gint _tmp3_ = 0;
				gint _tmp4_ = 0;
#line 118 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 118 "../src/HotCorners/HotCorner.vala"
					_tmp3_ = x1;
#line 504 "HotCorner.c"
				} else {
#line 118 "../src/HotCorners/HotCorner.vala"
					_tmp3_ = x1 + barrier_size;
#line 508 "HotCorner.c"
				}
#line 118 "../src/HotCorners/HotCorner.vala"
				x2 = _tmp3_;
#line 119 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 119 "../src/HotCorners/HotCorner.vala"
					_tmp4_ = y1 + barrier_size;
#line 516 "HotCorner.c"
				} else {
#line 119 "../src/HotCorners/HotCorner.vala"
					_tmp4_ = y1;
#line 520 "HotCorner.c"
				}
#line 119 "../src/HotCorners/HotCorner.vala"
				y2 = _tmp4_;
#line 120 "../src/HotCorners/HotCorner.vala"
				break;
#line 526 "HotCorner.c"
			}
		}
	} else if (_tmp2_ == ((0 != _tmp1_label1) ? _tmp1_label1 : (_tmp1_label1 = g_quark_from_static_string (GALA_HOT_CORNER_POSITION_TOP_RIGHT)))) {
#line 116 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 532 "HotCorner.c"
			default:
			{
				gint _tmp5_ = 0;
				gint _tmp6_ = 0;
#line 122 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 122 "../src/HotCorners/HotCorner.vala"
					_tmp5_ = x1;
#line 541 "HotCorner.c"
				} else {
#line 122 "../src/HotCorners/HotCorner.vala"
					_tmp5_ = x1 - barrier_size;
#line 545 "HotCorner.c"
				}
#line 122 "../src/HotCorners/HotCorner.vala"
				x2 = _tmp5_;
#line 123 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 123 "../src/HotCorners/HotCorner.vala"
					_tmp6_ = y1 + barrier_size;
#line 553 "HotCorner.c"
				} else {
#line 123 "../src/HotCorners/HotCorner.vala"
					_tmp6_ = y1;
#line 557 "HotCorner.c"
				}
#line 123 "../src/HotCorners/HotCorner.vala"
				y2 = _tmp6_;
#line 124 "../src/HotCorners/HotCorner.vala"
				break;
#line 563 "HotCorner.c"
			}
		}
	} else if (_tmp2_ == ((0 != _tmp1_label2) ? _tmp1_label2 : (_tmp1_label2 = g_quark_from_static_string (GALA_HOT_CORNER_POSITION_BOTTOM_LEFT)))) {
#line 116 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 569 "HotCorner.c"
			default:
			{
				gint _tmp7_ = 0;
				gint _tmp8_ = 0;
#line 126 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 126 "../src/HotCorners/HotCorner.vala"
					_tmp7_ = x1;
#line 578 "HotCorner.c"
				} else {
#line 126 "../src/HotCorners/HotCorner.vala"
					_tmp7_ = x1 + barrier_size;
#line 582 "HotCorner.c"
				}
#line 126 "../src/HotCorners/HotCorner.vala"
				x2 = _tmp7_;
#line 127 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 127 "../src/HotCorners/HotCorner.vala"
					_tmp8_ = y1 - barrier_size;
#line 590 "HotCorner.c"
				} else {
#line 127 "../src/HotCorners/HotCorner.vala"
					_tmp8_ = y1;
#line 594 "HotCorner.c"
				}
#line 127 "../src/HotCorners/HotCorner.vala"
				y2 = _tmp8_;
#line 128 "../src/HotCorners/HotCorner.vala"
				break;
#line 600 "HotCorner.c"
			}
		}
	} else {
#line 116 "../src/HotCorners/HotCorner.vala"
		switch (0) {
#line 606 "HotCorner.c"
			default:
			{
				gint _tmp9_ = 0;
				gint _tmp10_ = 0;
#line 131 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 131 "../src/HotCorners/HotCorner.vala"
					_tmp9_ = x1;
#line 615 "HotCorner.c"
				} else {
#line 131 "../src/HotCorners/HotCorner.vala"
					_tmp9_ = x1 - barrier_size;
#line 619 "HotCorner.c"
				}
#line 131 "../src/HotCorners/HotCorner.vala"
				x2 = _tmp9_;
#line 132 "../src/HotCorners/HotCorner.vala"
				if (vert) {
#line 132 "../src/HotCorners/HotCorner.vala"
					_tmp10_ = y1 - barrier_size;
#line 627 "HotCorner.c"
				} else {
#line 132 "../src/HotCorners/HotCorner.vala"
					_tmp10_ = y1;
#line 631 "HotCorner.c"
				}
#line 132 "../src/HotCorners/HotCorner.vala"
				y2 = _tmp10_;
#line 133 "../src/HotCorners/HotCorner.vala"
				break;
#line 637 "HotCorner.c"
			}
		}
	}
#line 136 "../src/HotCorners/HotCorner.vala"
	_tmp11_.x = x1;
#line 136 "../src/HotCorners/HotCorner.vala"
	_tmp11_.y = y1;
#line 136 "../src/HotCorners/HotCorner.vala"
	_tmp11_.width = x2 - x1;
#line 136 "../src/HotCorners/HotCorner.vala"
	_tmp11_.height = y2 - y1;
#line 136 "../src/HotCorners/HotCorner.vala"
	*result = _tmp11_;
#line 136 "../src/HotCorners/HotCorner.vala"
	return;
#line 653 "HotCorner.c"
}

static void
gala_hot_corner_on_barrier_trigger (GalaHotCorner* self)
{
	gboolean _tmp0_ = FALSE;
	GalaBarrier* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
#line 139 "../src/HotCorners/HotCorner.vala"
	g_return_if_fail (self != NULL);
#line 140 "../src/HotCorners/HotCorner.vala"
	_tmp1_ = self->priv->vertical_barrier;
#line 140 "../src/HotCorners/HotCorner.vala"
	_tmp2_ = gala_barrier_get_triggered (_tmp1_);
#line 140 "../src/HotCorners/HotCorner.vala"
	_tmp3_ = _tmp2_;
#line 140 "../src/HotCorners/HotCorner.vala"
	if (_tmp3_) {
#line 673 "HotCorner.c"
		GalaBarrier* _tmp4_;
		gboolean _tmp5_;
		gboolean _tmp6_;
#line 140 "../src/HotCorners/HotCorner.vala"
		_tmp4_ = self->priv->horizontal_barrier;
#line 140 "../src/HotCorners/HotCorner.vala"
		_tmp5_ = gala_barrier_get_triggered (_tmp4_);
#line 140 "../src/HotCorners/HotCorner.vala"
		_tmp6_ = _tmp5_;
#line 140 "../src/HotCorners/HotCorner.vala"
		_tmp0_ = _tmp6_;
#line 685 "HotCorner.c"
	} else {
#line 140 "../src/HotCorners/HotCorner.vala"
		_tmp0_ = FALSE;
#line 689 "HotCorner.c"
	}
#line 140 "../src/HotCorners/HotCorner.vala"
	if (_tmp0_) {
#line 141 "../src/HotCorners/HotCorner.vala"
		g_signal_emit (self, gala_hot_corner_signals[GALA_HOT_CORNER_TRIGGER_SIGNAL], 0);
#line 695 "HotCorner.c"
	}
}

static void
gala_hot_corner_class_init (GalaHotCornerClass * klass,
                            gpointer klass_data)
{
#line 19 "../src/HotCorners/HotCorner.vala"
	gala_hot_corner_parent_class = g_type_class_peek_parent (klass);
#line 19 "../src/HotCorners/HotCorner.vala"
	g_type_class_adjust_private_offset (klass, &GalaHotCorner_private_offset);
#line 19 "../src/HotCorners/HotCorner.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_hot_corner_finalize;
#line 19 "../src/HotCorners/HotCorner.vala"
	gala_hot_corner_signals[GALA_HOT_CORNER_TRIGGER_SIGNAL] = g_signal_new ("trigger", GALA_TYPE_HOT_CORNER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 711 "HotCorner.c"
}

static void
gala_hot_corner_instance_init (GalaHotCorner * self,
                               gpointer klass)
{
#line 19 "../src/HotCorners/HotCorner.vala"
	self->priv = gala_hot_corner_get_instance_private (self);
#line 48 "../src/HotCorners/HotCorner.vala"
	self->priv->vertical_barrier = NULL;
#line 49 "../src/HotCorners/HotCorner.vala"
	self->priv->horizontal_barrier = NULL;
#line 724 "HotCorner.c"
}

static void
gala_hot_corner_finalize (GObject * obj)
{
	GalaHotCorner * self;
#line 19 "../src/HotCorners/HotCorner.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_HOT_CORNER, GalaHotCorner);
#line 48 "../src/HotCorners/HotCorner.vala"
	_g_object_unref0 (self->priv->vertical_barrier);
#line 49 "../src/HotCorners/HotCorner.vala"
	_g_object_unref0 (self->priv->horizontal_barrier);
#line 19 "../src/HotCorners/HotCorner.vala"
	G_OBJECT_CLASS (gala_hot_corner_parent_class)->finalize (obj);
#line 739 "HotCorner.c"
}

 G_GNUC_NO_INLINE static GType
gala_hot_corner_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GalaHotCornerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_hot_corner_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaHotCorner), 0, (GInstanceInitFunc) gala_hot_corner_instance_init, NULL };
	GType gala_hot_corner_type_id;
	gala_hot_corner_type_id = g_type_register_static (G_TYPE_OBJECT, "GalaHotCorner", &g_define_type_info, 0);
	GalaHotCorner_private_offset = g_type_add_instance_private (gala_hot_corner_type_id, sizeof (GalaHotCornerPrivate));
	return gala_hot_corner_type_id;
}

GType
gala_hot_corner_get_type (void)
{
	static gsize gala_hot_corner_type_id__once = 0;
	if (g_once_init_enter (&gala_hot_corner_type_id__once)) {
		GType gala_hot_corner_type_id;
		gala_hot_corner_type_id = gala_hot_corner_get_type_once ();
		g_once_init_leave (&gala_hot_corner_type_id__once, gala_hot_corner_type_id);
	}
	return gala_hot_corner_type_id__once;
}

